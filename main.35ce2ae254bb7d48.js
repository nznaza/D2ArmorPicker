"use strict";(self.webpackChunkD2ArmorPicker=self.webpackChunkD2ArmorPicker||[]).push([[792],{7445:(Mt,mt,C)=>{C.d(mt,{v:()=>yt});var g=C(5732),t=C(6488),h=C(789);const yt={[g.o.WhisperOfDurance]:{id:g.o.WhisperOfDurance,name:"Whisper of Durance",description:"Slow that you apply to targets lasts longer. For those abilities that linger, their duration will also increase.",type:t.w.Stasis,bonus:[{stat:h.uD.StatMelee,value:10}],cost:1,requiredArmorAffinity:0,hash:3469412969},[g.o.WhisperOfChains]:{id:g.o.WhisperOfChains,name:"Whisper of Chains",description:"While you are near frozen targets or a friendly Stasis crystal, you take reduced damage from targets.",type:t.w.Stasis,bonus:[{stat:h.uD.StatClass,value:10}],cost:1,requiredArmorAffinity:0,hash:537774540},[g.o.WhisperOfConduction]:{id:g.o.WhisperOfConduction,name:"Whisper of Conduction",description:"Nearby Stasis shards track to your position.",type:t.w.Stasis,bonus:[{stat:h.uD.StatSuper,value:10},{stat:h.uD.StatHealth,value:10}],cost:1,requiredArmorAffinity:0,hash:2483898429},[g.o.WhisperOfBonds]:{id:g.o.WhisperOfBonds,name:"Whisper of Bonds",description:"Defeating frozen targets generates an Orb of Power.",type:t.w.Stasis,bonus:[{stat:h.uD.StatSuper,value:-10}],cost:1,requiredArmorAffinity:0,hash:3469412974},[g.o.WhisperOfHunger]:{id:g.o.WhisperOfHunger,name:"Whisper of Hunger",description:"Increases the melee energy gained from picking up Stasis shards.",type:t.w.Stasis,bonus:[{stat:h.uD.StatMelee,value:-20}],cost:1,requiredArmorAffinity:0,hash:2483898431},[g.o.WhisperOfFractures]:{id:g.o.WhisperOfFractures,name:"Whisper of Fractures",description:"Your melee energy recharges faster when you are near two or more targets.",type:t.w.Stasis,bonus:[{stat:h.uD.StatGrenade,value:-10}],cost:1,requiredArmorAffinity:0,hash:537774542},[g.o.WhisperOfImpetus]:{id:g.o.WhisperOfImpetus,name:"Whisper of Impetus",description:"Damaging targets with a Stasis melee reloads your stowed weapons and grants you a temporary boost to weapon ready speed.",type:t.w.Stasis,bonus:[{stat:h.uD.StatHealth,value:10}],cost:1,requiredArmorAffinity:0,hash:537774543},[g.o.WhisperOfTorment]:{id:g.o.WhisperOfTorment,name:"Whisper of Torment",description:"You gain grenade energy each time you take damage from targets. Having Frost Armor increases the amount of energy gained.",type:t.w.Stasis,bonus:[{stat:h.uD.StatGrenade,value:-10}],cost:1,requiredArmorAffinity:0,hash:537774541},[g.o.EchoOfExpulsion]:{id:g.o.EchoOfExpulsion,name:"Echo of Expulsion",description:"Void ability final blows cause targets to explode.",type:t.w.Void,bonus:[{stat:h.uD.StatSuper,value:10}],cost:1,requiredArmorAffinity:0,hash:2272984665},[g.o.EchoOfProvision]:{id:g.o.EchoOfProvision,name:"Echo of Provision",description:"Damaging targets with grenades grants melee energy.",type:t.w.Void,bonus:[{stat:h.uD.StatGrenade,value:10}],cost:1,requiredArmorAffinity:0,hash:2272984664},[g.o.EchoOfPersistence]:{id:g.o.EchoOfPersistence,name:"Echo of Persistence",description:"Void buffs applied to you (Invisibility, Overshield, and Devour) have increased duration.",type:t.w.Void,bonus:[{stat:h.pe.ClassAbilityRegenerationStat,value:-10}],cost:1,requiredArmorAffinity:0,hash:2272984671},[g.o.EchoOfLeeching]:{id:g.o.EchoOfLeeching,name:"Echo of Leeching",description:"Melee final blows start health regeneration for you and nearby allies.",type:t.w.Void,bonus:[{stat:h.uD.StatHealth,value:10}],cost:1,requiredArmorAffinity:0,hash:2272984670},[g.o.EchoOfDomineering]:{id:g.o.EchoOfDomineering,name:"Echo of Domineering",description:"After suppressing a target, you gain greatly increased mobility for a short duration, and your equipped weapon is reloaded from reserves.\n\nDefeating suppressed targets creates a Void Breach.",type:t.w.Void,bonus:[{stat:h.uD.StatGrenade,value:10}],cost:1,requiredArmorAffinity:0,hash:2272984657},[g.o.EchoOfDilation]:{id:g.o.EchoOfDilation,name:"Echo of Dilation",description:"While crouched, you sneak faster and gain enhanced radar resolution.",type:t.w.Void,bonus:[{stat:h.uD.StatWeapon,value:10},{stat:h.uD.StatSuper,value:10}],cost:1,requiredArmorAffinity:0,hash:2272984656},[g.o.EchoOfUndermining]:{id:g.o.EchoOfUndermining,name:"Echo of Undermining",description:"Your Void grenades weaken targets.",type:t.w.Void,bonus:[{stat:h.uD.StatGrenade,value:-10}],cost:1,requiredArmorAffinity:0,hash:2272984668},[g.o.EchoOfExchange]:{id:g.o.EchoOfExchange,name:"Echo of Exchange",description:"Melee final blows grant grenade energy.",type:t.w.Void,bonus:[{stat:h.uD.StatMelee,value:10}],cost:1,requiredArmorAffinity:0,hash:2272984668},[g.o.EchoOfInstability]:{id:g.o.EchoOfInstability,name:"Echo of Instability",description:"Defeating targets with grenades grants Volatile Rounds to your Void weapons.",type:t.w.Void,bonus:[{stat:h.uD.StatMelee,value:10}],cost:1,requiredArmorAffinity:0,hash:2661180600},[g.o.EchoOfObscurity]:{id:g.o.EchoOfObscurity,name:"Echo of Obscurity",description:"Finisher final blows grant Invisibility.",type:t.w.Void,bonus:[{stat:h.uD.StatClass,value:10}],cost:1,requiredArmorAffinity:0,hash:2661180602},[g.o.EchoOfStarvation]:{id:g.o.EchoOfStarvation,name:"Echo of Starvation",description:"Picking up a Void Breach or an Orb of Power grants Devour.",type:t.w.Void,bonus:[{stat:h.uD.StatClass,value:-10}],cost:1,requiredArmorAffinity:0,hash:2661180603},[g.o.EmberOfBenelovence]:{id:g.o.EmberOfBenelovence,name:"Ember of Benevolence",description:"Applying restoration, cure,  or radiant to allies grants increased grenade, melee, and class ability regeneration for a short duration.",type:t.w.Solar,bonus:[{stat:h.uD.StatGrenade,value:-10}],cost:1,requiredArmorAffinity:0,hash:362132292},[g.o.EmberOfBeams]:{id:g.o.EmberOfBeams,name:"Ember of Beams",description:"Your Solar Super projectiles have stronger target acquisition.",type:t.w.Solar,bonus:[{stat:h.uD.StatSuper,value:10}],cost:1,requiredArmorAffinity:0,hash:362132295},[g.o.EmberOfEmpyrean]:{id:g.o.EmberOfEmpyrean,name:"Ember of Empyrean",description:"Solar weapon or ability final blows extend the duration of restoration and radiant effects applied to you.",type:t.w.Solar,bonus:[{stat:h.uD.StatHealth,value:-10}],cost:1,requiredArmorAffinity:0,hash:362132294},[g.o.EmberOfCombustion]:{id:g.o.EmberOfCombustion,name:"Ember of Combustion",description:"Final blows with a Solar Super causes targets to ignite and creates a Firesprite.",type:t.w.Solar,bonus:[{stat:h.uD.StatMelee,value:10}],cost:1,requiredArmorAffinity:0,hash:362132289},[g.o.EmberOfChar]:{id:g.o.EmberOfChar,name:"Ember of Char",description:"Your Solar ignitions spread scorch to affected targets.",type:t.w.Solar,bonus:[{stat:h.uD.StatGrenade,value:10}],cost:1,requiredArmorAffinity:0,hash:362132291},[g.o.EmberOfTempering]:{id:g.o.EmberOfTempering,name:"Ember of Tempering",description:"Solar weapon final blows grant you and your allies increased recovery for a short duration. Stacks 3 times.\n\nWhile Ember of Tempering is active, your weapons have increased airborne effectiveness, and your Solar weapon final blows create a Firesprite.",type:t.w.Solar,bonus:[{stat:h.uD.StatClass,value:-10}],cost:1,requiredArmorAffinity:0,hash:362132290},[g.o.EmberOfEruption]:{id:g.o.EmberOfEruption,name:"Ember of Eruption",description:"Your Solar ignitions have increased area of effect.",type:t.w.Solar,bonus:[{stat:h.uD.StatMelee,value:10}],cost:1,requiredArmorAffinity:0,hash:1051276348},[g.o.EmberOfWonder]:{id:g.o.EmberOfWonder,name:"Ember of Wonder",description:"Rapidly defeating multiple targets with Solar ignitions generates an Orb of Power.",type:t.w.Solar,bonus:[{stat:h.uD.StatHealth,value:10}],cost:1,requiredArmorAffinity:0,hash:1051276350},[g.o.EmberOfSearing]:{id:g.o.EmberOfSearing,name:"Ember of Searing",description:"Defeating scorched targets grants melee energy and creates a Firesprite.",type:t.w.Solar,bonus:[{stat:h.uD.StatClass,value:10}],cost:1,requiredArmorAffinity:0,hash:1051276351},[g.o.EmberOfTorches]:{id:g.o.EmberOfTorches,name:"Ember of Torches",description:"Powered melee attacks against combatants make you and nearby allies radiant.",type:t.w.Solar,bonus:[{stat:h.uD.StatGrenade,value:-10}],cost:1,requiredArmorAffinity:0,hash:362132288},[g.o.EmberOfMercy]:{id:g.o.EmberOfMercy,name:"Ember of Mercy",description:"When you revive an ally, you and other nearby allies gain restoration.\n\nPicking up a Firesprite grants restoration.",type:t.w.Solar,bonus:[{stat:h.uD.StatHealth,value:10}],cost:1,requiredArmorAffinity:0,hash:4180586737},[g.o.SparkOfBrilliance]:{id:g.o.SparkOfBrilliance,name:"Spark of Brilliance",description:"Defeating a blinded target with precision damage creates a blinding explosion.",type:t.w.Arc,bonus:[{stat:h.uD.StatSuper,value:10}],cost:1,requiredArmorAffinity:0,hash:3277705905},[g.o.SparkOfFeedback]:{id:g.o.SparkOfFeedback,name:"Spark of Feedback",description:"Taking melee damage briefly increases your outgoing melee damage.",type:t.w.Arc,bonus:[{stat:h.uD.StatHealth,value:10}],cost:1,requiredArmorAffinity:0,hash:3277705907},[g.o.SparkOfDischarge]:{id:g.o.SparkOfDischarge,name:"Spark of Discharge",description:"Arc weapon final blows have a chance to create an Ionic Trace.",type:t.w.Arc,bonus:[{stat:h.uD.StatMelee,value:-10}],cost:1,requiredArmorAffinity:0,hash:1727069362},[g.o.SparkOfFocus]:{id:g.o.SparkOfFocus,name:"Spark of Focus",description:"After sprinting for a short time, your class ability regeneration is increased.",type:t.w.Arc,bonus:[{stat:h.pe.ClassAbilityRegenerationStat,value:-10}],cost:1,requiredArmorAffinity:0,hash:1727069360},[g.o.SparkOfVolts]:{id:g.o.SparkOfVolts,name:"Spark of Volts",description:"Finishers make you amplified.",type:t.w.Arc,bonus:[{stat:h.uD.StatClass,value:10}],cost:1,requiredArmorAffinity:0,hash:3277705904},[g.o.SparkOfResistance]:{id:g.o.SparkOfResistance,name:"Spark of Resistance",description:"While surrounded by combatants, you are more resistant to incoming damage.",type:t.w.Arc,bonus:[{stat:h.uD.StatMelee,value:10}],cost:1,requiredArmorAffinity:0,hash:1727069366},[g.o.SparkOfShock]:{id:g.o.SparkOfShock,name:"Spark of Shock",description:"Your Arc grenades jolt targets.",type:t.w.Arc,bonus:[{stat:h.uD.StatGrenade,value:-10}],cost:1,requiredArmorAffinity:0,hash:1727069364},[g.o.ThreadOfFury]:{id:g.o.ThreadOfFury,name:"Thread of Fury",description:"Damaging targets with a Tangle grants melee energy.",type:t.w.Strand,bonus:[{stat:h.uD.StatMelee,value:-10}],cost:1,requiredArmorAffinity:0,hash:4208512219},[g.o.ThreadOfAscent]:{id:g.o.ThreadOfAscent,name:"Thread of Ascent",description:"Activating your grenade ability reloads your equipped weapon and grants bonus airborne effectiveness and handling for a short duration.",type:t.w.Strand,bonus:[{stat:h.uD.StatWeapon,value:10}],cost:1,requiredArmorAffinity:0,hash:4208512216},[g.o.ThreadOfFinality]:{id:g.o.ThreadOfFinality,name:"Thread of Finality",description:"Finisher final blows create Threadlings.",type:t.w.Strand,bonus:[{stat:h.uD.StatClass,value:10}],cost:1,requiredArmorAffinity:0,hash:4208512217},[g.o.ThreadOfWarding]:{id:g.o.ThreadOfWarding,name:"Thread of Warding",description:"Picking up an Orb of Power grants Woven Mail.",type:t.w.Strand,bonus:[{stat:h.uD.StatHealth,value:-10}],cost:1,requiredArmorAffinity:0,hash:4208512222},[g.o.ThreadOfTransmutation]:{id:g.o.ThreadOfTransmutation,name:"Thread of Transmutation",description:"While you have Woven Mail, weapon final blows create a Tangle.",type:t.w.Strand,bonus:[{stat:h.uD.StatMelee,value:10}],cost:1,requiredArmorAffinity:0,hash:4208512221},[g.o.ThreadOfEvolution]:{id:g.o.ThreadOfEvolution,name:"Thread of Evolution",description:"Threadlings travel farther and deal additional damage.",type:t.w.Strand,bonus:[{stat:h.uD.StatSuper,value:10}],cost:1,requiredArmorAffinity:0,hash:4208512211},[g.o.ThreadOfBinding]:{id:g.o.ThreadOfBinding,name:"Thread of Binding",description:"Super final blows emit a suspending burst from the target.",type:t.w.Strand,bonus:[{stat:h.uD.StatHealth,value:10}],cost:1,requiredArmorAffinity:0,hash:3192552688},[g.o.ThreadOfGeneration]:{id:g.o.ThreadOfGeneration,name:"Thread of Generation",description:"Dealing damage generates grenade energy.",type:t.w.Strand,bonus:[{stat:h.uD.StatGrenade,value:-10}],cost:1,requiredArmorAffinity:0,hash:3192552691},[g.o.ThreadOfPropagation]:{id:g.o.ThreadOfPropagation,name:"Thread of Propagation",description:"Powered melee final blows grant your Strand weapons Unraveling Rounds.",type:t.w.Strand,bonus:[{stat:h.uD.StatMelee,value:10}],cost:1,requiredArmorAffinity:0,hash:4208512210},[g.o.FacetOfAwakening]:{id:g.o.FacetOfAwakening,name:"Facet of Awakening",description:"Rapid elemental final blows and Super final blows generate an elemental pickup of the matching damage type.",type:t.w.Prismatic,bonus:[{stat:h.uD.StatHealth,value:10}],cost:1,requiredArmorAffinity:0,hash:124726505},[g.o.FacetOfCourage]:{id:g.o.FacetOfCourage,name:"Facet of Courage",description:"Your Light abilities deal increased damage to targets afflicted with Darkness debuffs.",type:t.w.Prismatic,bonus:[{stat:h.uD.StatGrenade,value:10}],cost:1,requiredArmorAffinity:0,hash:2626922124},[g.o.FacetOfDawn]:{id:g.o.FacetOfDawn,name:"Facet of Dawn",description:"Powered melee hits against targets make you Radiant. Powered melee final blows make both you and nearby allies Radiant.",type:t.w.Prismatic,bonus:[{stat:h.uD.StatMelee,value:-10}],cost:1,requiredArmorAffinity:0,hash:2626922126},[g.o.FacetOfDefiance]:{id:g.o.FacetOfDefiance,name:"Facet of Defiance",description:"Finishers create a detonation that either jolts, scorches, slows, severs, or makes targets volatile based on the damage type of your equipped Super.",type:t.w.Prismatic,bonus:[{stat:h.uD.StatClass,value:10}],cost:1,requiredArmorAffinity:0,hash:74393640},[g.o.FacetOfDevotion]:{id:g.o.FacetOfDevotion,name:"Facet of Devotion",description:"Defeating targets afflicted with a Darkness debuff grants bonus Light Transcendence energy.",type:t.w.Prismatic,bonus:[{stat:h.uD.StatMelee,value:10}],cost:1,requiredArmorAffinity:0,hash:2626922125},[g.o.FacetOfDominance]:{id:g.o.FacetOfDominance,name:"Facet of Dominance",description:"Your Void grenades weaken targets, and your Arc grenades jolt targets.",type:t.w.Prismatic,bonus:[{stat:h.uD.StatGrenade,value:-10}],cost:1,requiredArmorAffinity:0,hash:124726504},[g.o.FacetOfGrace]:{id:g.o.FacetOfGrace,name:"Facet of Grace",description:"Defeating targets with Kinetic weapons grants you bonus Transcendence energy. Defeating targets with your Super grants you and nearby allies bonus Transcendence energy.",type:t.w.Prismatic,bonus:[{stat:h.uD.StatHealth,value:-10}],cost:1,requiredArmorAffinity:0,hash:2626922121},[g.o.FacetOfHonor]:{id:g.o.FacetOfHonor,name:"Facet of Honor",description:"Collecting an elemental pickup or destroying a Tangle grants Transcendence energy of the same type.",type:t.w.Prismatic,bonus:[{stat:h.uD.StatMelee,value:10}],cost:1,requiredArmorAffinity:0,hash:124726501},[g.o.FacetOfJustice]:{id:g.o.FacetOfJustice,name:"Facet of Justice",description:"While Transcendent, your ability final blows explode.",type:t.w.Prismatic,bonus:[{stat:h.uD.StatSuper,value:10}],cost:1,requiredArmorAffinity:0,hash:2626922115},[g.o.FacetOfProtection]:{id:g.o.FacetOfProtection,name:"Facet of Protection",description:"While surrounded by enemies, you are more resistant to incoming damage.",type:t.w.Prismatic,bonus:[{stat:h.uD.StatMelee,value:10}],cost:1,requiredArmorAffinity:0,hash:2626922120},[g.o.FacetOfPurpose]:{id:g.o.FacetOfPurpose,name:"Facet of Purpose",description:"Picking up an Orb of Power grants either Amplified, Restoration, Frost Armor, Woven Mail, or Overshield, based on the damage type of your equipped super.",type:t.w.Prismatic,bonus:[{stat:h.uD.StatClass,value:-10}],cost:1,requiredArmorAffinity:0,hash:124726498},[g.o.FacetOfRuin]:{id:g.o.FacetOfRuin,name:"Facet of Ruin",description:"Increases the size and damage of the burst when you shatter a Stasis crystal or frozen target and increases the area of effect of Solar ignitions.",type:t.w.Prismatic,bonus:[{stat:h.uD.StatWeapon,value:10}],cost:1,requiredArmorAffinity:0,hash:124726499},[g.o.FacetOfSacrifice]:{id:g.o.FacetOfSacrifice,name:"Facet of Sacrifice",description:"While you have a Light buff, ability final blows grant bonus Darkness Transcendence energy.",type:t.w.Prismatic,bonus:[{stat:h.uD.StatGrenade,value:10}],cost:1,requiredArmorAffinity:0,hash:124726502}}},8214:(Mt,mt,C)=>{C.d(mt,{Bi:()=>h,YP:()=>yt,cd:()=>t,qO:()=>g});const g=5,t=5,h=-1,yt=-2},9667:(Mt,mt,C)=>{C.d(mt,{s:()=>g});var g=function(t){return t[t.ArmorSlotNone=0]="ArmorSlotNone",t[t.ArmorSlotHelmet=1]="ArmorSlotHelmet",t[t.ArmorSlotGauntlet=2]="ArmorSlotGauntlet",t[t.ArmorSlotChest=3]="ArmorSlotChest",t[t.ArmorSlotLegs=4]="ArmorSlotLegs",t[t.ArmorSlotClass=5]="ArmorSlotClass",t}(g||{})},789:(Mt,mt,C)=>{C.d(mt,{A2:()=>nt,B0:()=>W,BU:()=>Dt,Bx:()=>xe,C5:()=>Jt,Hz:()=>yt,NC:()=>zt,Nl:()=>X,_S:()=>Rt,dm:()=>d,fe:()=>K,oA:()=>t,pe:()=>A,q7:()=>Ce,uD:()=>h,wy:()=>_,zJ:()=>Bt});var g=C(6488),t=function(k){return k[k.NONE=0]="NONE",k[k.MINOR_WEAPON=1]="MINOR_WEAPON",k[k.MAJOR_WEAPON=2]="MAJOR_WEAPON",k[k.ARTIFICE_WEAPON=3]="ARTIFICE_WEAPON",k[k.MINOR_HEALTH=4]="MINOR_HEALTH",k[k.MAJOR_HEALTH=5]="MAJOR_HEALTH",k[k.ARTIFICE_HEALTH=6]="ARTIFICE_HEALTH",k[k.MINOR_CLASS=7]="MINOR_CLASS",k[k.MAJOR_CLASS=8]="MAJOR_CLASS",k[k.ARTIFICE_CLASS=9]="ARTIFICE_CLASS",k[k.MINOR_GRENADE=10]="MINOR_GRENADE",k[k.MAJOR_GRENADE=11]="MAJOR_GRENADE",k[k.ARTIFICE_GRENADE=12]="ARTIFICE_GRENADE",k[k.MINOR_SUPER=13]="MINOR_SUPER",k[k.MAJOR_SUPER=14]="MAJOR_SUPER",k[k.ARTIFICE_SUPER=15]="ARTIFICE_SUPER",k[k.MINOR_MELEE=16]="MINOR_MELEE",k[k.MAJOR_MELEE=17]="MAJOR_MELEE",k[k.ARTIFICE_MELEE=18]="ARTIFICE_MELEE",k}(t||{}),h=function(k){return k[k.StatWeapon=0]="StatWeapon",k[k.StatHealth=1]="StatHealth",k[k.StatClass=2]="StatClass",k[k.StatGrenade=3]="StatGrenade",k[k.StatSuper=4]="StatSuper",k[k.StatMelee=5]="StatMelee",k}(h||{});const yt=[h.StatHealth,h.StatMelee,h.StatGrenade,h.StatSuper,h.StatClass,h.StatWeapon],K={[t.NONE]:[h.StatMelee,0,0,0],[t.MINOR_WEAPON]:[h.StatWeapon,5,1,1703647492],[t.MAJOR_WEAPON]:[h.StatWeapon,10,3,4183296050],[t.ARTIFICE_WEAPON]:[h.StatWeapon,3,0,2322202118],[t.MINOR_HEALTH]:[h.StatHealth,5,1,2532323436],[t.MAJOR_HEALTH]:[h.StatHealth,10,3,1180408010],[t.ARTIFICE_HEALTH]:[h.StatHealth,3,0,199176566],[t.MINOR_CLASS]:[h.StatClass,5,1,1237786518],[t.MAJOR_CLASS]:[h.StatClass,10,3,4204488676],[t.ARTIFICE_CLASS]:[h.StatClass,3,0,539459624],[t.MINOR_GRENADE]:[h.StatGrenade,5,1,4021790309],[t.MAJOR_GRENADE]:[h.StatGrenade,10,3,1435557120],[t.ARTIFICE_GRENADE]:[h.StatGrenade,3,0,617569843],[t.MINOR_SUPER]:[h.StatSuper,5,1,350061697],[t.MAJOR_SUPER]:[h.StatSuper,10,3,2724608735],[t.ARTIFICE_SUPER]:[h.StatSuper,3,0,3160845295],[t.MINOR_MELEE]:[h.StatMelee,5,1,2639422088],[t.MAJOR_MELEE]:[h.StatMelee,10,3,4287799666],[t.ARTIFICE_MELEE]:[h.StatMelee,3,0,2507624050]},_={[h.StatWeapon]:"Weapon",[h.StatHealth]:"Health",[h.StatClass]:"Class",[h.StatGrenade]:"Grenade",[h.StatSuper]:"Super",[h.StatMelee]:"Melee"},nt={[h.StatWeapon]:2996146975,[h.StatHealth]:392767087,[h.StatClass]:1943323491,[h.StatGrenade]:1735777505,[h.StatSuper]:144602215,[h.StatMelee]:4244567218},Dt={[h.StatWeapon]:"https://www.bungie.net/common/destiny2_content/icons/bc69675acdae9e6b9a68a02fb4d62e07.png",[h.StatHealth]:"https://www.bungie.net/common/destiny2_content/icons/717b8b218cc14325a54869bef21d2964.png",[h.StatClass]:"https://www.bungie.net/common/destiny2_content/icons/7eb845acb5b3a4a9b7e0b2f05f5c43f1.png",[h.StatGrenade]:"https://www.bungie.net/common/destiny2_content/icons/065cdaabef560e5808e821cefaeaa22c.png",[h.StatSuper]:"https://www.bungie.net/common/destiny2_content/icons/585ae4ede9c3da96b34086fccccdc8cd.png",[h.StatMelee]:"https://www.bungie.net/common/destiny2_content/icons/fa534aca76d7f2d7e7b4ba4df4271b42.png"};var A=function(k){return k[k.ClassAbilityRegenerationStat=10]="ClassAbilityRegenerationStat",k}(A||{}),d=function(k){return k[k.None=-1]="None",k[k.Any=0]="Any",k[k.SlotCrotasEnd=2]="SlotCrotasEnd",k[k.SlotRootOfNightmares=3]="SlotRootOfNightmares",k[k.SlotKingsFall=4]="SlotKingsFall",k[k.SlotVowOfTheDisciple=5]="SlotVowOfTheDisciple",k[k.SlotVaultOfGlass=6]="SlotVaultOfGlass",k[k.SlotDeepStoneCrypt=7]="SlotDeepStoneCrypt",k[k.SlotGardenOfSalvation=8]="SlotGardenOfSalvation",k[k.SlotLastWish=9]="SlotLastWish",k[k.SlotArtifice=10]="SlotArtifice",k[k.PerkIronBanner=11]="PerkIronBanner",k[k.SlotNightmare=12]="SlotNightmare",k[k.GuardianGamesClassItem=18]="GuardianGamesClassItem",k[k.PerkEchoesOfGlory=20]="PerkEchoesOfGlory",k[k.SlotSalvationsEdge=21]="SlotSalvationsEdge",k[k.SlotEidosApprentice=22]="SlotEidosApprentice",k[k.PerkOverflowingCorruption=23]="PerkOverflowingCorruption",k}(d||{});const X={[d.None]:"None",[d.Any]:"Any",[d.SlotCrotasEnd]:"Crota's End Modslot",[d.SlotRootOfNightmares]:"Root of Nightmares Modslot",[d.SlotKingsFall]:"King's Fall Modslot",[d.SlotVowOfTheDisciple]:"Vow of the Disciple Modslot",[d.SlotVaultOfGlass]:"Vault of Glass Modslot",[d.SlotDeepStoneCrypt]:"Deep Stone Crypt Modslot",[d.SlotGardenOfSalvation]:"Garden of Salvation Modslot",[d.SlotLastWish]:"Last Wish Modslot",[d.SlotArtifice]:"Artifice Modslot",[d.PerkIronBanner]:"Iron Banner Perk",[d.SlotNightmare]:"Nightmare Hunt Modslot",[d.GuardianGamesClassItem]:"Guardian Games",[d.PerkEchoesOfGlory]:"Echoes of Glory Perk",[d.SlotSalvationsEdge]:"Salvation's Edge Modslot",[d.SlotEidosApprentice]:"Eido's Apprentice Perk",[d.PerkOverflowingCorruption]:"Overflowing Corruption Perk"},Rt={717667840:"https://www.bungie.net/common/destiny2_content/icons/d89e12c918cb0c6b1087b073ad14d6c2.png",4144354978:"https://www.bungie.net/common/destiny2_content/icons/f2b6ec58e14244e4972705897667c246.png",1728096240:"https://www.bungie.net/common/destiny2_content/icons/0e515c7cf25a2f2350b788e6f5b7f8eb.png",2447143568:"https://www.bungie.net/common/destiny2_content/icons/b84b6ea72dd05de7123aa2ae87ba0d6a.png"},zt={[d.Any]:"https://www.bungie.net/img/misc/missing_icon_d2.png",[d.None]:"https://www.bungie.net//common/destiny2_content/icons/56761c8361e33a367c6fa94f397d8692.png",[d.SlotCrotasEnd]:"https://www.bungie.net/common/destiny2_content/icons/d89e12c918cb0c6b1087b073ad14d6c2.png",[d.SlotRootOfNightmares]:"https://www.bungie.net/common/destiny2_content/icons/f2b6ec58e14244e4972705897667c246.png",[d.SlotKingsFall]:"https://www.bungie.net/common/destiny2_content/icons/0e515c7cf25a2f2350b788e6f5b7f8eb.png",[d.SlotVowOfTheDisciple]:"https://www.bungie.net/common/destiny2_content/icons/b84b6ea72dd05de7123aa2ae87ba0d6a.png",[d.SlotVaultOfGlass]:"https://www.bungie.net/common/destiny2_content/icons/7c9a2d95113de19c5acdbed57775abf4.png",[d.SlotDeepStoneCrypt]:"https://www.bungie.net/common/destiny2_content/icons/d6452d010cfe72a51a9089ec68ab223c.png",[d.SlotGardenOfSalvation]:"https://www.bungie.net/common/destiny2_content/icons/53d6e3505cd03d4026b3dbbd9ccc19b6.jpg",[d.SlotLastWish]:"https://www.bungie.net/common/destiny2_content/icons/76f0c1520fa384ceb27bd2469225dd8a.png",[d.SlotArtifice]:"https://www.bungie.net/common/destiny2_content/icons/46eec78bb7864641bbd7ba1fd4f9f248.png",[d.PerkIronBanner]:"https://bungie.net/common/destiny2_content/icons/DestinyActivityModeDefinition_fe57052d7cf971f7502daa75a2ca2437.png",[d.SlotNightmare]:"https://www.bungie.net/common/destiny2_content/icons/53d6e3505cd03d4026b3dbbd9ccc19b6.jpg",[d.GuardianGamesClassItem]:"https://www.bungie.net/common/destiny2_content/icons/DestinyEventCardDefinition_ce6c2cf855dce694bcc89803b6bc44b7.png",[d.SlotSalvationsEdge]:"https://www.bungie.net/common/destiny2_content/icons/f4a1f99b49ecf412726d71ea9ee15540.png",[d.PerkEchoesOfGlory]:"https://www.bungie.net/common/destiny2_content/icons/c67322c917e16f3b8a4cb962e3f11166.png",[d.SlotEidosApprentice]:"https://www.bungie.net/common/destiny2_content/icons/e083d8a85c2c60825204d14b9e9263b7.png",[d.PerkOverflowingCorruption]:"https://www.bungie.net/common/destiny2_content/icons/7a714dc1f8b669d8d5901c1543eb244b.png"},Bt={[d.SlotCrotasEnd]:717667840,[d.SlotRootOfNightmares]:4144354978,[d.SlotKingsFall]:1728096240,[d.SlotVowOfTheDisciple]:2447143568,[d.SlotVaultOfGlass]:3738398030,[d.SlotDeepStoneCrypt]:4055462131,[d.SlotGardenOfSalvation]:706611068,[d.SlotLastWish]:1679876242,[d.SlotArtifice]:3727270518,[d.PerkIronBanner]:2472875850,[d.SlotNightmare]:1180997867,[d.SlotSalvationsEdge]:4059283783,[d.PerkEchoesOfGlory]:2352831367,[d.SlotEidosApprentice]:273417606,[d.PerkOverflowingCorruption]:1128948126},W={1760565003:d.PerkEchoesOfGlory},Jt={[nt[h.StatWeapon]]:h.StatWeapon,[nt[h.StatHealth]]:h.StatHealth,[nt[h.StatClass]]:h.StatClass,[nt[h.StatGrenade]]:h.StatGrenade,[nt[h.StatSuper]]:h.StatSuper,[nt[h.StatMelee]]:h.StatMelee},Ce={1719555937:d.SlotArtifice,2770223926:d.SlotArtifice,2831858578:d.SlotArtifice,3136585661:d.SlotArtifice,3642670483:d.SlotArtifice,4096670123:d.SlotArtifice},xe={1:{[g.w.Stasis]:873720784,[g.w.Void]:2453351420,[g.w.Solar]:2240888816,[g.w.Arc]:2328211300,[g.w.Strand]:3785442599,[g.w.Prismatic]:4282591831},0:{[g.w.Stasis]:613647804,[g.w.Void]:2842471112,[g.w.Solar]:2550323932,[g.w.Arc]:2932390016,[g.w.Strand]:242419885,[g.w.Prismatic]:1616346845},2:{[g.w.Stasis]:3291545503,[g.w.Void]:2849050827,[g.w.Solar]:3941205951,[g.w.Arc]:3168997075,[g.w.Strand]:4204413574,[g.w.Prismatic]:3893112950}}},6229:(Mt,mt,C)=>{C.d(mt,{P:()=>g});var g=function(t){return t[t.None=0]="None",t[t.ReduceUsedModSockets=1]="ReduceUsedModSockets",t[t.ReduceUsedModPoints=2]="ReduceUsedModPoints",t}(g||{})},5732:(Mt,mt,C)=>{C.d(mt,{o:()=>g});var g=function(t){return t[t.WhisperOfDurance=1e3]="WhisperOfDurance",t[t.WhisperOfChains=1001]="WhisperOfChains",t[t.WhisperOfConduction=1002]="WhisperOfConduction",t[t.WhisperOfBonds=1101]="WhisperOfBonds",t[t.WhisperOfHunger=1102]="WhisperOfHunger",t[t.WhisperOfFractures=1103]="WhisperOfFractures",t[t.WhisperOfTorment=1104]="WhisperOfTorment",t[t.EchoOfExpulsion=1200]="EchoOfExpulsion",t[t.EchoOfProvision=1201]="EchoOfProvision",t[t.EchoOfPersistence=1202]="EchoOfPersistence",t[t.EchoOfLeeching=1203]="EchoOfLeeching",t[t.EchoOfDomineering=1204]="EchoOfDomineering",t[t.EchoOfDilation=1205]="EchoOfDilation",t[t.EchoOfUndermining=1206]="EchoOfUndermining",t[t.EchoOfExchange=1207]="EchoOfExchange",t[t.EchoOfInstability=1208]="EchoOfInstability",t[t.EchoOfObscurity=1209]="EchoOfObscurity",t[t.EchoOfStarvation=1210]="EchoOfStarvation",t[t.EmberOfBenelovence=1300]="EmberOfBenelovence",t[t.EmberOfBeams=1301]="EmberOfBeams",t[t.EmberOfEmpyrean=1302]="EmberOfEmpyrean",t[t.EmberOfCombustion=1303]="EmberOfCombustion",t[t.EmberOfChar=1304]="EmberOfChar",t[t.EmberOfTempering=1305]="EmberOfTempering",t[t.EmberOfEruption=1306]="EmberOfEruption",t[t.EmberOfWonder=1307]="EmberOfWonder",t[t.EmberOfSearing=1308]="EmberOfSearing",t[t.EmberOfTorches=1309]="EmberOfTorches",t[t.EmberOfMercy=1310]="EmberOfMercy",t[t.SparkOfBrilliance=1400]="SparkOfBrilliance",t[t.SparkOfFeedback=1401]="SparkOfFeedback",t[t.SparkOfDischarge=1402]="SparkOfDischarge",t[t.SparkOfFocus=1403]="SparkOfFocus",t[t.SparkOfVolts=1404]="SparkOfVolts",t[t.SparkOfResistance=1405]="SparkOfResistance",t[t.SparkOfShock=1406]="SparkOfShock",t[t.ThreadOfFury=1600]="ThreadOfFury",t[t.ThreadOfAscent=1601]="ThreadOfAscent",t[t.ThreadOfFinality=1602]="ThreadOfFinality",t[t.ThreadOfWarding=1603]="ThreadOfWarding",t[t.ThreadOfTransmutation=1604]="ThreadOfTransmutation",t[t.ThreadOfEvolution=1605]="ThreadOfEvolution",t[t.ThreadOfBinding=1606]="ThreadOfBinding",t[t.ThreadOfGeneration=1607]="ThreadOfGeneration",t[t.ThreadOfPropagation=1608]="ThreadOfPropagation",t[t.WhisperOfImpetus=537774543]="WhisperOfImpetus",t[t.FacetOfAwakening=1700]="FacetOfAwakening",t[t.FacetOfCourage=1701]="FacetOfCourage",t[t.FacetOfDawn=1702]="FacetOfDawn",t[t.FacetOfDefiance=1703]="FacetOfDefiance",t[t.FacetOfDevotion=1704]="FacetOfDevotion",t[t.FacetOfDominance=1705]="FacetOfDominance",t[t.FacetOfGrace=1706]="FacetOfGrace",t[t.FacetOfHonor=1707]="FacetOfHonor",t[t.FacetOfJustice=1708]="FacetOfJustice",t[t.FacetOfProtection=1709]="FacetOfProtection",t[t.FacetOfPurpose=1710]="FacetOfPurpose",t[t.FacetOfRuin=1711]="FacetOfRuin",t[t.FacetOfSacrifice=1712]="FacetOfSacrifice",t}(g||{})},6488:(Mt,mt,C)=>{C.d(mt,{b:()=>t,w:()=>g});var g=function(h){return h[h.CombatStyleMod=0]="CombatStyleMod",h[h.Stasis=1]="Stasis",h[h.Void=2]="Void",h[h.Solar=3]="Solar",h[h.Arc=4]="Arc",h[h.Strand=5]="Strand",h[h.Prismatic=6]="Prismatic",h}(g||{});const t={[g.Arc]:"Arc",[g.Solar]:"Solar",[g.Void]:"Void",[g.Stasis]:"Stasis",[g.Strand]:"Strand",[g.Prismatic]:"Prismatic"}},509:(Mt,mt,C)=>{C.d(mt,{DN:()=>K,QL:()=>_,be:()=>h,e8:()=>nt,h$:()=>t,lq:()=>yt});var g=C(9667),t=function(A){return A[A.Inventory=0]="Inventory",A[A.Collections=1]="Collections",A[A.Vendor=2]="Vendor",A}(t||{});function h(A,d,X){if(!A)throw new Error("Missing manifest item");const Rt=Object.assign({id:-1,tier:1,itemInstanceId:d,masterworked:!1,masterworkLevel:0,archetypeStats:[],energyLevel:0,mobility:0,resilience:0,recovery:0,discipline:0,intellect:0,strength:0,source:X,tuningStat:null,created_at:Date.now(),updated_at:Date.now()},A);return Rt.id=void 0,(2545426109==A.hash||199733460==A.hash||3224066584==A.hash||2390807586==A.hash||2462335932==A.hash||4095816113==A.hash)&&(Rt.slot=g.s.ArmorSlotHelmet),A.exoticPerkHash&&(Rt.exoticPerkHash=Array.isArray(A.exoticPerkHash)?A.exoticPerkHash:[A.exoticPerkHash]),Rt}function yt(A,d){A.mobility=d[2996146975],A.resilience=d[392767087],A.recovery=d[1943323491],A.discipline=d[1735777505],A.intellect=d[144602215],A.strength=d[4244567218]}function K(A){return{2996146975:A.mobility,392767087:A.resilience,1943323491:A.recovery,1735777505:A.discipline,144602215:A.intellect,4244567218:A.strength}}function _(A,d){return A.slot===d.slot&&A.hash===d.hash&&A.mobility===d.mobility&&A.resilience===d.resilience&&A.recovery===d.recovery&&A.discipline===d.discipline&&A.intellect===d.intellect&&A.strength===d.strength}function nt(A){return A.mobility+A.resilience+A.recovery+A.discipline+A.intellect+A.strength}},268:(Mt,mt,C)=>{C.d(mt,{V:()=>g});var g=function(t){return t[t.Armor1=1]="Armor1",t[t.Armor2=2]="Armor2",t[t.Armor3=3]="Armor3",t}(g||{})},581:(Mt,mt,C)=>{C.d(mt,{g$:()=>se,XW:()=>It});var g=C(9204),t=C(509),h=C(9667),yt=C(8214),K=C(7445),_=C(789),nt=C(5312),Dt=C(6229);function d(b){return null!=b&&Object.prototype.hasOwnProperty.call(b,"armor")&&Object.prototype.hasOwnProperty.call(b,"useExoticClassItem")&&Object.prototype.hasOwnProperty.call(b,"usedArtifice")&&Object.prototype.hasOwnProperty.call(b,"usedMods")&&Object.prototype.hasOwnProperty.call(b,"statsWithMods")}var X=C(268);const Rt={1:[[0,0,0,1,1,1],[0,0,0,2,2,2],[1,0,0,0,0,3],[0,0,0,3,3,3],[0,0,0,4,4,4],[0,1,0,0,0,5],[0,0,0,5,1,5],[0,0,0,6,2,6],[0,0,0,7,3,7],[0,0,0,8,4,8],[0,0,0,9,5,9],[0,0,1,0,0,10],[0,0,0,10,2,10],[0,0,0,11,3,11],[0,0,0,12,4,12],[0,0,0,13,5,13],[0,0,0,15,3,15],[0,0,0,16,4,16],[0,0,0,17,5,17],[0,0,0,20,4,20],[0,0,0,21,5,21],[0,0,0,25,5,25]],2:[[0,0,0,2,2,2],[1,0,0,0,0,3],[1,0,0,1,1,3],[0,0,0,3,3,3],[0,0,0,4,4,4],[0,1,0,0,0,5],[0,0,0,5,1,5],[0,1,0,1,1,6],[0,0,0,6,2,6],[0,0,0,7,3,7],[0,0,0,8,4,8],[0,0,0,9,5,9],[0,0,1,0,0,10],[0,0,0,10,2,10],[0,0,1,1,1,11],[0,0,0,11,3,11],[0,0,0,12,4,12],[0,0,0,13,5,13],[0,0,0,15,3,15],[0,0,0,16,4,16],[0,0,0,17,5,17],[0,0,0,20,4,20],[0,0,0,21,5,21],[0,0,0,25,5,25]],3:[[1,0,0,0,0,3],[1,0,0,1,1,3],[1,0,0,2,2,3],[0,0,0,3,3,3],[0,0,0,4,4,4],[0,1,0,0,0,5],[0,0,0,5,1,5],[0,1,0,1,1,6],[0,0,0,6,2,6],[0,1,0,2,2,7],[0,0,0,7,3,7],[0,0,0,8,4,8],[0,0,0,9,5,9],[0,0,1,0,0,10],[0,0,0,10,2,10],[0,0,1,1,1,11],[0,0,0,11,3,11],[0,0,1,2,2,12],[0,0,0,12,4,12],[0,0,0,13,5,13],[0,0,0,15,3,15],[0,0,0,16,4,16],[0,0,0,17,5,17],[0,0,0,20,4,20],[0,0,0,21,5,21],[0,0,0,25,5,25]],4:[[1,0,0,1,1,3],[1,0,0,2,2,3],[1,0,0,3,3,3],[0,0,0,4,4,4],[0,1,0,0,0,5],[0,0,0,5,1,5],[2,0,0,0,0,6],[0,1,0,1,1,6],[0,0,0,6,2,6],[0,1,0,2,2,7],[0,0,0,7,3,7],[0,1,0,3,3,8],[0,0,0,8,4,8],[0,0,0,9,5,9],[0,0,1,0,0,10],[0,0,0,10,2,10],[0,0,1,1,1,11],[0,0,0,11,3,11],[0,0,1,2,2,12],[0,0,0,12,4,12],[0,0,1,3,3,13],[0,0,0,13,5,13],[0,0,0,15,3,15],[0,0,0,16,4,16],[0,0,0,17,5,17],[0,0,0,20,4,20],[0,0,0,21,5,21],[0,0,0,25,5,25]],5:[[1,0,0,2,2,3],[1,0,0,3,3,3],[1,0,0,4,4,3],[0,1,0,0,0,5],[0,0,0,5,1,5],[2,0,0,0,0,6],[2,0,0,1,1,6],[0,1,0,1,1,6],[0,0,0,6,2,6],[0,1,0,2,2,7],[0,0,0,7,3,7],[0,1,0,3,3,8],[0,0,0,8,4,8],[0,1,0,4,4,9],[0,0,0,9,5,9],[0,0,1,0,0,10],[0,0,0,10,2,10],[0,0,1,1,1,11],[0,0,0,11,3,11],[0,0,1,2,2,12],[0,0,0,12,4,12],[0,0,1,3,3,13],[0,0,0,13,5,13],[0,0,1,4,4,14],[0,0,0,15,3,15],[0,0,0,16,4,16],[0,0,0,17,5,17],[0,0,0,20,4,20],[0,0,0,21,5,21],[0,0,0,25,5,25]],6:[[1,0,0,5,1,3],[1,0,0,3,3,3],[1,0,0,4,4,3],[2,0,0,0,0,6],[2,0,0,1,1,6],[0,1,0,1,1,6],[2,0,0,2,2,6],[0,0,0,6,2,6],[0,1,0,2,2,7],[0,0,0,7,3,7],[1,1,0,0,0,8],[0,1,0,3,3,8],[0,0,0,8,4,8],[0,1,0,4,4,9],[0,0,0,9,5,9],[0,2,0,0,0,10],[0,0,1,0,0,10],[0,1,0,5,1,10],[0,0,0,10,2,10],[0,0,1,1,1,11],[0,0,0,11,3,11],[0,0,1,2,2,12],[0,0,0,12,4,12],[0,0,1,3,3,13],[0,0,0,13,5,13],[0,0,1,4,4,14],[0,0,1,5,1,15],[0,0,0,15,3,15],[0,0,0,16,4,16],[0,0,0,17,5,17],[0,0,0,20,4,20],[0,0,0,21,5,21],[0,0,0,25,5,25]],7:[[1,0,0,5,1,3],[1,0,0,6,2,3],[1,0,0,4,4,3],[2,0,0,1,1,6],[2,0,0,2,2,6],[2,0,0,3,3,6],[0,1,0,2,2,7],[0,0,0,7,3,7],[1,1,0,0,0,8],[0,1,0,3,3,8],[0,0,0,8,4,8],[3,0,0,0,0,9],[1,1,0,1,1,9],[0,1,0,4,4,9],[0,0,0,9,5,9],[0,2,0,0,0,10],[0,0,1,0,0,10],[0,1,0,5,1,10],[0,0,0,10,2,10],[0,2,0,1,1,11],[0,0,1,1,1,11],[0,1,0,6,2,11],[0,0,0,11,3,11],[0,0,1,2,2,12],[0,0,0,12,4,12],[0,0,1,3,3,13],[0,0,0,13,5,13],[0,0,1,4,4,14],[0,0,1,5,1,15],[0,0,0,15,3,15],[0,0,1,6,2,16],[0,0,0,16,4,16],[0,0,0,17,5,17],[0,0,0,20,4,20],[0,0,0,21,5,21],[0,0,0,25,5,25]],8:[[1,0,0,5,1,3],[1,0,0,6,2,3],[1,0,0,7,3,3],[2,0,0,2,2,6],[2,0,0,3,3,6],[1,1,0,0,0,8],[0,1,0,3,3,8],[0,0,0,8,4,8],[3,0,0,0,0,9],[3,0,0,1,1,9],[1,1,0,1,1,9],[0,1,0,4,4,9],[0,0,0,9,5,9],[0,2,0,0,0,10],[0,0,1,0,0,10],[0,1,0,5,1,10],[1,1,0,2,2,10],[0,0,0,10,2,10],[0,2,0,1,1,11],[0,0,1,1,1,11],[0,1,0,6,2,11],[0,0,0,11,3,11],[0,2,0,2,2,12],[0,0,1,2,2,12],[0,1,0,7,3,12],[0,0,0,12,4,12],[0,0,1,3,3,13],[0,0,0,13,5,13],[0,0,1,4,4,14],[0,0,1,5,1,15],[0,0,0,15,3,15],[0,0,1,6,2,16],[0,0,0,16,4,16],[0,0,1,7,3,17],[0,0,0,17,5,17],[0,0,0,20,4,20],[0,0,0,21,5,21],[0,0,0,25,5,25]],9:[[1,0,0,6,2,3],[1,0,0,7,3,3],[1,0,0,8,4,3],[2,0,0,5,1,6],[2,0,0,3,3,6],[3,0,0,0,0,9],[3,0,0,1,1,9],[1,1,0,1,1,9],[3,0,0,2,2,9],[0,1,0,4,4,9],[0,0,0,9,5,9],[0,2,0,0,0,10],[0,0,1,0,0,10],[0,1,0,5,1,10],[1,1,0,2,2,10],[0,0,0,10,2,10],[2,1,0,0,0,11],[0,2,0,1,1,11],[0,0,1,1,1,11],[0,1,0,6,2,11],[1,1,0,3,3,11],[0,0,0,11,3,11],[0,2,0,2,2,12],[0,0,1,2,2,12],[0,1,0,7,3,12],[0,0,0,12,4,12],[0,2,0,3,3,13],[0,0,1,3,3,13],[0,1,0,8,4,13],[0,0,0,13,5,13],[0,0,1,4,4,14],[0,0,1,5,1,15],[0,0,0,15,3,15],[0,0,1,6,2,16],[0,0,0,16,4,16],[0,0,1,7,3,17],[0,0,0,17,5,17],[0,0,1,8,4,18],[0,0,0,20,4,20],[0,0,0,21,5,21],[0,0,0,25,5,25]],10:[[1,0,0,7,3,3],[1,0,0,8,4,3],[2,0,0,5,1,6],[2,0,0,6,2,6],[3,0,0,1,1,9],[3,0,0,2,2,9],[0,2,0,0,0,10],[0,0,1,0,0,10],[0,1,0,5,1,10],[1,1,0,2,2,10],[0,0,0,10,2,10],[2,1,0,0,0,11],[0,2,0,1,1,11],[0,0,1,1,1,11],[0,1,0,6,2,11],[1,1,0,3,3,11],[0,0,0,11,3,11],[4,0,0,0,0,12],[2,1,0,1,1,12],[0,2,0,2,2,12],[0,0,1,2,2,12],[0,1,0,7,3,12],[1,1,0,4,4,12],[0,0,0,12,4,12],[0,2,0,3,3,13],[0,0,1,3,3,13],[0,1,0,8,4,13],[0,0,0,13,5,13],[0,2,0,4,4,14],[0,0,1,4,4,14],[0,1,0,9,5,14],[0,0,1,5,1,15],[0,0,0,15,3,15],[0,0,1,6,2,16],[0,0,0,16,4,16],[0,0,1,7,3,17],[0,0,0,17,5,17],[0,0,1,8,4,18],[0,0,1,9,5,19],[0,0,0,20,4,20],[0,0,0,21,5,21],[0,0,0,25,5,25]],11:[[1,0,0,10,2,3],[1,0,0,8,4,3],[2,0,0,5,1,6],[2,0,0,6,2,6],[2,0,0,7,3,6],[3,0,0,2,2,9],[2,1,0,0,0,11],[0,2,0,1,1,11],[0,0,1,1,1,11],[0,1,0,6,2,11],[1,1,0,3,3,11],[0,0,0,11,3,11],[4,0,0,0,0,12],[4,0,0,1,1,12],[2,1,0,1,1,12],[0,2,0,2,2,12],[0,0,1,2,2,12],[0,1,0,7,3,12],[1,1,0,4,4,12],[0,0,0,12,4,12],[1,2,0,0,0,13],[1,0,1,0,0,13],[1,1,0,5,1,13],[2,1,0,2,2,13],[0,2,0,3,3,13],[0,0,1,3,3,13],[0,1,0,8,4,13],[0,0,0,13,5,13],[0,2,0,4,4,14],[0,0,1,4,4,14],[0,1,0,9,5,14],[0,3,0,0,0,15],[0,1,1,0,0,15],[0,2,0,5,1,15],[0,0,1,5,1,15],[0,1,0,10,2,15],[0,0,0,15,3,15],[0,0,1,6,2,16],[0,0,0,16,4,16],[0,0,1,7,3,17],[0,0,0,17,5,17],[0,0,1,8,4,18],[0,0,1,9,5,19],[0,0,2,0,0,20],[0,0,1,10,2,20],[0,0,0,20,4,20],[0,0,0,21,5,21],[0,0,0,25,5,25]],12:[[1,0,0,10,2,3],[1,0,0,11,3,3],[2,0,0,6,2,6],[2,0,0,7,3,6],[3,0,0,5,1,9],[4,0,0,0,0,12],[4,0,0,1,1,12],[2,1,0,1,1,12],[0,2,0,2,2,12],[0,0,1,2,2,12],[0,1,0,7,3,12],[1,1,0,4,4,12],[0,0,0,12,4,12],[1,2,0,0,0,13],[1,0,1,0,0,13],[1,1,0,5,1,13],[2,1,0,2,2,13],[0,2,0,3,3,13],[0,0,1,3,3,13],[0,1,0,8,4,13],[0,0,0,13,5,13],[3,1,0,0,0,14],[1,2,0,1,1,14],[1,0,1,1,1,14],[1,1,0,6,2,14],[2,1,0,3,3,14],[0,2,0,4,4,14],[0,0,1,4,4,14],[0,1,0,9,5,14],[0,3,0,0,0,15],[0,1,1,0,0,15],[0,2,0,5,1,15],[0,0,1,5,1,15],[0,1,0,10,2,15],[0,0,0,15,3,15],[0,3,0,1,1,16],[0,1,1,1,1,16],[0,2,0,6,2,16],[0,0,1,6,2,16],[0,1,0,11,3,16],[0,0,0,16,4,16],[0,0,1,7,3,17],[0,0,0,17,5,17],[0,0,1,8,4,18],[0,0,1,9,5,19],[0,0,2,0,0,20],[0,0,1,10,2,20],[0,0,0,20,4,20],[0,0,2,1,1,21],[0,0,1,11,3,21],[0,0,0,21,5,21],[0,0,0,25,5,25]],13:[[1,0,0,10,2,3],[1,0,0,11,3,3],[1,0,0,12,4,3],[2,0,0,7,3,6],[3,0,0,5,1,9],[3,0,0,6,2,9],[4,0,0,1,1,12],[1,2,0,0,0,13],[1,0,1,0,0,13],[1,1,0,5,1,13],[2,1,0,2,2,13],[0,2,0,3,3,13],[0,0,1,3,3,13],[0,1,0,8,4,13],[0,0,0,13,5,13],[3,1,0,0,0,14],[1,2,0,1,1,14],[1,0,1,1,1,14],[1,1,0,6,2,14],[2,1,0,3,3,14],[0,2,0,4,4,14],[0,0,1,4,4,14],[0,1,0,9,5,14],[5,0,0,0,0,15],[0,3,0,0,0,15],[0,1,1,0,0,15],[3,1,0,1,1,15],[0,2,0,5,1,15],[0,0,1,5,1,15],[1,2,0,2,2,15],[1,0,1,2,2,15],[0,1,0,10,2,15],[1,1,0,7,3,15],[0,0,0,15,3,15],[0,3,0,1,1,16],[0,1,1,1,1,16],[0,2,0,6,2,16],[0,0,1,6,2,16],[0,1,0,11,3,16],[0,0,0,16,4,16],[0,3,0,2,2,17],[0,1,1,2,2,17],[0,2,0,7,3,17],[0,0,1,7,3,17],[0,1,0,12,4,17],[0,0,0,17,5,17],[0,0,1,8,4,18],[0,0,1,9,5,19],[0,0,2,0,0,20],[0,0,1,10,2,20],[0,0,0,20,4,20],[0,0,2,1,1,21],[0,0,1,11,3,21],[0,0,0,21,5,21],[0,0,2,2,2,22],[0,0,1,12,4,22],[0,0,0,25,5,25]],14:[[1,0,0,11,3,3],[1,0,0,12,4,3],[2,0,0,10,2,6],[3,0,0,5,1,9],[3,0,0,6,2,9],[3,1,0,0,0,14],[1,2,0,1,1,14],[1,0,1,1,1,14],[1,1,0,6,2,14],[2,1,0,3,3,14],[0,2,0,4,4,14],[0,0,1,4,4,14],[0,1,0,9,5,14],[5,0,0,0,0,15],[0,3,0,0,0,15],[0,1,1,0,0,15],[3,1,0,1,1,15],[0,2,0,5,1,15],[0,0,1,5,1,15],[1,2,0,2,2,15],[1,0,1,2,2,15],[0,1,0,10,2,15],[1,1,0,7,3,15],[0,0,0,15,3,15],[2,2,0,0,0,16],[2,0,1,0,0,16],[0,3,0,1,1,16],[0,1,1,1,1,16],[2,1,0,5,1,16],[3,1,0,2,2,16],[0,2,0,6,2,16],[0,0,1,6,2,16],[1,2,0,3,3,16],[1,0,1,3,3,16],[0,1,0,11,3,16],[1,1,0,8,4,16],[0,0,0,16,4,16],[0,3,0,2,2,17],[0,1,1,2,2,17],[0,2,0,7,3,17],[0,0,1,7,3,17],[0,1,0,12,4,17],[0,0,0,17,5,17],[0,3,0,3,3,18],[0,1,1,3,3,18],[0,2,0,8,4,18],[0,0,1,8,4,18],[0,1,0,13,5,18],[0,0,1,9,5,19],[0,0,2,0,0,20],[0,0,1,10,2,20],[0,0,0,20,4,20],[0,0,2,1,1,21],[0,0,1,11,3,21],[0,0,0,21,5,21],[0,0,2,2,2,22],[0,0,1,12,4,22],[0,0,2,3,3,23],[0,0,1,13,5,23],[0,0,0,25,5,25]],15:[[1,0,0,12,4,3],[2,0,0,10,2,6],[2,0,0,11,3,6],[3,0,0,6,2,9],[4,0,0,5,1,12],[5,0,0,0,0,15],[0,3,0,0,0,15],[0,1,1,0,0,15],[3,1,0,1,1,15],[0,2,0,5,1,15],[0,0,1,5,1,15],[1,2,0,2,2,15],[1,0,1,2,2,15],[0,1,0,10,2,15],[1,1,0,7,3,15],[0,0,0,15,3,15],[2,2,0,0,0,16],[2,0,1,0,0,16],[0,3,0,1,1,16],[0,1,1,1,1,16],[2,1,0,5,1,16],[3,1,0,2,2,16],[0,2,0,6,2,16],[0,0,1,6,2,16],[1,2,0,3,3,16],[1,0,1,3,3,16],[0,1,0,11,3,16],[1,1,0,8,4,16],[0,0,0,16,4,16],[4,1,0,0,0,17],[2,2,0,1,1,17],[2,0,1,1,1,17],[0,3,0,2,2,17],[0,1,1,2,2,17],[2,1,0,6,2,17],[0,2,0,7,3,17],[0,0,1,7,3,17],[1,2,0,4,4,17],[1,0,1,4,4,17],[0,1,0,12,4,17],[0,0,0,17,5,17],[0,3,0,3,3,18],[0,1,1,3,3,18],[0,2,0,8,4,18],[0,0,1,8,4,18],[0,1,0,13,5,18],[0,3,0,4,4,19],[0,1,1,4,4,19],[0,2,0,9,5,19],[0,0,1,9,5,19],[0,0,2,0,0,20],[0,0,1,10,2,20],[0,0,0,20,4,20],[0,0,2,1,1,21],[0,0,1,11,3,21],[0,0,0,21,5,21],[0,0,2,2,2,22],[0,0,1,12,4,22],[0,0,2,3,3,23],[0,0,1,13,5,23],[0,0,2,4,4,24],[0,0,0,25,5,25]],16:[[1,0,0,15,3,3],[2,0,0,10,2,6],[2,0,0,11,3,6],[4,0,0,5,1,12],[2,2,0,0,0,16],[2,0,1,0,0,16],[0,3,0,1,1,16],[0,1,1,1,1,16],[2,1,0,5,1,16],[3,1,0,2,2,16],[0,2,0,6,2,16],[0,0,1,6,2,16],[1,2,0,3,3,16],[1,0,1,3,3,16],[0,1,0,11,3,16],[1,1,0,8,4,16],[0,0,0,16,4,16],[4,1,0,0,0,17],[2,2,0,1,1,17],[2,0,1,1,1,17],[0,3,0,2,2,17],[0,1,1,2,2,17],[2,1,0,6,2,17],[0,2,0,7,3,17],[0,0,1,7,3,17],[1,2,0,4,4,17],[1,0,1,4,4,17],[0,1,0,12,4,17],[0,0,0,17,5,17],[1,3,0,0,0,18],[1,1,1,0,0,18],[4,1,0,1,1,18],[1,2,0,5,1,18],[1,0,1,5,1,18],[2,2,0,2,2,18],[2,0,1,2,2,18],[1,1,0,10,2,18],[0,3,0,3,3,18],[0,1,1,3,3,18],[2,1,0,7,3,18],[0,2,0,8,4,18],[0,0,1,8,4,18],[0,1,0,13,5,18],[0,3,0,4,4,19],[0,1,1,4,4,19],[0,2,0,9,5,19],[0,0,1,9,5,19],[0,4,0,0,0,20],[0,2,1,0,0,20],[0,0,2,0,0,20],[0,3,0,5,1,20],[0,1,1,5,1,20],[0,2,0,10,2,20],[0,0,1,10,2,20],[0,1,0,15,3,20],[0,0,0,20,4,20],[0,0,2,1,1,21],[0,0,1,11,3,21],[0,0,0,21,5,21],[0,0,2,2,2,22],[0,0,1,12,4,22],[0,0,2,3,3,23],[0,0,1,13,5,23],[0,0,2,4,4,24],[0,0,2,5,1,25],[0,0,1,15,3,25],[0,0,0,25,5,25]],17:[[1,0,0,15,3,3],[1,0,0,16,4,3],[2,0,0,11,3,6],[3,0,0,10,2,9],[4,0,0,5,1,12],[4,1,0,0,0,17],[2,2,0,1,1,17],[2,0,1,1,1,17],[0,3,0,2,2,17],[0,1,1,2,2,17],[2,1,0,6,2,17],[0,2,0,7,3,17],[0,0,1,7,3,17],[1,2,0,4,4,17],[1,0,1,4,4,17],[0,1,0,12,4,17],[0,0,0,17,5,17],[1,3,0,0,0,18],[1,1,1,0,0,18],[4,1,0,1,1,18],[1,2,0,5,1,18],[1,0,1,5,1,18],[2,2,0,2,2,18],[2,0,1,2,2,18],[1,1,0,10,2,18],[0,3,0,3,3,18],[0,1,1,3,3,18],[2,1,0,7,3,18],[0,2,0,8,4,18],[0,0,1,8,4,18],[0,1,0,13,5,18],[3,2,0,0,0,19],[3,0,1,0,0,19],[1,3,0,1,1,19],[1,1,1,1,1,19],[3,1,0,5,1,19],[1,2,0,6,2,19],[1,0,1,6,2,19],[2,2,0,3,3,19],[2,0,1,3,3,19],[1,1,0,11,3,19],[0,3,0,4,4,19],[0,1,1,4,4,19],[0,2,0,9,5,19],[0,0,1,9,5,19],[0,4,0,0,0,20],[0,2,1,0,0,20],[0,0,2,0,0,20],[0,3,0,5,1,20],[0,1,1,5,1,20],[0,2,0,10,2,20],[0,0,1,10,2,20],[0,1,0,15,3,20],[0,0,0,20,4,20],[0,4,0,1,1,21],[0,2,1,1,1,21],[0,0,2,1,1,21],[0,3,0,6,2,21],[0,1,1,6,2,21],[0,2,0,11,3,21],[0,0,1,11,3,21],[0,1,0,16,4,21],[0,0,0,21,5,21],[0,0,2,2,2,22],[0,0,1,12,4,22],[0,0,2,3,3,23],[0,0,1,13,5,23],[0,0,2,4,4,24],[0,0,2,5,1,25],[0,0,1,15,3,25],[0,0,0,25,5,25],[0,0,2,6,2,26],[0,0,1,16,4,26]],18:[[1,0,0,15,3,3],[1,0,0,16,4,3],[3,0,0,10,2,9],[1,3,0,0,0,18],[1,1,1,0,0,18],[4,1,0,1,1,18],[1,2,0,5,1,18],[1,0,1,5,1,18],[2,2,0,2,2,18],[2,0,1,2,2,18],[1,1,0,10,2,18],[0,3,0,3,3,18],[0,1,1,3,3,18],[2,1,0,7,3,18],[0,2,0,8,4,18],[0,0,1,8,4,18],[0,1,0,13,5,18],[3,2,0,0,0,19],[3,0,1,0,0,19],[1,3,0,1,1,19],[1,1,1,1,1,19],[3,1,0,5,1,19],[1,2,0,6,2,19],[1,0,1,6,2,19],[2,2,0,3,3,19],[2,0,1,3,3,19],[1,1,0,11,3,19],[0,3,0,4,4,19],[0,1,1,4,4,19],[0,2,0,9,5,19],[0,0,1,9,5,19],[5,1,0,0,0,20],[0,4,0,0,0,20],[0,2,1,0,0,20],[0,0,2,0,0,20],[3,2,0,1,1,20],[3,0,1,1,1,20],[0,3,0,5,1,20],[0,1,1,5,1,20],[1,3,0,2,2,20],[1,1,1,2,2,20],[3,1,0,6,2,20],[0,2,0,10,2,20],[0,0,1,10,2,20],[1,2,0,7,3,20],[1,0,1,7,3,20],[0,1,0,15,3,20],[1,1,0,12,4,20],[0,0,0,20,4,20],[0,4,0,1,1,21],[0,2,1,1,1,21],[0,0,2,1,1,21],[0,3,0,6,2,21],[0,1,1,6,2,21],[0,2,0,11,3,21],[0,0,1,11,3,21],[0,1,0,16,4,21],[0,0,0,21,5,21],[0,4,0,2,2,22],[0,2,1,2,2,22],[0,0,2,2,2,22],[0,3,0,7,3,22],[0,1,1,7,3,22],[0,2,0,12,4,22],[0,0,1,12,4,22],[0,1,0,17,5,22],[0,0,2,3,3,23],[0,0,1,13,5,23],[0,0,2,4,4,24],[0,0,2,5,1,25],[0,0,1,15,3,25],[0,0,0,25,5,25],[0,0,2,6,2,26],[0,0,1,16,4,26],[0,0,2,7,3,27],[0,0,1,17,5,27]],19:[[1,0,0,16,4,3],[2,0,0,15,3,6],[3,0,0,10,2,9],[3,2,0,0,0,19],[3,0,1,0,0,19],[1,3,0,1,1,19],[1,1,1,1,1,19],[3,1,0,5,1,19],[1,2,0,6,2,19],[1,0,1,6,2,19],[2,2,0,3,3,19],[2,0,1,3,3,19],[1,1,0,11,3,19],[0,3,0,4,4,19],[0,1,1,4,4,19],[0,2,0,9,5,19],[0,0,1,9,5,19],[5,1,0,0,0,20],[0,4,0,0,0,20],[0,2,1,0,0,20],[0,0,2,0,0,20],[3,2,0,1,1,20],[3,0,1,1,1,20],[0,3,0,5,1,20],[0,1,1,5,1,20],[1,3,0,2,2,20],[1,1,1,2,2,20],[3,1,0,6,2,20],[0,2,0,10,2,20],[0,0,1,10,2,20],[1,2,0,7,3,20],[1,0,1,7,3,20],[0,1,0,15,3,20],[1,1,0,12,4,20],[0,0,0,20,4,20],[2,3,0,0,0,21],[2,1,1,0,0,21],[0,4,0,1,1,21],[0,2,1,1,1,21],[0,0,2,1,1,21],[2,2,0,5,1,21],[2,0,1,5,1,21],[3,2,0,2,2,21],[3,0,1,2,2,21],[0,3,0,6,2,21],[0,1,1,6,2,21],[2,1,0,10,2,21],[1,3,0,3,3,21],[1,1,1,3,3,21],[0,2,0,11,3,21],[0,0,1,11,3,21],[1,2,0,8,4,21],[1,0,1,8,4,21],[0,1,0,16,4,21],[0,0,0,21,5,21],[0,4,0,2,2,22],[0,2,1,2,2,22],[0,0,2,2,2,22],[0,3,0,7,3,22],[0,1,1,7,3,22],[0,2,0,12,4,22],[0,0,1,12,4,22],[0,1,0,17,5,22],[0,4,0,3,3,23],[0,2,1,3,3,23],[0,0,2,3,3,23],[0,3,0,8,4,23],[0,1,1,8,4,23],[0,2,0,13,5,23],[0,0,1,13,5,23],[0,0,2,4,4,24],[0,0,2,5,1,25],[0,0,1,15,3,25],[0,0,0,25,5,25],[0,0,2,6,2,26],[0,0,1,16,4,26],[0,0,2,7,3,27],[0,0,1,17,5,27],[0,0,2,8,4,28]],20:[[2,0,0,15,3,6],[5,1,0,0,0,20],[0,4,0,0,0,20],[0,2,1,0,0,20],[0,0,2,0,0,20],[3,2,0,1,1,20],[3,0,1,1,1,20],[0,3,0,5,1,20],[0,1,1,5,1,20],[1,3,0,2,2,20],[1,1,1,2,2,20],[3,1,0,6,2,20],[0,2,0,10,2,20],[0,0,1,10,2,20],[1,2,0,7,3,20],[1,0,1,7,3,20],[0,1,0,15,3,20],[1,1,0,12,4,20],[0,0,0,20,4,20],[2,3,0,0,0,21],[2,1,1,0,0,21],[0,4,0,1,1,21],[0,2,1,1,1,21],[0,0,2,1,1,21],[2,2,0,5,1,21],[2,0,1,5,1,21],[3,2,0,2,2,21],[3,0,1,2,2,21],[0,3,0,6,2,21],[0,1,1,6,2,21],[2,1,0,10,2,21],[1,3,0,3,3,21],[1,1,1,3,3,21],[0,2,0,11,3,21],[0,0,1,11,3,21],[1,2,0,8,4,21],[1,0,1,8,4,21],[0,1,0,16,4,21],[0,0,0,21,5,21],[4,2,0,0,0,22],[4,0,1,0,0,22],[2,3,0,1,1,22],[2,1,1,1,1,22],[4,1,0,5,1,22],[0,4,0,2,2,22],[0,2,1,2,2,22],[0,0,2,2,2,22],[2,2,0,6,2,22],[2,0,1,6,2,22],[0,3,0,7,3,22],[0,1,1,7,3,22],[2,1,0,11,3,22],[1,3,0,4,4,22],[1,1,1,4,4,22],[0,2,0,12,4,22],[0,0,1,12,4,22],[0,1,0,17,5,22],[0,4,0,3,3,23],[0,2,1,3,3,23],[0,0,2,3,3,23],[0,3,0,8,4,23],[0,1,1,8,4,23],[0,2,0,13,5,23],[0,0,1,13,5,23],[0,4,0,4,4,24],[0,2,1,4,4,24],[0,0,2,4,4,24],[0,3,0,9,5,24],[0,1,1,9,5,24],[0,0,2,5,1,25],[0,0,1,15,3,25],[0,0,0,25,5,25],[0,0,2,6,2,26],[0,0,1,16,4,26],[0,0,2,7,3,27],[0,0,1,17,5,27],[0,0,2,8,4,28],[0,0,2,9,5,29]],21:[[1,0,0,20,4,3],[2,0,0,15,3,6],[2,3,0,0,0,21],[2,1,1,0,0,21],[0,4,0,1,1,21],[0,2,1,1,1,21],[0,0,2,1,1,21],[2,2,0,5,1,21],[2,0,1,5,1,21],[3,2,0,2,2,21],[3,0,1,2,2,21],[0,3,0,6,2,21],[0,1,1,6,2,21],[2,1,0,10,2,21],[1,3,0,3,3,21],[1,1,1,3,3,21],[0,2,0,11,3,21],[0,0,1,11,3,21],[1,2,0,8,4,21],[1,0,1,8,4,21],[0,1,0,16,4,21],[0,0,0,21,5,21],[4,2,0,0,0,22],[4,0,1,0,0,22],[2,3,0,1,1,22],[2,1,1,1,1,22],[4,1,0,5,1,22],[0,4,0,2,2,22],[0,2,1,2,2,22],[0,0,2,2,2,22],[2,2,0,6,2,22],[2,0,1,6,2,22],[0,3,0,7,3,22],[0,1,1,7,3,22],[2,1,0,11,3,22],[1,3,0,4,4,22],[1,1,1,4,4,22],[0,2,0,12,4,22],[0,0,1,12,4,22],[0,1,0,17,5,22],[1,4,0,0,0,23],[1,2,1,0,0,23],[1,0,2,0,0,23],[4,2,0,1,1,23],[4,0,1,1,1,23],[1,3,0,5,1,23],[1,1,1,5,1,23],[2,3,0,2,2,23],[2,1,1,2,2,23],[1,2,0,10,2,23],[1,0,1,10,2,23],[0,4,0,3,3,23],[0,2,1,3,3,23],[0,0,2,3,3,23],[2,2,0,7,3,23],[2,0,1,7,3,23],[1,1,0,15,3,23],[0,3,0,8,4,23],[0,1,1,8,4,23],[0,2,0,13,5,23],[0,0,1,13,5,23],[0,4,0,4,4,24],[0,2,1,4,4,24],[0,0,2,4,4,24],[0,3,0,9,5,24],[0,1,1,9,5,24],[0,5,0,0,0,25],[0,3,1,0,0,25],[0,1,2,0,0,25],[0,4,0,5,1,25],[0,2,1,5,1,25],[0,0,2,5,1,25],[0,3,0,10,2,25],[0,1,1,10,2,25],[0,2,0,15,3,25],[0,0,1,15,3,25],[0,1,0,20,4,25],[0,0,0,25,5,25],[0,0,2,6,2,26],[0,0,1,16,4,26],[0,0,2,7,3,27],[0,0,1,17,5,27],[0,0,2,8,4,28],[0,0,2,9,5,29],[0,0,3,0,0,30],[0,0,2,10,2,30],[0,0,1,20,4,30]],22:[[1,0,0,20,4,3],[4,2,0,0,0,22],[4,0,1,0,0,22],[2,3,0,1,1,22],[2,1,1,1,1,22],[4,1,0,5,1,22],[0,4,0,2,2,22],[0,2,1,2,2,22],[0,0,2,2,2,22],[2,2,0,6,2,22],[2,0,1,6,2,22],[0,3,0,7,3,22],[0,1,1,7,3,22],[2,1,0,11,3,22],[1,3,0,4,4,22],[1,1,1,4,4,22],[0,2,0,12,4,22],[0,0,1,12,4,22],[0,1,0,17,5,22],[1,4,0,0,0,23],[1,2,1,0,0,23],[1,0,2,0,0,23],[4,2,0,1,1,23],[4,0,1,1,1,23],[1,3,0,5,1,23],[1,1,1,5,1,23],[2,3,0,2,2,23],[2,1,1,2,2,23],[1,2,0,10,2,23],[1,0,1,10,2,23],[0,4,0,3,3,23],[0,2,1,3,3,23],[0,0,2,3,3,23],[2,2,0,7,3,23],[2,0,1,7,3,23],[1,1,0,15,3,23],[0,3,0,8,4,23],[0,1,1,8,4,23],[0,2,0,13,5,23],[0,0,1,13,5,23],[3,3,0,0,0,24],[3,1,1,0,0,24],[1,4,0,1,1,24],[1,2,1,1,1,24],[1,0,2,1,1,24],[3,2,0,5,1,24],[3,0,1,5,1,24],[1,3,0,6,2,24],[1,1,1,6,2,24],[3,1,0,10,2,24],[2,3,0,3,3,24],[2,1,1,3,3,24],[1,2,0,11,3,24],[1,0,1,11,3,24],[0,4,0,4,4,24],[0,2,1,4,4,24],[0,0,2,4,4,24],[1,1,0,16,4,24],[0,3,0,9,5,24],[0,1,1,9,5,24],[0,5,0,0,0,25],[0,3,1,0,0,25],[0,1,2,0,0,25],[0,4,0,5,1,25],[0,2,1,5,1,25],[0,0,2,5,1,25],[0,3,0,10,2,25],[0,1,1,10,2,25],[0,2,0,15,3,25],[0,0,1,15,3,25],[0,1,0,20,4,25],[0,0,0,25,5,25],[0,5,0,1,1,26],[0,3,1,1,1,26],[0,1,2,1,1,26],[0,4,0,6,2,26],[0,2,1,6,2,26],[0,0,2,6,2,26],[0,3,0,11,3,26],[0,1,1,11,3,26],[0,2,0,16,4,26],[0,0,1,16,4,26],[0,1,0,21,5,26],[0,0,2,7,3,27],[0,0,1,17,5,27],[0,0,2,8,4,28],[0,0,2,9,5,29],[0,0,3,0,0,30],[0,0,2,10,2,30],[0,0,1,20,4,30],[0,0,3,1,1,31],[0,0,2,11,3,31],[0,0,1,21,5,31]],23:[[1,0,0,20,4,3],[1,4,0,0,0,23],[1,2,1,0,0,23],[1,0,2,0,0,23],[4,2,0,1,1,23],[4,0,1,1,1,23],[1,3,0,5,1,23],[1,1,1,5,1,23],[2,3,0,2,2,23],[2,1,1,2,2,23],[1,2,0,10,2,23],[1,0,1,10,2,23],[0,4,0,3,3,23],[0,2,1,3,3,23],[0,0,2,3,3,23],[2,2,0,7,3,23],[2,0,1,7,3,23],[1,1,0,15,3,23],[0,3,0,8,4,23],[0,1,1,8,4,23],[0,2,0,13,5,23],[0,0,1,13,5,23],[3,3,0,0,0,24],[3,1,1,0,0,24],[1,4,0,1,1,24],[1,2,1,1,1,24],[1,0,2,1,1,24],[3,2,0,5,1,24],[3,0,1,5,1,24],[1,3,0,6,2,24],[1,1,1,6,2,24],[3,1,0,10,2,24],[2,3,0,3,3,24],[2,1,1,3,3,24],[1,2,0,11,3,24],[1,0,1,11,3,24],[0,4,0,4,4,24],[0,2,1,4,4,24],[0,0,2,4,4,24],[1,1,0,16,4,24],[0,3,0,9,5,24],[0,1,1,9,5,24],[5,2,0,0,0,25],[0,5,0,0,0,25],[5,0,1,0,0,25],[0,3,1,0,0,25],[0,1,2,0,0,25],[3,3,0,1,1,25],[3,1,1,1,1,25],[0,4,0,5,1,25],[0,2,1,5,1,25],[0,0,2,5,1,25],[1,4,0,2,2,25],[1,2,1,2,2,25],[1,0,2,2,2,25],[3,2,0,6,2,25],[3,0,1,6,2,25],[0,3,0,10,2,25],[0,1,1,10,2,25],[1,3,0,7,3,25],[1,1,1,7,3,25],[0,2,0,15,3,25],[0,0,1,15,3,25],[1,2,0,12,4,25],[1,0,1,12,4,25],[0,1,0,20,4,25],[0,0,0,25,5,25],[0,5,0,1,1,26],[0,3,1,1,1,26],[0,1,2,1,1,26],[0,4,0,6,2,26],[0,2,1,6,2,26],[0,0,2,6,2,26],[0,3,0,11,3,26],[0,1,1,11,3,26],[0,2,0,16,4,26],[0,0,1,16,4,26],[0,1,0,21,5,26],[0,5,0,2,2,27],[0,3,1,2,2,27],[0,1,2,2,2,27],[0,4,0,7,3,27],[0,2,1,7,3,27],[0,0,2,7,3,27],[0,3,0,12,4,27],[0,1,1,12,4,27],[0,2,0,17,5,27],[0,0,1,17,5,27],[0,0,2,8,4,28],[0,0,2,9,5,29],[0,0,3,0,0,30],[0,0,2,10,2,30],[0,0,1,20,4,30],[0,0,3,1,1,31],[0,0,2,11,3,31],[0,0,1,21,5,31],[0,0,3,2,2,32],[0,0,2,12,4,32]],24:[[3,3,0,0,0,24],[3,1,1,0,0,24],[1,4,0,1,1,24],[1,2,1,1,1,24],[1,0,2,1,1,24],[3,2,0,5,1,24],[3,0,1,5,1,24],[1,3,0,6,2,24],[1,1,1,6,2,24],[3,1,0,10,2,24],[2,3,0,3,3,24],[2,1,1,3,3,24],[1,2,0,11,3,24],[1,0,1,11,3,24],[0,4,0,4,4,24],[0,2,1,4,4,24],[0,0,2,4,4,24],[1,1,0,16,4,24],[0,3,0,9,5,24],[0,1,1,9,5,24],[5,2,0,0,0,25],[0,5,0,0,0,25],[5,0,1,0,0,25],[0,3,1,0,0,25],[0,1,2,0,0,25],[3,3,0,1,1,25],[3,1,1,1,1,25],[0,4,0,5,1,25],[0,2,1,5,1,25],[0,0,2,5,1,25],[1,4,0,2,2,25],[1,2,1,2,2,25],[1,0,2,2,2,25],[3,2,0,6,2,25],[3,0,1,6,2,25],[0,3,0,10,2,25],[0,1,1,10,2,25],[1,3,0,7,3,25],[1,1,1,7,3,25],[0,2,0,15,3,25],[0,0,1,15,3,25],[1,2,0,12,4,25],[1,0,1,12,4,25],[0,1,0,20,4,25],[0,0,0,25,5,25],[2,4,0,0,0,26],[2,2,1,0,0,26],[2,0,2,0,0,26],[0,5,0,1,1,26],[0,3,1,1,1,26],[0,1,2,1,1,26],[2,3,0,5,1,26],[2,1,1,5,1,26],[3,3,0,2,2,26],[3,1,1,2,2,26],[0,4,0,6,2,26],[0,2,1,6,2,26],[0,0,2,6,2,26],[2,2,0,10,2,26],[2,0,1,10,2,26],[1,4,0,3,3,26],[1,2,1,3,3,26],[1,0,2,3,3,26],[0,3,0,11,3,26],[0,1,1,11,3,26],[2,1,0,15,3,26],[1,3,0,8,4,26],[1,1,1,8,4,26],[0,2,0,16,4,26],[0,0,1,16,4,26],[0,1,0,21,5,26],[0,5,0,2,2,27],[0,3,1,2,2,27],[0,1,2,2,2,27],[0,4,0,7,3,27],[0,2,1,7,3,27],[0,0,2,7,3,27],[0,3,0,12,4,27],[0,1,1,12,4,27],[0,2,0,17,5,27],[0,0,1,17,5,27],[0,5,0,3,3,28],[0,3,1,3,3,28],[0,1,2,3,3,28],[0,4,0,8,4,28],[0,2,1,8,4,28],[0,0,2,8,4,28],[0,3,0,13,5,28],[0,1,1,13,5,28],[0,0,2,9,5,29],[0,0,3,0,0,30],[0,0,2,10,2,30],[0,0,1,20,4,30],[0,0,3,1,1,31],[0,0,2,11,3,31],[0,0,1,21,5,31],[0,0,3,2,2,32],[0,0,2,12,4,32],[0,0,3,3,3,33],[0,0,2,13,5,33]],25:[[5,2,0,0,0,25],[0,5,0,0,0,25],[5,0,1,0,0,25],[0,3,1,0,0,25],[0,1,2,0,0,25],[3,3,0,1,1,25],[3,1,1,1,1,25],[0,4,0,5,1,25],[0,2,1,5,1,25],[0,0,2,5,1,25],[1,4,0,2,2,25],[1,2,1,2,2,25],[1,0,2,2,2,25],[3,2,0,6,2,25],[3,0,1,6,2,25],[0,3,0,10,2,25],[0,1,1,10,2,25],[1,3,0,7,3,25],[1,1,1,7,3,25],[0,2,0,15,3,25],[0,0,1,15,3,25],[1,2,0,12,4,25],[1,0,1,12,4,25],[0,1,0,20,4,25],[0,0,0,25,5,25],[2,4,0,0,0,26],[2,2,1,0,0,26],[2,0,2,0,0,26],[0,5,0,1,1,26],[0,3,1,1,1,26],[0,1,2,1,1,26],[2,3,0,5,1,26],[2,1,1,5,1,26],[3,3,0,2,2,26],[3,1,1,2,2,26],[0,4,0,6,2,26],[0,2,1,6,2,26],[0,0,2,6,2,26],[2,2,0,10,2,26],[2,0,1,10,2,26],[1,4,0,3,3,26],[1,2,1,3,3,26],[1,0,2,3,3,26],[0,3,0,11,3,26],[0,1,1,11,3,26],[2,1,0,15,3,26],[1,3,0,8,4,26],[1,1,1,8,4,26],[0,2,0,16,4,26],[0,0,1,16,4,26],[0,1,0,21,5,26],[4,3,0,0,0,27],[4,1,1,0,0,27],[2,4,0,1,1,27],[2,2,1,1,1,27],[2,0,2,1,1,27],[4,2,0,5,1,27],[4,0,1,5,1,27],[0,5,0,2,2,27],[0,3,1,2,2,27],[0,1,2,2,2,27],[2,3,0,6,2,27],[2,1,1,6,2,27],[0,4,0,7,3,27],[0,2,1,7,3,27],[0,0,2,7,3,27],[2,2,0,11,3,27],[2,0,1,11,3,27],[1,4,0,4,4,27],[1,2,1,4,4,27],[1,0,2,4,4,27],[0,3,0,12,4,27],[0,1,1,12,4,27],[0,2,0,17,5,27],[0,0,1,17,5,27],[0,5,0,3,3,28],[0,3,1,3,3,28],[0,1,2,3,3,28],[0,4,0,8,4,28],[0,2,1,8,4,28],[0,0,2,8,4,28],[0,3,0,13,5,28],[0,1,1,13,5,28],[0,5,0,4,4,29],[0,3,1,4,4,29],[0,1,2,4,4,29],[0,4,0,9,5,29],[0,2,1,9,5,29],[0,0,2,9,5,29],[0,0,3,0,0,30],[0,0,2,10,2,30],[0,0,1,20,4,30],[0,0,3,1,1,31],[0,0,2,11,3,31],[0,0,1,21,5,31],[0,0,3,2,2,32],[0,0,2,12,4,32],[0,0,3,3,3,33],[0,0,2,13,5,33],[0,0,3,4,4,34]],26:[[2,4,0,0,0,26],[2,2,1,0,0,26],[2,0,2,0,0,26],[0,5,0,1,1,26],[0,3,1,1,1,26],[0,1,2,1,1,26],[2,3,0,5,1,26],[2,1,1,5,1,26],[3,3,0,2,2,26],[3,1,1,2,2,26],[0,4,0,6,2,26],[0,2,1,6,2,26],[0,0,2,6,2,26],[2,2,0,10,2,26],[2,0,1,10,2,26],[1,4,0,3,3,26],[1,2,1,3,3,26],[1,0,2,3,3,26],[0,3,0,11,3,26],[0,1,1,11,3,26],[2,1,0,15,3,26],[1,3,0,8,4,26],[1,1,1,8,4,26],[0,2,0,16,4,26],[0,0,1,16,4,26],[0,1,0,21,5,26],[4,3,0,0,0,27],[4,1,1,0,0,27],[2,4,0,1,1,27],[2,2,1,1,1,27],[2,0,2,1,1,27],[4,2,0,5,1,27],[4,0,1,5,1,27],[0,5,0,2,2,27],[0,3,1,2,2,27],[0,1,2,2,2,27],[2,3,0,6,2,27],[2,1,1,6,2,27],[0,4,0,7,3,27],[0,2,1,7,3,27],[0,0,2,7,3,27],[2,2,0,11,3,27],[2,0,1,11,3,27],[1,4,0,4,4,27],[1,2,1,4,4,27],[1,0,2,4,4,27],[0,3,0,12,4,27],[0,1,1,12,4,27],[0,2,0,17,5,27],[0,0,1,17,5,27],[1,5,0,0,0,28],[1,3,1,0,0,28],[1,1,2,0,0,28],[4,3,0,1,1,28],[4,1,1,1,1,28],[1,4,0,5,1,28],[1,2,1,5,1,28],[1,0,2,5,1,28],[2,4,0,2,2,28],[2,2,1,2,2,28],[2,0,2,2,2,28],[1,3,0,10,2,28],[1,1,1,10,2,28],[0,5,0,3,3,28],[0,3,1,3,3,28],[0,1,2,3,3,28],[2,3,0,7,3,28],[2,1,1,7,3,28],[1,2,0,15,3,28],[1,0,1,15,3,28],[0,4,0,8,4,28],[0,2,1,8,4,28],[0,0,2,8,4,28],[1,1,0,20,4,28],[0,3,0,13,5,28],[0,1,1,13,5,28],[0,5,0,4,4,29],[0,3,1,4,4,29],[0,1,2,4,4,29],[0,4,0,9,5,29],[0,2,1,9,5,29],[0,0,2,9,5,29],[0,4,1,0,0,30],[0,2,2,0,0,30],[0,0,3,0,0,30],[0,5,0,5,1,30],[0,3,1,5,1,30],[0,1,2,5,1,30],[0,4,0,10,2,30],[0,2,1,10,2,30],[0,0,2,10,2,30],[0,3,0,15,3,30],[0,1,1,15,3,30],[0,2,0,20,4,30],[0,0,1,20,4,30],[0,1,0,25,5,30],[0,0,3,1,1,31],[0,0,2,11,3,31],[0,0,1,21,5,31],[0,0,3,2,2,32],[0,0,2,12,4,32],[0,0,3,3,3,33],[0,0,2,13,5,33],[0,0,3,4,4,34],[0,0,3,5,1,35],[0,0,2,15,3,35],[0,0,1,25,5,35]],27:[[4,3,0,0,0,27],[4,1,1,0,0,27],[2,4,0,1,1,27],[2,2,1,1,1,27],[2,0,2,1,1,27],[4,2,0,5,1,27],[4,0,1,5,1,27],[0,5,0,2,2,27],[0,3,1,2,2,27],[0,1,2,2,2,27],[2,3,0,6,2,27],[2,1,1,6,2,27],[0,4,0,7,3,27],[0,2,1,7,3,27],[0,0,2,7,3,27],[2,2,0,11,3,27],[2,0,1,11,3,27],[1,4,0,4,4,27],[1,2,1,4,4,27],[1,0,2,4,4,27],[0,3,0,12,4,27],[0,1,1,12,4,27],[0,2,0,17,5,27],[0,0,1,17,5,27],[1,5,0,0,0,28],[1,3,1,0,0,28],[1,1,2,0,0,28],[4,3,0,1,1,28],[4,1,1,1,1,28],[1,4,0,5,1,28],[1,2,1,5,1,28],[1,0,2,5,1,28],[2,4,0,2,2,28],[2,2,1,2,2,28],[2,0,2,2,2,28],[1,3,0,10,2,28],[1,1,1,10,2,28],[0,5,0,3,3,28],[0,3,1,3,3,28],[0,1,2,3,3,28],[2,3,0,7,3,28],[2,1,1,7,3,28],[1,2,0,15,3,28],[1,0,1,15,3,28],[0,4,0,8,4,28],[0,2,1,8,4,28],[0,0,2,8,4,28],[1,1,0,20,4,28],[0,3,0,13,5,28],[0,1,1,13,5,28],[3,4,0,0,0,29],[3,2,1,0,0,29],[3,0,2,0,0,29],[1,5,0,1,1,29],[1,3,1,1,1,29],[1,1,2,1,1,29],[3,3,0,5,1,29],[3,1,1,5,1,29],[1,4,0,6,2,29],[1,2,1,6,2,29],[1,0,2,6,2,29],[3,2,0,10,2,29],[3,0,1,10,2,29],[2,4,0,3,3,29],[2,2,1,3,3,29],[2,0,2,3,3,29],[1,3,0,11,3,29],[1,1,1,11,3,29],[0,5,0,4,4,29],[0,3,1,4,4,29],[0,1,2,4,4,29],[1,2,0,16,4,29],[1,0,1,16,4,29],[0,4,0,9,5,29],[0,2,1,9,5,29],[0,0,2,9,5,29],[0,4,1,0,0,30],[0,2,2,0,0,30],[0,0,3,0,0,30],[0,5,0,5,1,30],[0,3,1,5,1,30],[0,1,2,5,1,30],[0,4,0,10,2,30],[0,2,1,10,2,30],[0,0,2,10,2,30],[0,3,0,15,3,30],[0,1,1,15,3,30],[0,2,0,20,4,30],[0,0,1,20,4,30],[0,1,0,25,5,30],[0,4,1,1,1,31],[0,2,2,1,1,31],[0,0,3,1,1,31],[0,5,0,6,2,31],[0,3,1,6,2,31],[0,1,2,6,2,31],[0,4,0,11,3,31],[0,2,1,11,3,31],[0,0,2,11,3,31],[0,3,0,16,4,31],[0,1,1,16,4,31],[0,2,0,21,5,31],[0,0,1,21,5,31],[0,0,3,2,2,32],[0,0,2,12,4,32],[0,0,3,3,3,33],[0,0,2,13,5,33],[0,0,3,4,4,34],[0,0,3,5,1,35],[0,0,2,15,3,35],[0,0,1,25,5,35],[0,0,3,6,2,36],[0,0,2,16,4,36]],28:[[1,5,0,0,0,28],[1,3,1,0,0,28],[1,1,2,0,0,28],[4,3,0,1,1,28],[4,1,1,1,1,28],[1,4,0,5,1,28],[1,2,1,5,1,28],[1,0,2,5,1,28],[2,4,0,2,2,28],[2,2,1,2,2,28],[2,0,2,2,2,28],[1,3,0,10,2,28],[1,1,1,10,2,28],[0,5,0,3,3,28],[0,3,1,3,3,28],[0,1,2,3,3,28],[2,3,0,7,3,28],[2,1,1,7,3,28],[1,2,0,15,3,28],[1,0,1,15,3,28],[0,4,0,8,4,28],[0,2,1,8,4,28],[0,0,2,8,4,28],[1,1,0,20,4,28],[0,3,0,13,5,28],[0,1,1,13,5,28],[3,4,0,0,0,29],[3,2,1,0,0,29],[3,0,2,0,0,29],[1,5,0,1,1,29],[1,3,1,1,1,29],[1,1,2,1,1,29],[3,3,0,5,1,29],[3,1,1,5,1,29],[1,4,0,6,2,29],[1,2,1,6,2,29],[1,0,2,6,2,29],[3,2,0,10,2,29],[3,0,1,10,2,29],[2,4,0,3,3,29],[2,2,1,3,3,29],[2,0,2,3,3,29],[1,3,0,11,3,29],[1,1,1,11,3,29],[0,5,0,4,4,29],[0,3,1,4,4,29],[0,1,2,4,4,29],[1,2,0,16,4,29],[1,0,1,16,4,29],[0,4,0,9,5,29],[0,2,1,9,5,29],[0,0,2,9,5,29],[5,3,0,0,0,30],[5,1,1,0,0,30],[0,4,1,0,0,30],[0,2,2,0,0,30],[0,0,3,0,0,30],[3,4,0,1,1,30],[3,2,1,1,1,30],[3,0,2,1,1,30],[0,5,0,5,1,30],[0,3,1,5,1,30],[0,1,2,5,1,30],[1,5,0,2,2,30],[1,3,1,2,2,30],[1,1,2,2,2,30],[3,3,0,6,2,30],[3,1,1,6,2,30],[0,4,0,10,2,30],[0,2,1,10,2,30],[0,0,2,10,2,30],[1,4,0,7,3,30],[1,2,1,7,3,30],[1,0,2,7,3,30],[0,3,0,15,3,30],[0,1,1,15,3,30],[1,3,0,12,4,30],[1,1,1,12,4,30],[0,2,0,20,4,30],[0,0,1,20,4,30],[0,1,0,25,5,30],[0,4,1,1,1,31],[0,2,2,1,1,31],[0,0,3,1,1,31],[0,5,0,6,2,31],[0,3,1,6,2,31],[0,1,2,6,2,31],[0,4,0,11,3,31],[0,2,1,11,3,31],[0,0,2,11,3,31],[0,3,0,16,4,31],[0,1,1,16,4,31],[0,2,0,21,5,31],[0,0,1,21,5,31],[0,4,1,2,2,32],[0,2,2,2,2,32],[0,0,3,2,2,32],[0,5,0,7,3,32],[0,3,1,7,3,32],[0,1,2,7,3,32],[0,4,0,12,4,32],[0,2,1,12,4,32],[0,0,2,12,4,32],[0,3,0,17,5,32],[0,1,1,17,5,32],[0,0,3,3,3,33],[0,0,2,13,5,33],[0,0,3,4,4,34],[0,0,3,5,1,35],[0,0,2,15,3,35],[0,0,1,25,5,35],[0,0,3,6,2,36],[0,0,2,16,4,36],[0,0,3,7,3,37],[0,0,2,17,5,37]],29:[[3,4,0,0,0,29],[3,2,1,0,0,29],[3,0,2,0,0,29],[1,5,0,1,1,29],[1,3,1,1,1,29],[1,1,2,1,1,29],[3,3,0,5,1,29],[3,1,1,5,1,29],[1,4,0,6,2,29],[1,2,1,6,2,29],[1,0,2,6,2,29],[3,2,0,10,2,29],[3,0,1,10,2,29],[2,4,0,3,3,29],[2,2,1,3,3,29],[2,0,2,3,3,29],[1,3,0,11,3,29],[1,1,1,11,3,29],[0,5,0,4,4,29],[0,3,1,4,4,29],[0,1,2,4,4,29],[1,2,0,16,4,29],[1,0,1,16,4,29],[0,4,0,9,5,29],[0,2,1,9,5,29],[0,0,2,9,5,29],[5,3,0,0,0,30],[5,1,1,0,0,30],[0,4,1,0,0,30],[0,2,2,0,0,30],[0,0,3,0,0,30],[3,4,0,1,1,30],[3,2,1,1,1,30],[3,0,2,1,1,30],[0,5,0,5,1,30],[0,3,1,5,1,30],[0,1,2,5,1,30],[1,5,0,2,2,30],[1,3,1,2,2,30],[1,1,2,2,2,30],[3,3,0,6,2,30],[3,1,1,6,2,30],[0,4,0,10,2,30],[0,2,1,10,2,30],[0,0,2,10,2,30],[1,4,0,7,3,30],[1,2,1,7,3,30],[1,0,2,7,3,30],[0,3,0,15,3,30],[0,1,1,15,3,30],[1,3,0,12,4,30],[1,1,1,12,4,30],[0,2,0,20,4,30],[0,0,1,20,4,30],[0,1,0,25,5,30],[2,5,0,0,0,31],[2,3,1,0,0,31],[2,1,2,0,0,31],[0,4,1,1,1,31],[0,2,2,1,1,31],[0,0,3,1,1,31],[2,4,0,5,1,31],[2,2,1,5,1,31],[2,0,2,5,1,31],[3,4,0,2,2,31],[3,2,1,2,2,31],[3,0,2,2,2,31],[0,5,0,6,2,31],[0,3,1,6,2,31],[0,1,2,6,2,31],[2,3,0,10,2,31],[2,1,1,10,2,31],[1,5,0,3,3,31],[1,3,1,3,3,31],[1,1,2,3,3,31],[0,4,0,11,3,31],[0,2,1,11,3,31],[0,0,2,11,3,31],[2,2,0,15,3,31],[2,0,1,15,3,31],[1,4,0,8,4,31],[1,2,1,8,4,31],[1,0,2,8,4,31],[0,3,0,16,4,31],[0,1,1,16,4,31],[0,2,0,21,5,31],[0,0,1,21,5,31],[0,4,1,2,2,32],[0,2,2,2,2,32],[0,0,3,2,2,32],[0,5,0,7,3,32],[0,3,1,7,3,32],[0,1,2,7,3,32],[0,4,0,12,4,32],[0,2,1,12,4,32],[0,0,2,12,4,32],[0,3,0,17,5,32],[0,1,1,17,5,32],[0,4,1,3,3,33],[0,2,2,3,3,33],[0,0,3,3,3,33],[0,5,0,8,4,33],[0,3,1,8,4,33],[0,1,2,8,4,33],[0,4,0,13,5,33],[0,2,1,13,5,33],[0,0,2,13,5,33],[0,0,3,4,4,34],[0,0,3,5,1,35],[0,0,2,15,3,35],[0,0,1,25,5,35],[0,0,3,6,2,36],[0,0,2,16,4,36],[0,0,3,7,3,37],[0,0,2,17,5,37],[0,0,3,8,4,38]],30:[[5,3,0,0,0,30],[5,1,1,0,0,30],[0,4,1,0,0,30],[0,2,2,0,0,30],[0,0,3,0,0,30],[3,4,0,1,1,30],[3,2,1,1,1,30],[3,0,2,1,1,30],[0,5,0,5,1,30],[0,3,1,5,1,30],[0,1,2,5,1,30],[1,5,0,2,2,30],[1,3,1,2,2,30],[1,1,2,2,2,30],[3,3,0,6,2,30],[3,1,1,6,2,30],[0,4,0,10,2,30],[0,2,1,10,2,30],[0,0,2,10,2,30],[1,4,0,7,3,30],[1,2,1,7,3,30],[1,0,2,7,3,30],[0,3,0,15,3,30],[0,1,1,15,3,30],[1,3,0,12,4,30],[1,1,1,12,4,30],[0,2,0,20,4,30],[0,0,1,20,4,30],[0,1,0,25,5,30],[2,5,0,0,0,31],[2,3,1,0,0,31],[2,1,2,0,0,31],[0,4,1,1,1,31],[0,2,2,1,1,31],[0,0,3,1,1,31],[2,4,0,5,1,31],[2,2,1,5,1,31],[2,0,2,5,1,31],[3,4,0,2,2,31],[3,2,1,2,2,31],[3,0,2,2,2,31],[0,5,0,6,2,31],[0,3,1,6,2,31],[0,1,2,6,2,31],[2,3,0,10,2,31],[2,1,1,10,2,31],[1,5,0,3,3,31],[1,3,1,3,3,31],[1,1,2,3,3,31],[0,4,0,11,3,31],[0,2,1,11,3,31],[0,0,2,11,3,31],[2,2,0,15,3,31],[2,0,1,15,3,31],[1,4,0,8,4,31],[1,2,1,8,4,31],[1,0,2,8,4,31],[0,3,0,16,4,31],[0,1,1,16,4,31],[0,2,0,21,5,31],[0,0,1,21,5,31],[4,4,0,0,0,32],[4,2,1,0,0,32],[4,0,2,0,0,32],[2,5,0,1,1,32],[2,3,1,1,1,32],[2,1,2,1,1,32],[4,3,0,5,1,32],[4,1,1,5,1,32],[0,4,1,2,2,32],[0,2,2,2,2,32],[0,0,3,2,2,32],[2,4,0,6,2,32],[2,2,1,6,2,32],[2,0,2,6,2,32],[0,5,0,7,3,32],[0,3,1,7,3,32],[0,1,2,7,3,32],[2,3,0,11,3,32],[2,1,1,11,3,32],[1,5,0,4,4,32],[1,3,1,4,4,32],[1,1,2,4,4,32],[0,4,0,12,4,32],[0,2,1,12,4,32],[0,0,2,12,4,32],[0,3,0,17,5,32],[0,1,1,17,5,32],[0,4,1,3,3,33],[0,2,2,3,3,33],[0,0,3,3,3,33],[0,5,0,8,4,33],[0,3,1,8,4,33],[0,1,2,8,4,33],[0,4,0,13,5,33],[0,2,1,13,5,33],[0,0,2,13,5,33],[0,4,1,4,4,34],[0,2,2,4,4,34],[0,0,3,4,4,34],[0,5,0,9,5,34],[0,3,1,9,5,34],[0,1,2,9,5,34],[0,0,3,5,1,35],[0,0,2,15,3,35],[0,0,1,25,5,35],[0,0,3,6,2,36],[0,0,2,16,4,36],[0,0,3,7,3,37],[0,0,2,17,5,37],[0,0,3,8,4,38],[0,0,3,9,5,39]],31:[[2,5,0,0,0,31],[2,3,1,0,0,31],[2,1,2,0,0,31],[0,4,1,1,1,31],[0,2,2,1,1,31],[0,0,3,1,1,31],[2,4,0,5,1,31],[2,2,1,5,1,31],[2,0,2,5,1,31],[3,4,0,2,2,31],[3,2,1,2,2,31],[3,0,2,2,2,31],[0,5,0,6,2,31],[0,3,1,6,2,31],[0,1,2,6,2,31],[2,3,0,10,2,31],[2,1,1,10,2,31],[1,5,0,3,3,31],[1,3,1,3,3,31],[1,1,2,3,3,31],[0,4,0,11,3,31],[0,2,1,11,3,31],[0,0,2,11,3,31],[2,2,0,15,3,31],[2,0,1,15,3,31],[1,4,0,8,4,31],[1,2,1,8,4,31],[1,0,2,8,4,31],[0,3,0,16,4,31],[0,1,1,16,4,31],[0,2,0,21,5,31],[0,0,1,21,5,31],[4,4,0,0,0,32],[4,2,1,0,0,32],[4,0,2,0,0,32],[2,5,0,1,1,32],[2,3,1,1,1,32],[2,1,2,1,1,32],[4,3,0,5,1,32],[4,1,1,5,1,32],[0,4,1,2,2,32],[0,2,2,2,2,32],[0,0,3,2,2,32],[2,4,0,6,2,32],[2,2,1,6,2,32],[2,0,2,6,2,32],[0,5,0,7,3,32],[0,3,1,7,3,32],[0,1,2,7,3,32],[2,3,0,11,3,32],[2,1,1,11,3,32],[1,5,0,4,4,32],[1,3,1,4,4,32],[1,1,2,4,4,32],[0,4,0,12,4,32],[0,2,1,12,4,32],[0,0,2,12,4,32],[0,3,0,17,5,32],[0,1,1,17,5,32],[1,4,1,0,0,33],[1,2,2,0,0,33],[1,0,3,0,0,33],[4,4,0,1,1,33],[4,2,1,1,1,33],[4,0,2,1,1,33],[1,5,0,5,1,33],[1,3,1,5,1,33],[1,1,2,5,1,33],[2,5,0,2,2,33],[2,3,1,2,2,33],[2,1,2,2,2,33],[1,4,0,10,2,33],[1,2,1,10,2,33],[1,0,2,10,2,33],[0,4,1,3,3,33],[0,2,2,3,3,33],[0,0,3,3,3,33],[2,4,0,7,3,33],[2,2,1,7,3,33],[2,0,2,7,3,33],[1,3,0,15,3,33],[1,1,1,15,3,33],[0,5,0,8,4,33],[0,3,1,8,4,33],[0,1,2,8,4,33],[1,2,0,20,4,33],[1,0,1,20,4,33],[0,4,0,13,5,33],[0,2,1,13,5,33],[0,0,2,13,5,33],[0,4,1,4,4,34],[0,2,2,4,4,34],[0,0,3,4,4,34],[0,5,0,9,5,34],[0,3,1,9,5,34],[0,1,2,9,5,34],[0,3,2,0,0,35],[0,1,3,0,0,35],[0,4,1,5,1,35],[0,2,2,5,1,35],[0,0,3,5,1,35],[0,5,0,10,2,35],[0,3,1,10,2,35],[0,1,2,10,2,35],[0,4,0,15,3,35],[0,2,1,15,3,35],[0,0,2,15,3,35],[0,3,0,20,4,35],[0,1,1,20,4,35],[0,2,0,25,5,35],[0,0,1,25,5,35],[0,0,3,6,2,36],[0,0,2,16,4,36],[0,0,3,7,3,37],[0,0,2,17,5,37],[0,0,3,8,4,38],[0,0,3,9,5,39],[0,0,4,0,0,40],[0,0,3,10,2,40],[0,0,2,20,4,40]],32:[[4,4,0,0,0,32],[4,2,1,0,0,32],[4,0,2,0,0,32],[2,5,0,1,1,32],[2,3,1,1,1,32],[2,1,2,1,1,32],[4,3,0,5,1,32],[4,1,1,5,1,32],[0,4,1,2,2,32],[0,2,2,2,2,32],[0,0,3,2,2,32],[2,4,0,6,2,32],[2,2,1,6,2,32],[2,0,2,6,2,32],[0,5,0,7,3,32],[0,3,1,7,3,32],[0,1,2,7,3,32],[2,3,0,11,3,32],[2,1,1,11,3,32],[1,5,0,4,4,32],[1,3,1,4,4,32],[1,1,2,4,4,32],[0,4,0,12,4,32],[0,2,1,12,4,32],[0,0,2,12,4,32],[0,3,0,17,5,32],[0,1,1,17,5,32],[1,4,1,0,0,33],[1,2,2,0,0,33],[1,0,3,0,0,33],[4,4,0,1,1,33],[4,2,1,1,1,33],[4,0,2,1,1,33],[1,5,0,5,1,33],[1,3,1,5,1,33],[1,1,2,5,1,33],[2,5,0,2,2,33],[2,3,1,2,2,33],[2,1,2,2,2,33],[1,4,0,10,2,33],[1,2,1,10,2,33],[1,0,2,10,2,33],[0,4,1,3,3,33],[0,2,2,3,3,33],[0,0,3,3,3,33],[2,4,0,7,3,33],[2,2,1,7,3,33],[2,0,2,7,3,33],[1,3,0,15,3,33],[1,1,1,15,3,33],[0,5,0,8,4,33],[0,3,1,8,4,33],[0,1,2,8,4,33],[1,2,0,20,4,33],[1,0,1,20,4,33],[0,4,0,13,5,33],[0,2,1,13,5,33],[0,0,2,13,5,33],[3,5,0,0,0,34],[3,3,1,0,0,34],[3,1,2,0,0,34],[1,4,1,1,1,34],[1,2,2,1,1,34],[1,0,3,1,1,34],[3,4,0,5,1,34],[3,2,1,5,1,34],[3,0,2,5,1,34],[1,5,0,6,2,34],[1,3,1,6,2,34],[1,1,2,6,2,34],[3,3,0,10,2,34],[3,1,1,10,2,34],[2,5,0,3,3,34],[2,3,1,3,3,34],[2,1,2,3,3,34],[1,4,0,11,3,34],[1,2,1,11,3,34],[1,0,2,11,3,34],[0,4,1,4,4,34],[0,2,2,4,4,34],[0,0,3,4,4,34],[1,3,0,16,4,34],[1,1,1,16,4,34],[0,5,0,9,5,34],[0,3,1,9,5,34],[0,1,2,9,5,34],[0,3,2,0,0,35],[0,1,3,0,0,35],[0,4,1,5,1,35],[0,2,2,5,1,35],[0,0,3,5,1,35],[0,5,0,10,2,35],[0,3,1,10,2,35],[0,1,2,10,2,35],[0,4,0,15,3,35],[0,2,1,15,3,35],[0,0,2,15,3,35],[0,3,0,20,4,35],[0,1,1,20,4,35],[0,2,0,25,5,35],[0,0,1,25,5,35],[0,3,2,1,1,36],[0,1,3,1,1,36],[0,4,1,6,2,36],[0,2,2,6,2,36],[0,0,3,6,2,36],[0,5,0,11,3,36],[0,3,1,11,3,36],[0,1,2,11,3,36],[0,4,0,16,4,36],[0,2,1,16,4,36],[0,0,2,16,4,36],[0,3,0,21,5,36],[0,1,1,21,5,36],[0,0,3,7,3,37],[0,0,2,17,5,37],[0,0,3,8,4,38],[0,0,3,9,5,39],[0,0,4,0,0,40],[0,0,3,10,2,40],[0,0,2,20,4,40],[0,0,4,1,1,41],[0,0,3,11,3,41],[0,0,2,21,5,41]],33:[[1,4,1,0,0,33],[1,2,2,0,0,33],[1,0,3,0,0,33],[4,4,0,1,1,33],[4,2,1,1,1,33],[4,0,2,1,1,33],[1,5,0,5,1,33],[1,3,1,5,1,33],[1,1,2,5,1,33],[2,5,0,2,2,33],[2,3,1,2,2,33],[2,1,2,2,2,33],[1,4,0,10,2,33],[1,2,1,10,2,33],[1,0,2,10,2,33],[0,4,1,3,3,33],[0,2,2,3,3,33],[0,0,3,3,3,33],[2,4,0,7,3,33],[2,2,1,7,3,33],[2,0,2,7,3,33],[1,3,0,15,3,33],[1,1,1,15,3,33],[0,5,0,8,4,33],[0,3,1,8,4,33],[0,1,2,8,4,33],[1,2,0,20,4,33],[1,0,1,20,4,33],[0,4,0,13,5,33],[0,2,1,13,5,33],[0,0,2,13,5,33],[3,5,0,0,0,34],[3,3,1,0,0,34],[3,1,2,0,0,34],[1,4,1,1,1,34],[1,2,2,1,1,34],[1,0,3,1,1,34],[3,4,0,5,1,34],[3,2,1,5,1,34],[3,0,2,5,1,34],[1,5,0,6,2,34],[1,3,1,6,2,34],[1,1,2,6,2,34],[3,3,0,10,2,34],[3,1,1,10,2,34],[2,5,0,3,3,34],[2,3,1,3,3,34],[2,1,2,3,3,34],[1,4,0,11,3,34],[1,2,1,11,3,34],[1,0,2,11,3,34],[0,4,1,4,4,34],[0,2,2,4,4,34],[0,0,3,4,4,34],[1,3,0,16,4,34],[1,1,1,16,4,34],[0,5,0,9,5,34],[0,3,1,9,5,34],[0,1,2,9,5,34],[5,4,0,0,0,35],[5,2,1,0,0,35],[5,0,2,0,0,35],[0,3,2,0,0,35],[0,1,3,0,0,35],[3,5,0,1,1,35],[3,3,1,1,1,35],[3,1,2,1,1,35],[0,4,1,5,1,35],[0,2,2,5,1,35],[0,0,3,5,1,35],[1,4,1,2,2,35],[1,2,2,2,2,35],[1,0,3,2,2,35],[3,4,0,6,2,35],[3,2,1,6,2,35],[3,0,2,6,2,35],[0,5,0,10,2,35],[0,3,1,10,2,35],[0,1,2,10,2,35],[1,5,0,7,3,35],[1,3,1,7,3,35],[1,1,2,7,3,35],[0,4,0,15,3,35],[0,2,1,15,3,35],[0,0,2,15,3,35],[1,4,0,12,4,35],[1,2,1,12,4,35],[1,0,2,12,4,35],[0,3,0,20,4,35],[0,1,1,20,4,35],[0,2,0,25,5,35],[0,0,1,25,5,35],[0,3,2,1,1,36],[0,1,3,1,1,36],[0,4,1,6,2,36],[0,2,2,6,2,36],[0,0,3,6,2,36],[0,5,0,11,3,36],[0,3,1,11,3,36],[0,1,2,11,3,36],[0,4,0,16,4,36],[0,2,1,16,4,36],[0,0,2,16,4,36],[0,3,0,21,5,36],[0,1,1,21,5,36],[0,3,2,2,2,37],[0,1,3,2,2,37],[0,4,1,7,3,37],[0,2,2,7,3,37],[0,0,3,7,3,37],[0,5,0,12,4,37],[0,3,1,12,4,37],[0,1,2,12,4,37],[0,4,0,17,5,37],[0,2,1,17,5,37],[0,0,2,17,5,37],[0,0,3,8,4,38],[0,0,3,9,5,39],[0,0,4,0,0,40],[0,0,3,10,2,40],[0,0,2,20,4,40],[0,0,4,1,1,41],[0,0,3,11,3,41],[0,0,2,21,5,41],[0,0,4,2,2,42],[0,0,3,12,4,42]],34:[[3,5,0,0,0,34],[3,3,1,0,0,34],[3,1,2,0,0,34],[1,4,1,1,1,34],[1,2,2,1,1,34],[1,0,3,1,1,34],[3,4,0,5,1,34],[3,2,1,5,1,34],[3,0,2,5,1,34],[1,5,0,6,2,34],[1,3,1,6,2,34],[1,1,2,6,2,34],[3,3,0,10,2,34],[3,1,1,10,2,34],[2,5,0,3,3,34],[2,3,1,3,3,34],[2,1,2,3,3,34],[1,4,0,11,3,34],[1,2,1,11,3,34],[1,0,2,11,3,34],[0,4,1,4,4,34],[0,2,2,4,4,34],[0,0,3,4,4,34],[1,3,0,16,4,34],[1,1,1,16,4,34],[0,5,0,9,5,34],[0,3,1,9,5,34],[0,1,2,9,5,34],[5,4,0,0,0,35],[5,2,1,0,0,35],[5,0,2,0,0,35],[0,3,2,0,0,35],[0,1,3,0,0,35],[3,5,0,1,1,35],[3,3,1,1,1,35],[3,1,2,1,1,35],[0,4,1,5,1,35],[0,2,2,5,1,35],[0,0,3,5,1,35],[1,4,1,2,2,35],[1,2,2,2,2,35],[1,0,3,2,2,35],[3,4,0,6,2,35],[3,2,1,6,2,35],[3,0,2,6,2,35],[0,5,0,10,2,35],[0,3,1,10,2,35],[0,1,2,10,2,35],[1,5,0,7,3,35],[1,3,1,7,3,35],[1,1,2,7,3,35],[0,4,0,15,3,35],[0,2,1,15,3,35],[0,0,2,15,3,35],[1,4,0,12,4,35],[1,2,1,12,4,35],[1,0,2,12,4,35],[0,3,0,20,4,35],[0,1,1,20,4,35],[0,2,0,25,5,35],[0,0,1,25,5,35],[2,4,1,0,0,36],[2,2,2,0,0,36],[2,0,3,0,0,36],[0,3,2,1,1,36],[0,1,3,1,1,36],[2,5,0,5,1,36],[2,3,1,5,1,36],[2,1,2,5,1,36],[3,5,0,2,2,36],[3,3,1,2,2,36],[3,1,2,2,2,36],[0,4,1,6,2,36],[0,2,2,6,2,36],[0,0,3,6,2,36],[2,4,0,10,2,36],[2,2,1,10,2,36],[2,0,2,10,2,36],[1,4,1,3,3,36],[1,2,2,3,3,36],[1,0,3,3,3,36],[0,5,0,11,3,36],[0,3,1,11,3,36],[0,1,2,11,3,36],[2,3,0,15,3,36],[2,1,1,15,3,36],[1,5,0,8,4,36],[1,3,1,8,4,36],[1,1,2,8,4,36],[0,4,0,16,4,36],[0,2,1,16,4,36],[0,0,2,16,4,36],[0,3,0,21,5,36],[0,1,1,21,5,36],[0,3,2,2,2,37],[0,1,3,2,2,37],[0,4,1,7,3,37],[0,2,2,7,3,37],[0,0,3,7,3,37],[0,5,0,12,4,37],[0,3,1,12,4,37],[0,1,2,12,4,37],[0,4,0,17,5,37],[0,2,1,17,5,37],[0,0,2,17,5,37],[0,3,2,3,3,38],[0,1,3,3,3,38],[0,4,1,8,4,38],[0,2,2,8,4,38],[0,0,3,8,4,38],[0,5,0,13,5,38],[0,3,1,13,5,38],[0,1,2,13,5,38],[0,0,3,9,5,39],[0,0,4,0,0,40],[0,0,3,10,2,40],[0,0,2,20,4,40],[0,0,4,1,1,41],[0,0,3,11,3,41],[0,0,2,21,5,41],[0,0,4,2,2,42],[0,0,3,12,4,42],[0,0,4,3,3,43],[0,0,3,13,5,43]],35:[[5,4,0,0,0,35],[5,2,1,0,0,35],[5,0,2,0,0,35],[0,3,2,0,0,35],[0,1,3,0,0,35],[3,5,0,1,1,35],[3,3,1,1,1,35],[3,1,2,1,1,35],[0,4,1,5,1,35],[0,2,2,5,1,35],[0,0,3,5,1,35],[1,4,1,2,2,35],[1,2,2,2,2,35],[1,0,3,2,2,35],[3,4,0,6,2,35],[3,2,1,6,2,35],[3,0,2,6,2,35],[0,5,0,10,2,35],[0,3,1,10,2,35],[0,1,2,10,2,35],[1,5,0,7,3,35],[1,3,1,7,3,35],[1,1,2,7,3,35],[0,4,0,15,3,35],[0,2,1,15,3,35],[0,0,2,15,3,35],[1,4,0,12,4,35],[1,2,1,12,4,35],[1,0,2,12,4,35],[0,3,0,20,4,35],[0,1,1,20,4,35],[0,2,0,25,5,35],[0,0,1,25,5,35],[2,4,1,0,0,36],[2,2,2,0,0,36],[2,0,3,0,0,36],[0,3,2,1,1,36],[0,1,3,1,1,36],[2,5,0,5,1,36],[2,3,1,5,1,36],[2,1,2,5,1,36],[3,5,0,2,2,36],[3,3,1,2,2,36],[3,1,2,2,2,36],[0,4,1,6,2,36],[0,2,2,6,2,36],[0,0,3,6,2,36],[2,4,0,10,2,36],[2,2,1,10,2,36],[2,0,2,10,2,36],[1,4,1,3,3,36],[1,2,2,3,3,36],[1,0,3,3,3,36],[0,5,0,11,3,36],[0,3,1,11,3,36],[0,1,2,11,3,36],[2,3,0,15,3,36],[2,1,1,15,3,36],[1,5,0,8,4,36],[1,3,1,8,4,36],[1,1,2,8,4,36],[0,4,0,16,4,36],[0,2,1,16,4,36],[0,0,2,16,4,36],[0,3,0,21,5,36],[0,1,1,21,5,36],[4,5,0,0,0,37],[4,3,1,0,0,37],[4,1,2,0,0,37],[2,4,1,1,1,37],[2,2,2,1,1,37],[2,0,3,1,1,37],[4,4,0,5,1,37],[4,2,1,5,1,37],[4,0,2,5,1,37],[0,3,2,2,2,37],[0,1,3,2,2,37],[2,5,0,6,2,37],[2,3,1,6,2,37],[2,1,2,6,2,37],[0,4,1,7,3,37],[0,2,2,7,3,37],[0,0,3,7,3,37],[2,4,0,11,3,37],[2,2,1,11,3,37],[2,0,2,11,3,37],[1,4,1,4,4,37],[1,2,2,4,4,37],[1,0,3,4,4,37],[0,5,0,12,4,37],[0,3,1,12,4,37],[0,1,2,12,4,37],[0,4,0,17,5,37],[0,2,1,17,5,37],[0,0,2,17,5,37],[0,3,2,3,3,38],[0,1,3,3,3,38],[0,4,1,8,4,38],[0,2,2,8,4,38],[0,0,3,8,4,38],[0,5,0,13,5,38],[0,3,1,13,5,38],[0,1,2,13,5,38],[0,3,2,4,4,39],[0,1,3,4,4,39],[0,4,1,9,5,39],[0,2,2,9,5,39],[0,0,3,9,5,39],[0,0,4,0,0,40],[0,0,3,10,2,40],[0,0,2,20,4,40],[0,0,4,1,1,41],[0,0,3,11,3,41],[0,0,2,21,5,41],[0,0,4,2,2,42],[0,0,3,12,4,42],[0,0,4,3,3,43],[0,0,3,13,5,43],[0,0,4,4,4,44]],36:[[2,4,1,0,0,36],[2,2,2,0,0,36],[2,0,3,0,0,36],[0,3,2,1,1,36],[0,1,3,1,1,36],[2,5,0,5,1,36],[2,3,1,5,1,36],[2,1,2,5,1,36],[3,5,0,2,2,36],[3,3,1,2,2,36],[3,1,2,2,2,36],[0,4,1,6,2,36],[0,2,2,6,2,36],[0,0,3,6,2,36],[2,4,0,10,2,36],[2,2,1,10,2,36],[2,0,2,10,2,36],[1,4,1,3,3,36],[1,2,2,3,3,36],[1,0,3,3,3,36],[0,5,0,11,3,36],[0,3,1,11,3,36],[0,1,2,11,3,36],[2,3,0,15,3,36],[2,1,1,15,3,36],[1,5,0,8,4,36],[1,3,1,8,4,36],[1,1,2,8,4,36],[0,4,0,16,4,36],[0,2,1,16,4,36],[0,0,2,16,4,36],[0,3,0,21,5,36],[0,1,1,21,5,36],[4,5,0,0,0,37],[4,3,1,0,0,37],[4,1,2,0,0,37],[2,4,1,1,1,37],[2,2,2,1,1,37],[2,0,3,1,1,37],[4,4,0,5,1,37],[4,2,1,5,1,37],[4,0,2,5,1,37],[0,3,2,2,2,37],[0,1,3,2,2,37],[2,5,0,6,2,37],[2,3,1,6,2,37],[2,1,2,6,2,37],[0,4,1,7,3,37],[0,2,2,7,3,37],[0,0,3,7,3,37],[2,4,0,11,3,37],[2,2,1,11,3,37],[2,0,2,11,3,37],[1,4,1,4,4,37],[1,2,2,4,4,37],[1,0,3,4,4,37],[0,5,0,12,4,37],[0,3,1,12,4,37],[0,1,2,12,4,37],[0,4,0,17,5,37],[0,2,1,17,5,37],[0,0,2,17,5,37],[1,3,2,0,0,38],[1,1,3,0,0,38],[4,5,0,1,1,38],[4,3,1,1,1,38],[4,1,2,1,1,38],[1,4,1,5,1,38],[1,2,2,5,1,38],[1,0,3,5,1,38],[2,4,1,2,2,38],[2,2,2,2,2,38],[2,0,3,2,2,38],[1,5,0,10,2,38],[1,3,1,10,2,38],[1,1,2,10,2,38],[0,3,2,3,3,38],[0,1,3,3,3,38],[2,5,0,7,3,38],[2,3,1,7,3,38],[2,1,2,7,3,38],[1,4,0,15,3,38],[1,2,1,15,3,38],[1,0,2,15,3,38],[0,4,1,8,4,38],[0,2,2,8,4,38],[0,0,3,8,4,38],[1,3,0,20,4,38],[1,1,1,20,4,38],[0,5,0,13,5,38],[0,3,1,13,5,38],[0,1,2,13,5,38],[0,3,2,4,4,39],[0,1,3,4,4,39],[0,4,1,9,5,39],[0,2,2,9,5,39],[0,0,3,9,5,39],[0,2,3,0,0,40],[0,0,4,0,0,40],[0,3,2,5,1,40],[0,1,3,5,1,40],[0,4,1,10,2,40],[0,2,2,10,2,40],[0,0,3,10,2,40],[0,5,0,15,3,40],[0,3,1,15,3,40],[0,1,2,15,3,40],[0,4,0,20,4,40],[0,2,1,20,4,40],[0,0,2,20,4,40],[0,3,0,25,5,40],[0,1,1,25,5,40],[0,0,4,1,1,41],[0,0,3,11,3,41],[0,0,2,21,5,41],[0,0,4,2,2,42],[0,0,3,12,4,42],[0,0,4,3,3,43],[0,0,3,13,5,43],[0,0,4,4,4,44],[0,0,4,5,1,45],[0,0,3,15,3,45],[0,0,2,25,5,45]],37:[[4,5,0,0,0,37],[4,3,1,0,0,37],[4,1,2,0,0,37],[2,4,1,1,1,37],[2,2,2,1,1,37],[2,0,3,1,1,37],[4,4,0,5,1,37],[4,2,1,5,1,37],[4,0,2,5,1,37],[0,3,2,2,2,37],[0,1,3,2,2,37],[2,5,0,6,2,37],[2,3,1,6,2,37],[2,1,2,6,2,37],[0,4,1,7,3,37],[0,2,2,7,3,37],[0,0,3,7,3,37],[2,4,0,11,3,37],[2,2,1,11,3,37],[2,0,2,11,3,37],[1,4,1,4,4,37],[1,2,2,4,4,37],[1,0,3,4,4,37],[0,5,0,12,4,37],[0,3,1,12,4,37],[0,1,2,12,4,37],[0,4,0,17,5,37],[0,2,1,17,5,37],[0,0,2,17,5,37],[1,3,2,0,0,38],[1,1,3,0,0,38],[4,5,0,1,1,38],[4,3,1,1,1,38],[4,1,2,1,1,38],[1,4,1,5,1,38],[1,2,2,5,1,38],[1,0,3,5,1,38],[2,4,1,2,2,38],[2,2,2,2,2,38],[2,0,3,2,2,38],[1,5,0,10,2,38],[1,3,1,10,2,38],[1,1,2,10,2,38],[0,3,2,3,3,38],[0,1,3,3,3,38],[2,5,0,7,3,38],[2,3,1,7,3,38],[2,1,2,7,3,38],[1,4,0,15,3,38],[1,2,1,15,3,38],[1,0,2,15,3,38],[0,4,1,8,4,38],[0,2,2,8,4,38],[0,0,3,8,4,38],[1,3,0,20,4,38],[1,1,1,20,4,38],[0,5,0,13,5,38],[0,3,1,13,5,38],[0,1,2,13,5,38],[3,4,1,0,0,39],[3,2,2,0,0,39],[3,0,3,0,0,39],[1,3,2,1,1,39],[1,1,3,1,1,39],[3,5,0,5,1,39],[3,3,1,5,1,39],[3,1,2,5,1,39],[1,4,1,6,2,39],[1,2,2,6,2,39],[1,0,3,6,2,39],[3,4,0,10,2,39],[3,2,1,10,2,39],[3,0,2,10,2,39],[2,4,1,3,3,39],[2,2,2,3,3,39],[2,0,3,3,3,39],[1,5,0,11,3,39],[1,3,1,11,3,39],[1,1,2,11,3,39],[0,3,2,4,4,39],[0,1,3,4,4,39],[1,4,0,16,4,39],[1,2,1,16,4,39],[1,0,2,16,4,39],[0,4,1,9,5,39],[0,2,2,9,5,39],[0,0,3,9,5,39],[0,2,3,0,0,40],[0,0,4,0,0,40],[0,3,2,5,1,40],[0,1,3,5,1,40],[0,4,1,10,2,40],[0,2,2,10,2,40],[0,0,3,10,2,40],[0,5,0,15,3,40],[0,3,1,15,3,40],[0,1,2,15,3,40],[0,4,0,20,4,40],[0,2,1,20,4,40],[0,0,2,20,4,40],[0,3,0,25,5,40],[0,1,1,25,5,40],[0,2,3,1,1,41],[0,0,4,1,1,41],[0,3,2,6,2,41],[0,1,3,6,2,41],[0,4,1,11,3,41],[0,2,2,11,3,41],[0,0,3,11,3,41],[0,5,0,16,4,41],[0,3,1,16,4,41],[0,1,2,16,4,41],[0,4,0,21,5,41],[0,2,1,21,5,41],[0,0,2,21,5,41],[0,0,4,2,2,42],[0,0,3,12,4,42],[0,0,4,3,3,43],[0,0,3,13,5,43],[0,0,4,4,4,44],[0,0,4,5,1,45],[0,0,3,15,3,45],[0,0,2,25,5,45],[0,0,4,6,2,46],[0,0,3,16,4,46]],38:[[1,3,2,0,0,38],[1,1,3,0,0,38],[4,5,0,1,1,38],[4,3,1,1,1,38],[4,1,2,1,1,38],[1,4,1,5,1,38],[1,2,2,5,1,38],[1,0,3,5,1,38],[2,4,1,2,2,38],[2,2,2,2,2,38],[2,0,3,2,2,38],[1,5,0,10,2,38],[1,3,1,10,2,38],[1,1,2,10,2,38],[0,3,2,3,3,38],[0,1,3,3,3,38],[2,5,0,7,3,38],[2,3,1,7,3,38],[2,1,2,7,3,38],[1,4,0,15,3,38],[1,2,1,15,3,38],[1,0,2,15,3,38],[0,4,1,8,4,38],[0,2,2,8,4,38],[0,0,3,8,4,38],[1,3,0,20,4,38],[1,1,1,20,4,38],[0,5,0,13,5,38],[0,3,1,13,5,38],[0,1,2,13,5,38],[3,4,1,0,0,39],[3,2,2,0,0,39],[3,0,3,0,0,39],[1,3,2,1,1,39],[1,1,3,1,1,39],[3,5,0,5,1,39],[3,3,1,5,1,39],[3,1,2,5,1,39],[1,4,1,6,2,39],[1,2,2,6,2,39],[1,0,3,6,2,39],[3,4,0,10,2,39],[3,2,1,10,2,39],[3,0,2,10,2,39],[2,4,1,3,3,39],[2,2,2,3,3,39],[2,0,3,3,3,39],[1,5,0,11,3,39],[1,3,1,11,3,39],[1,1,2,11,3,39],[0,3,2,4,4,39],[0,1,3,4,4,39],[1,4,0,16,4,39],[1,2,1,16,4,39],[1,0,2,16,4,39],[0,4,1,9,5,39],[0,2,2,9,5,39],[0,0,3,9,5,39],[5,5,0,0,0,40],[5,3,1,0,0,40],[5,1,2,0,0,40],[0,2,3,0,0,40],[0,0,4,0,0,40],[3,4,1,1,1,40],[3,2,2,1,1,40],[3,0,3,1,1,40],[0,3,2,5,1,40],[0,1,3,5,1,40],[1,3,2,2,2,40],[1,1,3,2,2,40],[3,5,0,6,2,40],[3,3,1,6,2,40],[3,1,2,6,2,40],[0,4,1,10,2,40],[0,2,2,10,2,40],[0,0,3,10,2,40],[1,4,1,7,3,40],[1,2,2,7,3,40],[1,0,3,7,3,40],[0,5,0,15,3,40],[0,3,1,15,3,40],[0,1,2,15,3,40],[1,5,0,12,4,40],[1,3,1,12,4,40],[1,1,2,12,4,40],[0,4,0,20,4,40],[0,2,1,20,4,40],[0,0,2,20,4,40],[0,3,0,25,5,40],[0,1,1,25,5,40],[0,2,3,1,1,41],[0,0,4,1,1,41],[0,3,2,6,2,41],[0,1,3,6,2,41],[0,4,1,11,3,41],[0,2,2,11,3,41],[0,0,3,11,3,41],[0,5,0,16,4,41],[0,3,1,16,4,41],[0,1,2,16,4,41],[0,4,0,21,5,41],[0,2,1,21,5,41],[0,0,2,21,5,41],[0,2,3,2,2,42],[0,0,4,2,2,42],[0,3,2,7,3,42],[0,1,3,7,3,42],[0,4,1,12,4,42],[0,2,2,12,4,42],[0,0,3,12,4,42],[0,5,0,17,5,42],[0,3,1,17,5,42],[0,1,2,17,5,42],[0,0,4,3,3,43],[0,0,3,13,5,43],[0,0,4,4,4,44],[0,0,4,5,1,45],[0,0,3,15,3,45],[0,0,2,25,5,45],[0,0,4,6,2,46],[0,0,3,16,4,46],[0,0,4,7,3,47],[0,0,3,17,5,47]],39:[[3,4,1,0,0,39],[3,2,2,0,0,39],[3,0,3,0,0,39],[1,3,2,1,1,39],[1,1,3,1,1,39],[3,5,0,5,1,39],[3,3,1,5,1,39],[3,1,2,5,1,39],[1,4,1,6,2,39],[1,2,2,6,2,39],[1,0,3,6,2,39],[3,4,0,10,2,39],[3,2,1,10,2,39],[3,0,2,10,2,39],[2,4,1,3,3,39],[2,2,2,3,3,39],[2,0,3,3,3,39],[1,5,0,11,3,39],[1,3,1,11,3,39],[1,1,2,11,3,39],[0,3,2,4,4,39],[0,1,3,4,4,39],[1,4,0,16,4,39],[1,2,1,16,4,39],[1,0,2,16,4,39],[0,4,1,9,5,39],[0,2,2,9,5,39],[0,0,3,9,5,39],[5,5,0,0,0,40],[5,3,1,0,0,40],[5,1,2,0,0,40],[0,2,3,0,0,40],[0,0,4,0,0,40],[3,4,1,1,1,40],[3,2,2,1,1,40],[3,0,3,1,1,40],[0,3,2,5,1,40],[0,1,3,5,1,40],[1,3,2,2,2,40],[1,1,3,2,2,40],[3,5,0,6,2,40],[3,3,1,6,2,40],[3,1,2,6,2,40],[0,4,1,10,2,40],[0,2,2,10,2,40],[0,0,3,10,2,40],[1,4,1,7,3,40],[1,2,2,7,3,40],[1,0,3,7,3,40],[0,5,0,15,3,40],[0,3,1,15,3,40],[0,1,2,15,3,40],[1,5,0,12,4,40],[1,3,1,12,4,40],[1,1,2,12,4,40],[0,4,0,20,4,40],[0,2,1,20,4,40],[0,0,2,20,4,40],[0,3,0,25,5,40],[0,1,1,25,5,40],[2,3,2,0,0,41],[2,1,3,0,0,41],[0,2,3,1,1,41],[0,0,4,1,1,41],[2,4,1,5,1,41],[2,2,2,5,1,41],[2,0,3,5,1,41],[3,4,1,2,2,41],[3,2,2,2,2,41],[3,0,3,2,2,41],[0,3,2,6,2,41],[0,1,3,6,2,41],[2,5,0,10,2,41],[2,3,1,10,2,41],[2,1,2,10,2,41],[1,3,2,3,3,41],[1,1,3,3,3,41],[0,4,1,11,3,41],[0,2,2,11,3,41],[0,0,3,11,3,41],[2,4,0,15,3,41],[2,2,1,15,3,41],[2,0,2,15,3,41],[1,4,1,8,4,41],[1,2,2,8,4,41],[1,0,3,8,4,41],[0,5,0,16,4,41],[0,3,1,16,4,41],[0,1,2,16,4,41],[0,4,0,21,5,41],[0,2,1,21,5,41],[0,0,2,21,5,41],[0,2,3,2,2,42],[0,0,4,2,2,42],[0,3,2,7,3,42],[0,1,3,7,3,42],[0,4,1,12,4,42],[0,2,2,12,4,42],[0,0,3,12,4,42],[0,5,0,17,5,42],[0,3,1,17,5,42],[0,1,2,17,5,42],[0,2,3,3,3,43],[0,0,4,3,3,43],[0,3,2,8,4,43],[0,1,3,8,4,43],[0,4,1,13,5,43],[0,2,2,13,5,43],[0,0,3,13,5,43],[0,0,4,4,4,44],[0,0,4,5,1,45],[0,0,3,15,3,45],[0,0,2,25,5,45],[0,0,4,6,2,46],[0,0,3,16,4,46],[0,0,4,7,3,47],[0,0,3,17,5,47],[0,0,4,8,4,48]],40:[[5,5,0,0,0,40],[5,3,1,0,0,40],[5,1,2,0,0,40],[0,2,3,0,0,40],[0,0,4,0,0,40],[3,4,1,1,1,40],[3,2,2,1,1,40],[3,0,3,1,1,40],[0,3,2,5,1,40],[0,1,3,5,1,40],[1,3,2,2,2,40],[1,1,3,2,2,40],[3,5,0,6,2,40],[3,3,1,6,2,40],[3,1,2,6,2,40],[0,4,1,10,2,40],[0,2,2,10,2,40],[0,0,3,10,2,40],[1,4,1,7,3,40],[1,2,2,7,3,40],[1,0,3,7,3,40],[0,5,0,15,3,40],[0,3,1,15,3,40],[0,1,2,15,3,40],[1,5,0,12,4,40],[1,3,1,12,4,40],[1,1,2,12,4,40],[0,4,0,20,4,40],[0,2,1,20,4,40],[0,0,2,20,4,40],[0,3,0,25,5,40],[0,1,1,25,5,40],[2,3,2,0,0,41],[2,1,3,0,0,41],[0,2,3,1,1,41],[0,0,4,1,1,41],[2,4,1,5,1,41],[2,2,2,5,1,41],[2,0,3,5,1,41],[3,4,1,2,2,41],[3,2,2,2,2,41],[3,0,3,2,2,41],[0,3,2,6,2,41],[0,1,3,6,2,41],[2,5,0,10,2,41],[2,3,1,10,2,41],[2,1,2,10,2,41],[1,3,2,3,3,41],[1,1,3,3,3,41],[0,4,1,11,3,41],[0,2,2,11,3,41],[0,0,3,11,3,41],[2,4,0,15,3,41],[2,2,1,15,3,41],[2,0,2,15,3,41],[1,4,1,8,4,41],[1,2,2,8,4,41],[1,0,3,8,4,41],[0,5,0,16,4,41],[0,3,1,16,4,41],[0,1,2,16,4,41],[0,4,0,21,5,41],[0,2,1,21,5,41],[0,0,2,21,5,41],[4,4,1,0,0,42],[4,2,2,0,0,42],[4,0,3,0,0,42],[2,3,2,1,1,42],[2,1,3,1,1,42],[4,5,0,5,1,42],[4,3,1,5,1,42],[4,1,2,5,1,42],[0,2,3,2,2,42],[0,0,4,2,2,42],[2,4,1,6,2,42],[2,2,2,6,2,42],[2,0,3,6,2,42],[0,3,2,7,3,42],[0,1,3,7,3,42],[2,5,0,11,3,42],[2,3,1,11,3,42],[2,1,2,11,3,42],[1,3,2,4,4,42],[1,1,3,4,4,42],[0,4,1,12,4,42],[0,2,2,12,4,42],[0,0,3,12,4,42],[0,5,0,17,5,42],[0,3,1,17,5,42],[0,1,2,17,5,42],[0,2,3,3,3,43],[0,0,4,3,3,43],[0,3,2,8,4,43],[0,1,3,8,4,43],[0,4,1,13,5,43],[0,2,2,13,5,43],[0,0,3,13,5,43],[0,2,3,4,4,44],[0,0,4,4,4,44],[0,3,2,9,5,44],[0,1,3,9,5,44],[0,0,4,5,1,45],[0,0,3,15,3,45],[0,0,2,25,5,45],[0,0,4,6,2,46],[0,0,3,16,4,46],[0,0,4,7,3,47],[0,0,3,17,5,47],[0,0,4,8,4,48],[0,0,4,9,5,49]],41:[[2,3,2,0,0,41],[2,1,3,0,0,41],[0,2,3,1,1,41],[0,0,4,1,1,41],[2,4,1,5,1,41],[2,2,2,5,1,41],[2,0,3,5,1,41],[3,4,1,2,2,41],[3,2,2,2,2,41],[3,0,3,2,2,41],[0,3,2,6,2,41],[0,1,3,6,2,41],[2,5,0,10,2,41],[2,3,1,10,2,41],[2,1,2,10,2,41],[1,3,2,3,3,41],[1,1,3,3,3,41],[0,4,1,11,3,41],[0,2,2,11,3,41],[0,0,3,11,3,41],[2,4,0,15,3,41],[2,2,1,15,3,41],[2,0,2,15,3,41],[1,4,1,8,4,41],[1,2,2,8,4,41],[1,0,3,8,4,41],[0,5,0,16,4,41],[0,3,1,16,4,41],[0,1,2,16,4,41],[0,4,0,21,5,41],[0,2,1,21,5,41],[0,0,2,21,5,41],[4,4,1,0,0,42],[4,2,2,0,0,42],[4,0,3,0,0,42],[2,3,2,1,1,42],[2,1,3,1,1,42],[4,5,0,5,1,42],[4,3,1,5,1,42],[4,1,2,5,1,42],[0,2,3,2,2,42],[0,0,4,2,2,42],[2,4,1,6,2,42],[2,2,2,6,2,42],[2,0,3,6,2,42],[0,3,2,7,3,42],[0,1,3,7,3,42],[2,5,0,11,3,42],[2,3,1,11,3,42],[2,1,2,11,3,42],[1,3,2,4,4,42],[1,1,3,4,4,42],[0,4,1,12,4,42],[0,2,2,12,4,42],[0,0,3,12,4,42],[0,5,0,17,5,42],[0,3,1,17,5,42],[0,1,2,17,5,42],[1,2,3,0,0,43],[1,0,4,0,0,43],[4,4,1,1,1,43],[4,2,2,1,1,43],[4,0,3,1,1,43],[1,3,2,5,1,43],[1,1,3,5,1,43],[2,3,2,2,2,43],[2,1,3,2,2,43],[1,4,1,10,2,43],[1,2,2,10,2,43],[1,0,3,10,2,43],[0,2,3,3,3,43],[0,0,4,3,3,43],[2,4,1,7,3,43],[2,2,2,7,3,43],[2,0,3,7,3,43],[1,5,0,15,3,43],[1,3,1,15,3,43],[1,1,2,15,3,43],[0,3,2,8,4,43],[0,1,3,8,4,43],[1,4,0,20,4,43],[1,2,1,20,4,43],[1,0,2,20,4,43],[0,4,1,13,5,43],[0,2,2,13,5,43],[0,0,3,13,5,43],[0,2,3,4,4,44],[0,0,4,4,4,44],[0,3,2,9,5,44],[0,1,3,9,5,44],[0,1,4,0,0,45],[0,2,3,5,1,45],[0,0,4,5,1,45],[0,3,2,10,2,45],[0,1,3,10,2,45],[0,4,1,15,3,45],[0,2,2,15,3,45],[0,0,3,15,3,45],[0,5,0,20,4,45],[0,3,1,20,4,45],[0,1,2,20,4,45],[0,4,0,25,5,45],[0,2,1,25,5,45],[0,0,2,25,5,45],[0,0,4,6,2,46],[0,0,3,16,4,46],[0,0,4,7,3,47],[0,0,3,17,5,47],[0,0,4,8,4,48],[0,0,4,9,5,49],[0,0,5,0,0,50],[0,0,4,10,2,50],[0,0,3,20,4,50]],42:[[4,4,1,0,0,42],[4,2,2,0,0,42],[4,0,3,0,0,42],[2,3,2,1,1,42],[2,1,3,1,1,42],[4,5,0,5,1,42],[4,3,1,5,1,42],[4,1,2,5,1,42],[0,2,3,2,2,42],[0,0,4,2,2,42],[2,4,1,6,2,42],[2,2,2,6,2,42],[2,0,3,6,2,42],[0,3,2,7,3,42],[0,1,3,7,3,42],[2,5,0,11,3,42],[2,3,1,11,3,42],[2,1,2,11,3,42],[1,3,2,4,4,42],[1,1,3,4,4,42],[0,4,1,12,4,42],[0,2,2,12,4,42],[0,0,3,12,4,42],[0,5,0,17,5,42],[0,3,1,17,5,42],[0,1,2,17,5,42],[1,2,3,0,0,43],[1,0,4,0,0,43],[4,4,1,1,1,43],[4,2,2,1,1,43],[4,0,3,1,1,43],[1,3,2,5,1,43],[1,1,3,5,1,43],[2,3,2,2,2,43],[2,1,3,2,2,43],[1,4,1,10,2,43],[1,2,2,10,2,43],[1,0,3,10,2,43],[0,2,3,3,3,43],[0,0,4,3,3,43],[2,4,1,7,3,43],[2,2,2,7,3,43],[2,0,3,7,3,43],[1,5,0,15,3,43],[1,3,1,15,3,43],[1,1,2,15,3,43],[0,3,2,8,4,43],[0,1,3,8,4,43],[1,4,0,20,4,43],[1,2,1,20,4,43],[1,0,2,20,4,43],[0,4,1,13,5,43],[0,2,2,13,5,43],[0,0,3,13,5,43],[3,3,2,0,0,44],[3,1,3,0,0,44],[1,2,3,1,1,44],[1,0,4,1,1,44],[3,4,1,5,1,44],[3,2,2,5,1,44],[3,0,3,5,1,44],[1,3,2,6,2,44],[1,1,3,6,2,44],[3,5,0,10,2,44],[3,3,1,10,2,44],[3,1,2,10,2,44],[2,3,2,3,3,44],[2,1,3,3,3,44],[1,4,1,11,3,44],[1,2,2,11,3,44],[1,0,3,11,3,44],[0,2,3,4,4,44],[0,0,4,4,4,44],[1,5,0,16,4,44],[1,3,1,16,4,44],[1,1,2,16,4,44],[0,3,2,9,5,44],[0,1,3,9,5,44],[0,1,4,0,0,45],[0,2,3,5,1,45],[0,0,4,5,1,45],[0,3,2,10,2,45],[0,1,3,10,2,45],[0,4,1,15,3,45],[0,2,2,15,3,45],[0,0,3,15,3,45],[0,5,0,20,4,45],[0,3,1,20,4,45],[0,1,2,20,4,45],[0,4,0,25,5,45],[0,2,1,25,5,45],[0,0,2,25,5,45],[0,1,4,1,1,46],[0,2,3,6,2,46],[0,0,4,6,2,46],[0,3,2,11,3,46],[0,1,3,11,3,46],[0,4,1,16,4,46],[0,2,2,16,4,46],[0,0,3,16,4,46],[0,5,0,21,5,46],[0,3,1,21,5,46],[0,1,2,21,5,46],[0,0,4,7,3,47],[0,0,3,17,5,47],[0,0,4,8,4,48],[0,0,4,9,5,49],[0,0,5,0,0,50],[0,0,4,10,2,50],[0,0,3,20,4,50],[0,0,5,1,1,51],[0,0,4,11,3,51],[0,0,3,21,5,51]],43:[[1,2,3,0,0,43],[1,0,4,0,0,43],[4,4,1,1,1,43],[4,2,2,1,1,43],[4,0,3,1,1,43],[1,3,2,5,1,43],[1,1,3,5,1,43],[2,3,2,2,2,43],[2,1,3,2,2,43],[1,4,1,10,2,43],[1,2,2,10,2,43],[1,0,3,10,2,43],[0,2,3,3,3,43],[0,0,4,3,3,43],[2,4,1,7,3,43],[2,2,2,7,3,43],[2,0,3,7,3,43],[1,5,0,15,3,43],[1,3,1,15,3,43],[1,1,2,15,3,43],[0,3,2,8,4,43],[0,1,3,8,4,43],[1,4,0,20,4,43],[1,2,1,20,4,43],[1,0,2,20,4,43],[0,4,1,13,5,43],[0,2,2,13,5,43],[0,0,3,13,5,43],[3,3,2,0,0,44],[3,1,3,0,0,44],[1,2,3,1,1,44],[1,0,4,1,1,44],[3,4,1,5,1,44],[3,2,2,5,1,44],[3,0,3,5,1,44],[1,3,2,6,2,44],[1,1,3,6,2,44],[3,5,0,10,2,44],[3,3,1,10,2,44],[3,1,2,10,2,44],[2,3,2,3,3,44],[2,1,3,3,3,44],[1,4,1,11,3,44],[1,2,2,11,3,44],[1,0,3,11,3,44],[0,2,3,4,4,44],[0,0,4,4,4,44],[1,5,0,16,4,44],[1,3,1,16,4,44],[1,1,2,16,4,44],[0,3,2,9,5,44],[0,1,3,9,5,44],[5,4,1,0,0,45],[5,2,2,0,0,45],[5,0,3,0,0,45],[0,1,4,0,0,45],[3,3,2,1,1,45],[3,1,3,1,1,45],[0,2,3,5,1,45],[0,0,4,5,1,45],[1,2,3,2,2,45],[1,0,4,2,2,45],[3,4,1,6,2,45],[3,2,2,6,2,45],[3,0,3,6,2,45],[0,3,2,10,2,45],[0,1,3,10,2,45],[1,3,2,7,3,45],[1,1,3,7,3,45],[0,4,1,15,3,45],[0,2,2,15,3,45],[0,0,3,15,3,45],[1,4,1,12,4,45],[1,2,2,12,4,45],[1,0,3,12,4,45],[0,5,0,20,4,45],[0,3,1,20,4,45],[0,1,2,20,4,45],[0,4,0,25,5,45],[0,2,1,25,5,45],[0,0,2,25,5,45],[0,1,4,1,1,46],[0,2,3,6,2,46],[0,0,4,6,2,46],[0,3,2,11,3,46],[0,1,3,11,3,46],[0,4,1,16,4,46],[0,2,2,16,4,46],[0,0,3,16,4,46],[0,5,0,21,5,46],[0,3,1,21,5,46],[0,1,2,21,5,46],[0,1,4,2,2,47],[0,2,3,7,3,47],[0,0,4,7,3,47],[0,3,2,12,4,47],[0,1,3,12,4,47],[0,4,1,17,5,47],[0,2,2,17,5,47],[0,0,3,17,5,47],[0,0,4,8,4,48],[0,0,4,9,5,49],[0,0,5,0,0,50],[0,0,4,10,2,50],[0,0,3,20,4,50],[0,0,5,1,1,51],[0,0,4,11,3,51],[0,0,3,21,5,51],[0,0,5,2,2,52],[0,0,4,12,4,52]],44:[[3,3,2,0,0,44],[3,1,3,0,0,44],[1,2,3,1,1,44],[1,0,4,1,1,44],[3,4,1,5,1,44],[3,2,2,5,1,44],[3,0,3,5,1,44],[1,3,2,6,2,44],[1,1,3,6,2,44],[3,5,0,10,2,44],[3,3,1,10,2,44],[3,1,2,10,2,44],[2,3,2,3,3,44],[2,1,3,3,3,44],[1,4,1,11,3,44],[1,2,2,11,3,44],[1,0,3,11,3,44],[0,2,3,4,4,44],[0,0,4,4,4,44],[1,5,0,16,4,44],[1,3,1,16,4,44],[1,1,2,16,4,44],[0,3,2,9,5,44],[0,1,3,9,5,44],[5,4,1,0,0,45],[5,2,2,0,0,45],[5,0,3,0,0,45],[0,1,4,0,0,45],[3,3,2,1,1,45],[3,1,3,1,1,45],[0,2,3,5,1,45],[0,0,4,5,1,45],[1,2,3,2,2,45],[1,0,4,2,2,45],[3,4,1,6,2,45],[3,2,2,6,2,45],[3,0,3,6,2,45],[0,3,2,10,2,45],[0,1,3,10,2,45],[1,3,2,7,3,45],[1,1,3,7,3,45],[0,4,1,15,3,45],[0,2,2,15,3,45],[0,0,3,15,3,45],[1,4,1,12,4,45],[1,2,2,12,4,45],[1,0,3,12,4,45],[0,5,0,20,4,45],[0,3,1,20,4,45],[0,1,2,20,4,45],[0,4,0,25,5,45],[0,2,1,25,5,45],[0,0,2,25,5,45],[2,2,3,0,0,46],[2,0,4,0,0,46],[0,1,4,1,1,46],[2,3,2,5,1,46],[2,1,3,5,1,46],[3,3,2,2,2,46],[3,1,3,2,2,46],[0,2,3,6,2,46],[0,0,4,6,2,46],[2,4,1,10,2,46],[2,2,2,10,2,46],[2,0,3,10,2,46],[1,2,3,3,3,46],[1,0,4,3,3,46],[0,3,2,11,3,46],[0,1,3,11,3,46],[2,5,0,15,3,46],[2,3,1,15,3,46],[2,1,2,15,3,46],[1,3,2,8,4,46],[1,1,3,8,4,46],[0,4,1,16,4,46],[0,2,2,16,4,46],[0,0,3,16,4,46],[0,5,0,21,5,46],[0,3,1,21,5,46],[0,1,2,21,5,46],[0,1,4,2,2,47],[0,2,3,7,3,47],[0,0,4,7,3,47],[0,3,2,12,4,47],[0,1,3,12,4,47],[0,4,1,17,5,47],[0,2,2,17,5,47],[0,0,3,17,5,47],[0,1,4,3,3,48],[0,2,3,8,4,48],[0,0,4,8,4,48],[0,3,2,13,5,48],[0,1,3,13,5,48],[0,0,4,9,5,49],[0,0,5,0,0,50],[0,0,4,10,2,50],[0,0,3,20,4,50],[0,0,5,1,1,51],[0,0,4,11,3,51],[0,0,3,21,5,51],[0,0,5,2,2,52],[0,0,4,12,4,52],[0,0,5,3,3,53],[0,0,4,13,5,53]],45:[[5,4,1,0,0,45],[5,2,2,0,0,45],[5,0,3,0,0,45],[0,1,4,0,0,45],[3,3,2,1,1,45],[3,1,3,1,1,45],[0,2,3,5,1,45],[0,0,4,5,1,45],[1,2,3,2,2,45],[1,0,4,2,2,45],[3,4,1,6,2,45],[3,2,2,6,2,45],[3,0,3,6,2,45],[0,3,2,10,2,45],[0,1,3,10,2,45],[1,3,2,7,3,45],[1,1,3,7,3,45],[0,4,1,15,3,45],[0,2,2,15,3,45],[0,0,3,15,3,45],[1,4,1,12,4,45],[1,2,2,12,4,45],[1,0,3,12,4,45],[0,5,0,20,4,45],[0,3,1,20,4,45],[0,1,2,20,4,45],[0,4,0,25,5,45],[0,2,1,25,5,45],[0,0,2,25,5,45],[2,2,3,0,0,46],[2,0,4,0,0,46],[0,1,4,1,1,46],[2,3,2,5,1,46],[2,1,3,5,1,46],[3,3,2,2,2,46],[3,1,3,2,2,46],[0,2,3,6,2,46],[0,0,4,6,2,46],[2,4,1,10,2,46],[2,2,2,10,2,46],[2,0,3,10,2,46],[1,2,3,3,3,46],[1,0,4,3,3,46],[0,3,2,11,3,46],[0,1,3,11,3,46],[2,5,0,15,3,46],[2,3,1,15,3,46],[2,1,2,15,3,46],[1,3,2,8,4,46],[1,1,3,8,4,46],[0,4,1,16,4,46],[0,2,2,16,4,46],[0,0,3,16,4,46],[0,5,0,21,5,46],[0,3,1,21,5,46],[0,1,2,21,5,46],[4,3,2,0,0,47],[4,1,3,0,0,47],[2,2,3,1,1,47],[2,0,4,1,1,47],[4,4,1,5,1,47],[4,2,2,5,1,47],[4,0,3,5,1,47],[0,1,4,2,2,47],[2,3,2,6,2,47],[2,1,3,6,2,47],[0,2,3,7,3,47],[0,0,4,7,3,47],[2,4,1,11,3,47],[2,2,2,11,3,47],[2,0,3,11,3,47],[1,2,3,4,4,47],[1,0,4,4,4,47],[0,3,2,12,4,47],[0,1,3,12,4,47],[0,4,1,17,5,47],[0,2,2,17,5,47],[0,0,3,17,5,47],[0,1,4,3,3,48],[0,2,3,8,4,48],[0,0,4,8,4,48],[0,3,2,13,5,48],[0,1,3,13,5,48],[0,1,4,4,4,49],[0,2,3,9,5,49],[0,0,4,9,5,49],[0,0,5,0,0,50],[0,0,4,10,2,50],[0,0,3,20,4,50],[0,0,5,1,1,51],[0,0,4,11,3,51],[0,0,3,21,5,51],[0,0,5,2,2,52],[0,0,4,12,4,52],[0,0,5,3,3,53],[0,0,4,13,5,53],[0,0,5,4,4,54]],46:[[2,2,3,0,0,46],[2,0,4,0,0,46],[0,1,4,1,1,46],[2,3,2,5,1,46],[2,1,3,5,1,46],[3,3,2,2,2,46],[3,1,3,2,2,46],[0,2,3,6,2,46],[0,0,4,6,2,46],[2,4,1,10,2,46],[2,2,2,10,2,46],[2,0,3,10,2,46],[1,2,3,3,3,46],[1,0,4,3,3,46],[0,3,2,11,3,46],[0,1,3,11,3,46],[2,5,0,15,3,46],[2,3,1,15,3,46],[2,1,2,15,3,46],[1,3,2,8,4,46],[1,1,3,8,4,46],[0,4,1,16,4,46],[0,2,2,16,4,46],[0,0,3,16,4,46],[0,5,0,21,5,46],[0,3,1,21,5,46],[0,1,2,21,5,46],[4,3,2,0,0,47],[4,1,3,0,0,47],[2,2,3,1,1,47],[2,0,4,1,1,47],[4,4,1,5,1,47],[4,2,2,5,1,47],[4,0,3,5,1,47],[0,1,4,2,2,47],[2,3,2,6,2,47],[2,1,3,6,2,47],[0,2,3,7,3,47],[0,0,4,7,3,47],[2,4,1,11,3,47],[2,2,2,11,3,47],[2,0,3,11,3,47],[1,2,3,4,4,47],[1,0,4,4,4,47],[0,3,2,12,4,47],[0,1,3,12,4,47],[0,4,1,17,5,47],[0,2,2,17,5,47],[0,0,3,17,5,47],[1,1,4,0,0,48],[4,3,2,1,1,48],[4,1,3,1,1,48],[1,2,3,5,1,48],[1,0,4,5,1,48],[2,2,3,2,2,48],[2,0,4,2,2,48],[1,3,2,10,2,48],[1,1,3,10,2,48],[0,1,4,3,3,48],[2,3,2,7,3,48],[2,1,3,7,3,48],[1,4,1,15,3,48],[1,2,2,15,3,48],[1,0,3,15,3,48],[0,2,3,8,4,48],[0,0,4,8,4,48],[1,5,0,20,4,48],[1,3,1,20,4,48],[1,1,2,20,4,48],[0,3,2,13,5,48],[0,1,3,13,5,48],[0,1,4,4,4,49],[0,2,3,9,5,49],[0,0,4,9,5,49],[0,0,5,0,0,50],[0,1,4,5,1,50],[0,2,3,10,2,50],[0,0,4,10,2,50],[0,3,2,15,3,50],[0,1,3,15,3,50],[0,4,1,20,4,50],[0,2,2,20,4,50],[0,0,3,20,4,50],[0,5,0,25,5,50],[0,3,1,25,5,50],[0,1,2,25,5,50],[0,0,5,1,1,51],[0,0,4,11,3,51],[0,0,3,21,5,51],[0,0,5,2,2,52],[0,0,4,12,4,52],[0,0,5,3,3,53],[0,0,4,13,5,53],[0,0,5,4,4,54],[0,0,5,5,1,55],[0,0,4,15,3,55],[0,0,3,25,5,55]],47:[[4,3,2,0,0,47],[4,1,3,0,0,47],[2,2,3,1,1,47],[2,0,4,1,1,47],[4,4,1,5,1,47],[4,2,2,5,1,47],[4,0,3,5,1,47],[0,1,4,2,2,47],[2,3,2,6,2,47],[2,1,3,6,2,47],[0,2,3,7,3,47],[0,0,4,7,3,47],[2,4,1,11,3,47],[2,2,2,11,3,47],[2,0,3,11,3,47],[1,2,3,4,4,47],[1,0,4,4,4,47],[0,3,2,12,4,47],[0,1,3,12,4,47],[0,4,1,17,5,47],[0,2,2,17,5,47],[0,0,3,17,5,47],[1,1,4,0,0,48],[4,3,2,1,1,48],[4,1,3,1,1,48],[1,2,3,5,1,48],[1,0,4,5,1,48],[2,2,3,2,2,48],[2,0,4,2,2,48],[1,3,2,10,2,48],[1,1,3,10,2,48],[0,1,4,3,3,48],[2,3,2,7,3,48],[2,1,3,7,3,48],[1,4,1,15,3,48],[1,2,2,15,3,48],[1,0,3,15,3,48],[0,2,3,8,4,48],[0,0,4,8,4,48],[1,5,0,20,4,48],[1,3,1,20,4,48],[1,1,2,20,4,48],[0,3,2,13,5,48],[0,1,3,13,5,48],[3,2,3,0,0,49],[3,0,4,0,0,49],[1,1,4,1,1,49],[3,3,2,5,1,49],[3,1,3,5,1,49],[1,2,3,6,2,49],[1,0,4,6,2,49],[3,4,1,10,2,49],[3,2,2,10,2,49],[3,0,3,10,2,49],[2,2,3,3,3,49],[2,0,4,3,3,49],[1,3,2,11,3,49],[1,1,3,11,3,49],[0,1,4,4,4,49],[1,4,1,16,4,49],[1,2,2,16,4,49],[1,0,3,16,4,49],[0,2,3,9,5,49],[0,0,4,9,5,49],[0,0,5,0,0,50],[0,1,4,5,1,50],[0,2,3,10,2,50],[0,0,4,10,2,50],[0,3,2,15,3,50],[0,1,3,15,3,50],[0,4,1,20,4,50],[0,2,2,20,4,50],[0,0,3,20,4,50],[0,5,0,25,5,50],[0,3,1,25,5,50],[0,1,2,25,5,50],[0,0,5,1,1,51],[0,1,4,6,2,51],[0,2,3,11,3,51],[0,0,4,11,3,51],[0,3,2,16,4,51],[0,1,3,16,4,51],[0,4,1,21,5,51],[0,2,2,21,5,51],[0,0,3,21,5,51],[0,0,5,2,2,52],[0,0,4,12,4,52],[0,0,5,3,3,53],[0,0,4,13,5,53],[0,0,5,4,4,54],[0,0,5,5,1,55],[0,0,4,15,3,55],[0,0,3,25,5,55],[0,0,5,6,2,56],[0,0,4,16,4,56]],48:[[1,1,4,0,0,48],[4,3,2,1,1,48],[4,1,3,1,1,48],[1,2,3,5,1,48],[1,0,4,5,1,48],[2,2,3,2,2,48],[2,0,4,2,2,48],[1,3,2,10,2,48],[1,1,3,10,2,48],[0,1,4,3,3,48],[2,3,2,7,3,48],[2,1,3,7,3,48],[1,4,1,15,3,48],[1,2,2,15,3,48],[1,0,3,15,3,48],[0,2,3,8,4,48],[0,0,4,8,4,48],[1,5,0,20,4,48],[1,3,1,20,4,48],[1,1,2,20,4,48],[0,3,2,13,5,48],[0,1,3,13,5,48],[3,2,3,0,0,49],[3,0,4,0,0,49],[1,1,4,1,1,49],[3,3,2,5,1,49],[3,1,3,5,1,49],[1,2,3,6,2,49],[1,0,4,6,2,49],[3,4,1,10,2,49],[3,2,2,10,2,49],[3,0,3,10,2,49],[2,2,3,3,3,49],[2,0,4,3,3,49],[1,3,2,11,3,49],[1,1,3,11,3,49],[0,1,4,4,4,49],[1,4,1,16,4,49],[1,2,2,16,4,49],[1,0,3,16,4,49],[0,2,3,9,5,49],[0,0,4,9,5,49],[5,3,2,0,0,50],[5,1,3,0,0,50],[0,0,5,0,0,50],[3,2,3,1,1,50],[3,0,4,1,1,50],[0,1,4,5,1,50],[1,1,4,2,2,50],[3,3,2,6,2,50],[3,1,3,6,2,50],[0,2,3,10,2,50],[0,0,4,10,2,50],[1,2,3,7,3,50],[1,0,4,7,3,50],[0,3,2,15,3,50],[0,1,3,15,3,50],[1,3,2,12,4,50],[1,1,3,12,4,50],[0,4,1,20,4,50],[0,2,2,20,4,50],[0,0,3,20,4,50],[0,5,0,25,5,50],[0,3,1,25,5,50],[0,1,2,25,5,50],[0,0,5,1,1,51],[0,1,4,6,2,51],[0,2,3,11,3,51],[0,0,4,11,3,51],[0,3,2,16,4,51],[0,1,3,16,4,51],[0,4,1,21,5,51],[0,2,2,21,5,51],[0,0,3,21,5,51],[0,0,5,2,2,52],[0,1,4,7,3,52],[0,2,3,12,4,52],[0,0,4,12,4,52],[0,3,2,17,5,52],[0,1,3,17,5,52],[0,0,5,3,3,53],[0,0,4,13,5,53],[0,0,5,4,4,54],[0,0,5,5,1,55],[0,0,4,15,3,55],[0,0,3,25,5,55],[0,0,5,6,2,56],[0,0,4,16,4,56],[0,0,5,7,3,57],[0,0,4,17,5,57]],49:[[3,2,3,0,0,49],[3,0,4,0,0,49],[1,1,4,1,1,49],[3,3,2,5,1,49],[3,1,3,5,1,49],[1,2,3,6,2,49],[1,0,4,6,2,49],[3,4,1,10,2,49],[3,2,2,10,2,49],[3,0,3,10,2,49],[2,2,3,3,3,49],[2,0,4,3,3,49],[1,3,2,11,3,49],[1,1,3,11,3,49],[0,1,4,4,4,49],[1,4,1,16,4,49],[1,2,2,16,4,49],[1,0,3,16,4,49],[0,2,3,9,5,49],[0,0,4,9,5,49],[5,3,2,0,0,50],[5,1,3,0,0,50],[0,0,5,0,0,50],[3,2,3,1,1,50],[3,0,4,1,1,50],[0,1,4,5,1,50],[1,1,4,2,2,50],[3,3,2,6,2,50],[3,1,3,6,2,50],[0,2,3,10,2,50],[0,0,4,10,2,50],[1,2,3,7,3,50],[1,0,4,7,3,50],[0,3,2,15,3,50],[0,1,3,15,3,50],[1,3,2,12,4,50],[1,1,3,12,4,50],[0,4,1,20,4,50],[0,2,2,20,4,50],[0,0,3,20,4,50],[0,5,0,25,5,50],[0,3,1,25,5,50],[0,1,2,25,5,50],[2,1,4,0,0,51],[0,0,5,1,1,51],[2,2,3,5,1,51],[2,0,4,5,1,51],[3,2,3,2,2,51],[3,0,4,2,2,51],[0,1,4,6,2,51],[2,3,2,10,2,51],[2,1,3,10,2,51],[1,1,4,3,3,51],[0,2,3,11,3,51],[0,0,4,11,3,51],[2,4,1,15,3,51],[2,2,2,15,3,51],[2,0,3,15,3,51],[1,2,3,8,4,51],[1,0,4,8,4,51],[0,3,2,16,4,51],[0,1,3,16,4,51],[0,4,1,21,5,51],[0,2,2,21,5,51],[0,0,3,21,5,51],[0,0,5,2,2,52],[0,1,4,7,3,52],[0,2,3,12,4,52],[0,0,4,12,4,52],[0,3,2,17,5,52],[0,1,3,17,5,52],[0,0,5,3,3,53],[0,1,4,8,4,53],[0,2,3,13,5,53],[0,0,4,13,5,53],[0,0,5,4,4,54],[0,0,5,5,1,55],[0,0,4,15,3,55],[0,0,3,25,5,55],[0,0,5,6,2,56],[0,0,4,16,4,56],[0,0,5,7,3,57],[0,0,4,17,5,57],[0,0,5,8,4,58]],50:[[5,3,2,0,0,50],[5,1,3,0,0,50],[0,0,5,0,0,50],[3,2,3,1,1,50],[3,0,4,1,1,50],[0,1,4,5,1,50],[1,1,4,2,2,50],[3,3,2,6,2,50],[3,1,3,6,2,50],[0,2,3,10,2,50],[0,0,4,10,2,50],[1,2,3,7,3,50],[1,0,4,7,3,50],[0,3,2,15,3,50],[0,1,3,15,3,50],[1,3,2,12,4,50],[1,1,3,12,4,50],[0,4,1,20,4,50],[0,2,2,20,4,50],[0,0,3,20,4,50],[0,5,0,25,5,50],[0,3,1,25,5,50],[0,1,2,25,5,50],[2,1,4,0,0,51],[0,0,5,1,1,51],[2,2,3,5,1,51],[2,0,4,5,1,51],[3,2,3,2,2,51],[3,0,4,2,2,51],[0,1,4,6,2,51],[2,3,2,10,2,51],[2,1,3,10,2,51],[1,1,4,3,3,51],[0,2,3,11,3,51],[0,0,4,11,3,51],[2,4,1,15,3,51],[2,2,2,15,3,51],[2,0,3,15,3,51],[1,2,3,8,4,51],[1,0,4,8,4,51],[0,3,2,16,4,51],[0,1,3,16,4,51],[0,4,1,21,5,51],[0,2,2,21,5,51],[0,0,3,21,5,51],[4,2,3,0,0,52],[4,0,4,0,0,52],[2,1,4,1,1,52],[4,3,2,5,1,52],[4,1,3,5,1,52],[0,0,5,2,2,52],[2,2,3,6,2,52],[2,0,4,6,2,52],[0,1,4,7,3,52],[2,3,2,11,3,52],[2,1,3,11,3,52],[1,1,4,4,4,52],[0,2,3,12,4,52],[0,0,4,12,4,52],[0,3,2,17,5,52],[0,1,3,17,5,52],[0,0,5,3,3,53],[0,1,4,8,4,53],[0,2,3,13,5,53],[0,0,4,13,5,53],[0,0,5,4,4,54],[0,1,4,9,5,54],[0,0,5,5,1,55],[0,0,4,15,3,55],[0,0,3,25,5,55],[0,0,5,6,2,56],[0,0,4,16,4,56],[0,0,5,7,3,57],[0,0,4,17,5,57],[0,0,5,8,4,58],[0,0,5,9,5,59]],51:[[2,1,4,0,0,51],[0,0,5,1,1,51],[2,2,3,5,1,51],[2,0,4,5,1,51],[3,2,3,2,2,51],[3,0,4,2,2,51],[0,1,4,6,2,51],[2,3,2,10,2,51],[2,1,3,10,2,51],[1,1,4,3,3,51],[0,2,3,11,3,51],[0,0,4,11,3,51],[2,4,1,15,3,51],[2,2,2,15,3,51],[2,0,3,15,3,51],[1,2,3,8,4,51],[1,0,4,8,4,51],[0,3,2,16,4,51],[0,1,3,16,4,51],[0,4,1,21,5,51],[0,2,2,21,5,51],[0,0,3,21,5,51],[4,2,3,0,0,52],[4,0,4,0,0,52],[2,1,4,1,1,52],[4,3,2,5,1,52],[4,1,3,5,1,52],[0,0,5,2,2,52],[2,2,3,6,2,52],[2,0,4,6,2,52],[0,1,4,7,3,52],[2,3,2,11,3,52],[2,1,3,11,3,52],[1,1,4,4,4,52],[0,2,3,12,4,52],[0,0,4,12,4,52],[0,3,2,17,5,52],[0,1,3,17,5,52],[1,0,5,0,0,53],[4,2,3,1,1,53],[4,0,4,1,1,53],[1,1,4,5,1,53],[2,1,4,2,2,53],[1,2,3,10,2,53],[1,0,4,10,2,53],[0,0,5,3,3,53],[2,2,3,7,3,53],[2,0,4,7,3,53],[1,3,2,15,3,53],[1,1,3,15,3,53],[0,1,4,8,4,53],[1,4,1,20,4,53],[1,2,2,20,4,53],[1,0,3,20,4,53],[0,2,3,13,5,53],[0,0,4,13,5,53],[0,0,5,4,4,54],[0,1,4,9,5,54],[0,0,5,5,1,55],[0,1,4,10,2,55],[0,2,3,15,3,55],[0,0,4,15,3,55],[0,3,2,20,4,55],[0,1,3,20,4,55],[0,4,1,25,5,55],[0,2,2,25,5,55],[0,0,3,25,5,55],[0,0,5,6,2,56],[0,0,4,16,4,56],[0,0,5,7,3,57],[0,0,4,17,5,57],[0,0,5,8,4,58],[0,0,5,9,5,59],[0,0,5,10,2,60],[0,0,4,20,4,60]],52:[[4,2,3,0,0,52],[4,0,4,0,0,52],[2,1,4,1,1,52],[4,3,2,5,1,52],[4,1,3,5,1,52],[0,0,5,2,2,52],[2,2,3,6,2,52],[2,0,4,6,2,52],[0,1,4,7,3,52],[2,3,2,11,3,52],[2,1,3,11,3,52],[1,1,4,4,4,52],[0,2,3,12,4,52],[0,0,4,12,4,52],[0,3,2,17,5,52],[0,1,3,17,5,52],[1,0,5,0,0,53],[4,2,3,1,1,53],[4,0,4,1,1,53],[1,1,4,5,1,53],[2,1,4,2,2,53],[1,2,3,10,2,53],[1,0,4,10,2,53],[0,0,5,3,3,53],[2,2,3,7,3,53],[2,0,4,7,3,53],[1,3,2,15,3,53],[1,1,3,15,3,53],[0,1,4,8,4,53],[1,4,1,20,4,53],[1,2,2,20,4,53],[1,0,3,20,4,53],[0,2,3,13,5,53],[0,0,4,13,5,53],[3,1,4,0,0,54],[1,0,5,1,1,54],[3,2,3,5,1,54],[3,0,4,5,1,54],[1,1,4,6,2,54],[3,3,2,10,2,54],[3,1,3,10,2,54],[2,1,4,3,3,54],[1,2,3,11,3,54],[1,0,4,11,3,54],[0,0,5,4,4,54],[1,3,2,16,4,54],[1,1,3,16,4,54],[0,1,4,9,5,54],[0,0,5,5,1,55],[0,1,4,10,2,55],[0,2,3,15,3,55],[0,0,4,15,3,55],[0,3,2,20,4,55],[0,1,3,20,4,55],[0,4,1,25,5,55],[0,2,2,25,5,55],[0,0,3,25,5,55],[0,0,5,6,2,56],[0,1,4,11,3,56],[0,2,3,16,4,56],[0,0,4,16,4,56],[0,3,2,21,5,56],[0,1,3,21,5,56],[0,0,5,7,3,57],[0,0,4,17,5,57],[0,0,5,8,4,58],[0,0,5,9,5,59],[0,0,5,10,2,60],[0,0,4,20,4,60],[0,0,5,11,3,61],[0,0,4,21,5,61]],53:[[1,0,5,0,0,53],[4,2,3,1,1,53],[4,0,4,1,1,53],[1,1,4,5,1,53],[2,1,4,2,2,53],[1,2,3,10,2,53],[1,0,4,10,2,53],[0,0,5,3,3,53],[2,2,3,7,3,53],[2,0,4,7,3,53],[1,3,2,15,3,53],[1,1,3,15,3,53],[0,1,4,8,4,53],[1,4,1,20,4,53],[1,2,2,20,4,53],[1,0,3,20,4,53],[0,2,3,13,5,53],[0,0,4,13,5,53],[3,1,4,0,0,54],[1,0,5,1,1,54],[3,2,3,5,1,54],[3,0,4,5,1,54],[1,1,4,6,2,54],[3,3,2,10,2,54],[3,1,3,10,2,54],[2,1,4,3,3,54],[1,2,3,11,3,54],[1,0,4,11,3,54],[0,0,5,4,4,54],[1,3,2,16,4,54],[1,1,3,16,4,54],[0,1,4,9,5,54],[5,2,3,0,0,55],[5,0,4,0,0,55],[3,1,4,1,1,55],[0,0,5,5,1,55],[1,0,5,2,2,55],[3,2,3,6,2,55],[3,0,4,6,2,55],[0,1,4,10,2,55],[1,1,4,7,3,55],[0,2,3,15,3,55],[0,0,4,15,3,55],[1,2,3,12,4,55],[1,0,4,12,4,55],[0,3,2,20,4,55],[0,1,3,20,4,55],[0,4,1,25,5,55],[0,2,2,25,5,55],[0,0,3,25,5,55],[0,0,5,6,2,56],[0,1,4,11,3,56],[0,2,3,16,4,56],[0,0,4,16,4,56],[0,3,2,21,5,56],[0,1,3,21,5,56],[0,0,5,7,3,57],[0,1,4,12,4,57],[0,2,3,17,5,57],[0,0,4,17,5,57],[0,0,5,8,4,58],[0,0,5,9,5,59],[0,0,5,10,2,60],[0,0,4,20,4,60],[0,0,5,11,3,61],[0,0,4,21,5,61],[0,0,5,12,4,62]],54:[[3,1,4,0,0,54],[1,0,5,1,1,54],[3,2,3,5,1,54],[3,0,4,5,1,54],[1,1,4,6,2,54],[3,3,2,10,2,54],[3,1,3,10,2,54],[2,1,4,3,3,54],[1,2,3,11,3,54],[1,0,4,11,3,54],[0,0,5,4,4,54],[1,3,2,16,4,54],[1,1,3,16,4,54],[0,1,4,9,5,54],[5,2,3,0,0,55],[5,0,4,0,0,55],[3,1,4,1,1,55],[0,0,5,5,1,55],[1,0,5,2,2,55],[3,2,3,6,2,55],[3,0,4,6,2,55],[0,1,4,10,2,55],[1,1,4,7,3,55],[0,2,3,15,3,55],[0,0,4,15,3,55],[1,2,3,12,4,55],[1,0,4,12,4,55],[0,3,2,20,4,55],[0,1,3,20,4,55],[0,4,1,25,5,55],[0,2,2,25,5,55],[0,0,3,25,5,55],[2,0,5,0,0,56],[2,1,4,5,1,56],[3,1,4,2,2,56],[0,0,5,6,2,56],[2,2,3,10,2,56],[2,0,4,10,2,56],[1,0,5,3,3,56],[0,1,4,11,3,56],[2,3,2,15,3,56],[2,1,3,15,3,56],[1,1,4,8,4,56],[0,2,3,16,4,56],[0,0,4,16,4,56],[0,3,2,21,5,56],[0,1,3,21,5,56],[0,0,5,7,3,57],[0,1,4,12,4,57],[0,2,3,17,5,57],[0,0,4,17,5,57],[0,0,5,8,4,58],[0,1,4,13,5,58],[0,0,5,9,5,59],[0,0,5,10,2,60],[0,0,4,20,4,60],[0,0,5,11,3,61],[0,0,4,21,5,61],[0,0,5,12,4,62],[0,0,5,13,5,63]],55:[[5,2,3,0,0,55],[5,0,4,0,0,55],[3,1,4,1,1,55],[0,0,5,5,1,55],[1,0,5,2,2,55],[3,2,3,6,2,55],[3,0,4,6,2,55],[0,1,4,10,2,55],[1,1,4,7,3,55],[0,2,3,15,3,55],[0,0,4,15,3,55],[1,2,3,12,4,55],[1,0,4,12,4,55],[0,3,2,20,4,55],[0,1,3,20,4,55],[0,4,1,25,5,55],[0,2,2,25,5,55],[0,0,3,25,5,55],[2,0,5,0,0,56],[2,1,4,5,1,56],[3,1,4,2,2,56],[0,0,5,6,2,56],[2,2,3,10,2,56],[2,0,4,10,2,56],[1,0,5,3,3,56],[0,1,4,11,3,56],[2,3,2,15,3,56],[2,1,3,15,3,56],[1,1,4,8,4,56],[0,2,3,16,4,56],[0,0,4,16,4,56],[0,3,2,21,5,56],[0,1,3,21,5,56],[4,1,4,0,0,57],[2,0,5,1,1,57],[4,2,3,5,1,57],[4,0,4,5,1,57],[2,1,4,6,2,57],[0,0,5,7,3,57],[2,2,3,11,3,57],[2,0,4,11,3,57],[1,0,5,4,4,57],[0,1,4,12,4,57],[0,2,3,17,5,57],[0,0,4,17,5,57],[0,0,5,8,4,58],[0,1,4,13,5,58],[0,0,5,9,5,59],[0,0,5,10,2,60],[0,0,4,20,4,60],[0,0,5,11,3,61],[0,0,4,21,5,61],[0,0,5,12,4,62],[0,0,5,13,5,63]],56:[[2,0,5,0,0,56],[2,1,4,5,1,56],[3,1,4,2,2,56],[0,0,5,6,2,56],[2,2,3,10,2,56],[2,0,4,10,2,56],[1,0,5,3,3,56],[0,1,4,11,3,56],[2,3,2,15,3,56],[2,1,3,15,3,56],[1,1,4,8,4,56],[0,2,3,16,4,56],[0,0,4,16,4,56],[0,3,2,21,5,56],[0,1,3,21,5,56],[4,1,4,0,0,57],[2,0,5,1,1,57],[4,2,3,5,1,57],[4,0,4,5,1,57],[2,1,4,6,2,57],[0,0,5,7,3,57],[2,2,3,11,3,57],[2,0,4,11,3,57],[1,0,5,4,4,57],[0,1,4,12,4,57],[0,2,3,17,5,57],[0,0,4,17,5,57],[4,1,4,1,1,58],[1,0,5,5,1,58],[2,0,5,2,2,58],[1,1,4,10,2,58],[2,1,4,7,3,58],[1,2,3,15,3,58],[1,0,4,15,3,58],[0,0,5,8,4,58],[1,3,2,20,4,58],[1,1,3,20,4,58],[0,1,4,13,5,58],[0,0,5,9,5,59],[0,0,5,10,2,60],[0,1,4,15,3,60],[0,2,3,20,4,60],[0,0,4,20,4,60],[0,3,2,25,5,60],[0,1,3,25,5,60],[0,0,5,11,3,61],[0,0,4,21,5,61],[0,0,5,12,4,62],[0,0,5,13,5,63],[0,0,5,15,3,65],[0,0,4,25,5,65]],57:[[4,1,4,0,0,57],[2,0,5,1,1,57],[4,2,3,5,1,57],[4,0,4,5,1,57],[2,1,4,6,2,57],[0,0,5,7,3,57],[2,2,3,11,3,57],[2,0,4,11,3,57],[1,0,5,4,4,57],[0,1,4,12,4,57],[0,2,3,17,5,57],[0,0,4,17,5,57],[4,1,4,1,1,58],[1,0,5,5,1,58],[2,0,5,2,2,58],[1,1,4,10,2,58],[2,1,4,7,3,58],[1,2,3,15,3,58],[1,0,4,15,3,58],[0,0,5,8,4,58],[1,3,2,20,4,58],[1,1,3,20,4,58],[0,1,4,13,5,58],[3,0,5,0,0,59],[3,1,4,5,1,59],[1,0,5,6,2,59],[3,2,3,10,2,59],[3,0,4,10,2,59],[2,0,5,3,3,59],[1,1,4,11,3,59],[1,2,3,16,4,59],[1,0,4,16,4,59],[0,0,5,9,5,59],[0,0,5,10,2,60],[0,1,4,15,3,60],[0,2,3,20,4,60],[0,0,4,20,4,60],[0,3,2,25,5,60],[0,1,3,25,5,60],[0,0,5,11,3,61],[0,1,4,16,4,61],[0,2,3,21,5,61],[0,0,4,21,5,61],[0,0,5,12,4,62],[0,0,5,13,5,63],[0,0,5,15,3,65],[0,0,4,25,5,65],[0,0,5,16,4,66]],58:[[4,1,4,1,1,58],[1,0,5,5,1,58],[2,0,5,2,2,58],[1,1,4,10,2,58],[2,1,4,7,3,58],[1,2,3,15,3,58],[1,0,4,15,3,58],[0,0,5,8,4,58],[1,3,2,20,4,58],[1,1,3,20,4,58],[0,1,4,13,5,58],[3,0,5,0,0,59],[3,1,4,5,1,59],[1,0,5,6,2,59],[3,2,3,10,2,59],[3,0,4,10,2,59],[2,0,5,3,3,59],[1,1,4,11,3,59],[1,2,3,16,4,59],[1,0,4,16,4,59],[0,0,5,9,5,59],[5,1,4,0,0,60],[3,0,5,1,1,60],[3,1,4,6,2,60],[0,0,5,10,2,60],[1,0,5,7,3,60],[0,1,4,15,3,60],[1,1,4,12,4,60],[0,2,3,20,4,60],[0,0,4,20,4,60],[0,3,2,25,5,60],[0,1,3,25,5,60],[0,0,5,11,3,61],[0,1,4,16,4,61],[0,2,3,21,5,61],[0,0,4,21,5,61],[0,0,5,12,4,62],[0,1,4,17,5,62],[0,0,5,13,5,63],[0,0,5,15,3,65],[0,0,4,25,5,65],[0,0,5,16,4,66],[0,0,5,17,5,67]],59:[[3,0,5,0,0,59],[3,1,4,5,1,59],[1,0,5,6,2,59],[3,2,3,10,2,59],[3,0,4,10,2,59],[2,0,5,3,3,59],[1,1,4,11,3,59],[1,2,3,16,4,59],[1,0,4,16,4,59],[0,0,5,9,5,59],[5,1,4,0,0,60],[3,0,5,1,1,60],[3,1,4,6,2,60],[0,0,5,10,2,60],[1,0,5,7,3,60],[0,1,4,15,3,60],[1,1,4,12,4,60],[0,2,3,20,4,60],[0,0,4,20,4,60],[0,3,2,25,5,60],[0,1,3,25,5,60],[2,0,5,5,1,61],[3,0,5,2,2,61],[2,1,4,10,2,61],[0,0,5,11,3,61],[2,2,3,15,3,61],[2,0,4,15,3,61],[1,0,5,8,4,61],[0,1,4,16,4,61],[0,2,3,21,5,61],[0,0,4,21,5,61],[0,0,5,12,4,62],[0,1,4,17,5,62],[0,0,5,13,5,63],[0,0,5,15,3,65],[0,0,4,25,5,65],[0,0,5,16,4,66],[0,0,5,17,5,67]],60:[[5,1,4,0,0,60],[3,0,5,1,1,60],[3,1,4,6,2,60],[0,0,5,10,2,60],[1,0,5,7,3,60],[0,1,4,15,3,60],[1,1,4,12,4,60],[0,2,3,20,4,60],[0,0,4,20,4,60],[0,3,2,25,5,60],[0,1,3,25,5,60],[2,0,5,5,1,61],[3,0,5,2,2,61],[2,1,4,10,2,61],[0,0,5,11,3,61],[2,2,3,15,3,61],[2,0,4,15,3,61],[1,0,5,8,4,61],[0,1,4,16,4,61],[0,2,3,21,5,61],[0,0,4,21,5,61],[4,0,5,0,0,62],[4,1,4,5,1,62],[2,0,5,6,2,62],[2,1,4,11,3,62],[0,0,5,12,4,62],[0,1,4,17,5,62],[0,0,5,13,5,63],[0,0,5,15,3,65],[0,0,4,25,5,65],[0,0,5,16,4,66],[0,0,5,17,5,67]],61:[[2,0,5,5,1,61],[3,0,5,2,2,61],[2,1,4,10,2,61],[0,0,5,11,3,61],[2,2,3,15,3,61],[2,0,4,15,3,61],[1,0,5,8,4,61],[0,1,4,16,4,61],[0,2,3,21,5,61],[0,0,4,21,5,61],[4,0,5,0,0,62],[4,1,4,5,1,62],[2,0,5,6,2,62],[2,1,4,11,3,62],[0,0,5,12,4,62],[0,1,4,17,5,62],[4,0,5,1,1,63],[1,0,5,10,2,63],[2,0,5,7,3,63],[1,1,4,15,3,63],[1,2,3,20,4,63],[1,0,4,20,4,63],[0,0,5,13,5,63],[0,0,5,15,3,65],[0,1,4,20,4,65],[0,2,3,25,5,65],[0,0,4,25,5,65],[0,0,5,16,4,66],[0,0,5,17,5,67],[0,0,5,20,4,70]],62:[[4,0,5,0,0,62],[4,1,4,5,1,62],[2,0,5,6,2,62],[2,1,4,11,3,62],[0,0,5,12,4,62],[0,1,4,17,5,62],[4,0,5,1,1,63],[1,0,5,10,2,63],[2,0,5,7,3,63],[1,1,4,15,3,63],[1,2,3,20,4,63],[1,0,4,20,4,63],[0,0,5,13,5,63],[3,0,5,5,1,64],[3,1,4,10,2,64],[1,0,5,11,3,64],[1,1,4,16,4,64],[0,0,5,15,3,65],[0,1,4,20,4,65],[0,2,3,25,5,65],[0,0,4,25,5,65],[0,0,5,16,4,66],[0,1,4,21,5,66],[0,0,5,17,5,67],[0,0,5,20,4,70],[0,0,5,21,5,71]],63:[[4,0,5,1,1,63],[1,0,5,10,2,63],[2,0,5,7,3,63],[1,1,4,15,3,63],[1,2,3,20,4,63],[1,0,4,20,4,63],[0,0,5,13,5,63],[3,0,5,5,1,64],[3,1,4,10,2,64],[1,0,5,11,3,64],[1,1,4,16,4,64],[5,0,5,0,0,65],[3,0,5,6,2,65],[0,0,5,15,3,65],[1,0,5,12,4,65],[0,1,4,20,4,65],[0,2,3,25,5,65],[0,0,4,25,5,65],[0,0,5,16,4,66],[0,1,4,21,5,66],[0,0,5,17,5,67],[0,0,5,20,4,70],[0,0,5,21,5,71]],64:[[3,0,5,5,1,64],[3,1,4,10,2,64],[1,0,5,11,3,64],[1,1,4,16,4,64],[5,0,5,0,0,65],[3,0,5,6,2,65],[0,0,5,15,3,65],[1,0,5,12,4,65],[0,1,4,20,4,65],[0,2,3,25,5,65],[0,0,4,25,5,65],[2,0,5,10,2,66],[2,1,4,15,3,66],[0,0,5,16,4,66],[0,1,4,21,5,66],[0,0,5,17,5,67],[0,0,5,20,4,70],[0,0,5,21,5,71]],65:[[5,0,5,0,0,65],[3,0,5,6,2,65],[0,0,5,15,3,65],[1,0,5,12,4,65],[0,1,4,20,4,65],[0,2,3,25,5,65],[0,0,4,25,5,65],[2,0,5,10,2,66],[2,1,4,15,3,66],[0,0,5,16,4,66],[0,1,4,21,5,66],[4,0,5,5,1,67],[2,0,5,11,3,67],[0,0,5,17,5,67],[0,0,5,20,4,70],[0,0,5,21,5,71]],66:[[2,0,5,10,2,66],[2,1,4,15,3,66],[0,0,5,16,4,66],[0,1,4,21,5,66],[4,0,5,5,1,67],[2,0,5,11,3,67],[0,0,5,17,5,67],[1,0,5,15,3,68],[1,1,4,20,4,68],[0,0,5,20,4,70],[0,1,4,25,5,70],[0,0,5,21,5,71],[0,0,5,25,5,75]],67:[[4,0,5,5,1,67],[2,0,5,11,3,67],[0,0,5,17,5,67],[1,0,5,15,3,68],[1,1,4,20,4,68],[3,0,5,10,2,69],[1,0,5,16,4,69],[0,0,5,20,4,70],[0,1,4,25,5,70],[0,0,5,21,5,71],[0,0,5,25,5,75]],68:[[1,0,5,15,3,68],[1,1,4,20,4,68],[3,0,5,10,2,69],[1,0,5,16,4,69],[0,0,5,20,4,70],[0,1,4,25,5,70],[0,0,5,21,5,71],[0,0,5,25,5,75]],69:[[3,0,5,10,2,69],[1,0,5,16,4,69],[0,0,5,20,4,70],[0,1,4,25,5,70],[2,0,5,15,3,71],[0,0,5,21,5,71],[0,0,5,25,5,75]],70:[[0,0,5,20,4,70],[0,1,4,25,5,70],[2,0,5,15,3,71],[0,0,5,21,5,71],[0,0,5,25,5,75]],71:[[2,0,5,15,3,71],[0,0,5,21,5,71],[1,0,5,20,4,73],[0,0,5,25,5,75]],72:[[1,0,5,20,4,73],[0,0,5,25,5,75]],73:[[1,0,5,20,4,73],[0,0,5,25,5,75]],74:[[0,0,5,25,5,75]],75:[[0,0,5,25,5,75]]};function zt(b){return b.armorSystem==X.V.Armor3&&b.tier>=5&&b.archetypeStats&&void 0!==b.tuningStat}function Bt(b){return{tuningStat:b.tuningStat,archetypeStats:b.archetypeStats}}function Jt(b,w,F,M,D,E,V){let v=new Map(w);const B=[{slot:h.s.ArmorSlotHelmet,item:M},{slot:h.s.ArmorSlotGauntlet,item:D},{slot:h.s.ArmorSlotChest,item:E},{slot:h.s.ArmorSlotLegs,item:V}];for(let{item:x}of B)x.armorSystem===X.V.Armor2&&(x.isExotic&&b.assumeEveryLegendaryIsArtifice||!x.isExotic&&b.assumeEveryLegendaryIsArtifice||!x.isExotic&&x.slot==h.s.ArmorSlotClass&&b.assumeClassItemIsArtifice)?v.set(_.dm.SlotArtifice,(v.get(_.dm.SlotArtifice)??0)-1):(v.set(x.perk,(v.get(x.perk)??0)-1),null!=x.gearSetHash&&v.set(x.gearSetHash,(v.get(x.gearSetHash)??0)-1));let O=0;for(let[x]of v)x==_.dm.Any||x==_.dm.None||(O+=Math.max(0,v.get(x)??0));if(O>1)return{valid:!1};if(0==O)return{valid:!0,requiredClassItemType:_.dm.Any};const G=[...v.entries()].find(x=>x[1]>0)?.[0];return G?{valid:F.has(G),requiredClassItemType:G}:{valid:!1,requiredClassItemType:_.dm.Any}}function Q(b,w,F=[0,0,0,0,0,0]){if(b.armorSystem==X.V.Armor2){if(b.masterworkLevel==yt.cd||b.isExotic&&w.assumeExoticsMasterworked||!b.isExotic&&w.assumeLegendariesMasterworked)for(let M=0;M<6;M++)F[M]+=2}else if(b.armorSystem==X.V.Armor3){let M=b.masterworkLevel;if((b.isExotic&&w.assumeExoticsMasterworked||!b.isExotic&&w.assumeLegendariesMasterworked)&&(M=yt.cd),0==M)return;for(let D=0;D<6;D++)b.archetypeStats.includes(D)||(F[D]+=M)}}function Vt(b){const w=b.map(E=>{let V=[[0,0,0,0,0,0]],v=[0,0,0,0,0,0];for(let B=0;B<6;B++){if(E.archetypeStats.includes(B)||(v[B]=1),B==E.tuningStat)continue;let O=[0,0,0,0,0,0];O[E.tuningStat]=5,O[B]=-5,V.push(O)}return V.push(v),V}),F=[],M=new Set;function D(E){const V=E.join(",");M.has(V)||(F.push(E),M.add(V))}if(0===w.length)D([0,0,0,0,0,0]);else{let E=function(V,v){if(V!==w.length)for(const B of w[V])E(V+1,[v[0]+B[0],v[1]+B[1],v[2]+B[2],v[3]+B[3],v[4]+B[4],v[5]+B[5]]);else D(v)};E(0,[0,0,0,0,0,0])}return F}function c(b,w,F,M,D,E,V,v,B=!1){const O=[F,M,D,E],G=function k(b){return[b[0].mobility+b[1].mobility+b[2].mobility+b[3].mobility,b[0].resilience+b[1].resilience+b[2].resilience+b[3].resilience,b[0].recovery+b[1].recovery+b[2].recovery+b[3].recovery,b[0].discipline+b[1].discipline+b[2].discipline+b[3].discipline,b[0].intellect+b[1].intellect+b[2].intellect+b[3].intellect,b[0].strength+b[1].strength+b[2].strength+b[3].strength]}(O);G[1]+=!O[2].isExotic&&w.addConstent1Health?1:0;for(const I of O)Q(I,w,G);const x=new Array(6),T=new Array(6);for(let I=0;I<6;I++)x[I]=10*(w.minimumStatTiers[I].value||0),T[I]=!!w.minimumStatTiers[I].fixed;const L=[G[0],G[1],G[2],G[3],G[4],G[5]],$=[L[0]+(v[0]||0),L[1]+(v[1]||0),L[2]+(v[2]||0),L[3]+(v[3]||0),L[4]+(v[4]||0),L[5]+(v[5]||0)];for(let I=0;I<6;I++)if(T[I]&&$[I]>x[I])return null;const Z=!!w.assumeEveryLegendaryIsArtifice,at=!!w.assumeEveryExoticIsArtifice;let rt=0;for(const I of O)(I.perk==_.dm.SlotArtifice||I.armorSystem===X.V.Armor2&&(Z&&!I.isExotic||at&&I.isExotic))&&rt++;const vt=new Array(6);for(let I=0;I<6;I++)vt[I]=Math.max(0,x[I]-$[I]);if(w.onlyShowResultsWithNoWastedStats)for(let I=0;I<6;I++){const q=10-$[I]%10;vt[I]=Math.max(vt[I],q<10?q:0)}const st=[],Yt=[0,0,0,0,0,0];if(w.calculateTierFiveTuning){for(const I of O)zt(I)&&st.push(Bt(I));for(const I of st){const q=[!1,!1,!1,!1,!1,!1];for(const dt of I.archetypeStats)dt>=0&&dt<6&&(q[dt]=!0);const gt=[0,0,0,0,0,0];for(let dt=0;dt<6;dt++)gt[dt]=q[dt]?0:1;for(let dt=0;dt<6;dt++){if(dt===I.tuningStat)continue;const ct=[0,0,0,0,0,0];ct[I.tuningStat]=5,ct[dt]=-5;for(let Ct=0;Ct<6;Ct++)Yt[Ct]+=Math.max(gt[Ct],ct[Ct])}}}const Kt=function W(b,w,F,M){return[...b].sort((D,E)=>{let V=0,v=0;5==D.tier&&(V+=15),5==E.tier&&(v+=15),D.armorSystem==X.V.Armor3&&(V+=12),E.armorSystem==X.V.Armor3&&(v+=12),D.perk==_.dm.SlotArtifice&&(V+=10),E.perk==_.dm.SlotArtifice&&(v+=10),w.calculateTierFiveTuning&&(zt(D)&&(V+=8),zt(E)&&(v+=8)),V+=(D.masterworkLevel??0)+(D.isExotic&&w.assumeExoticsMasterworked?5:0)+(!D.isExotic&&w.assumeLegendariesMasterworked?5:0),v+=(E.masterworkLevel??0)+(E.isExotic&&w.assumeExoticsMasterworked?5:0)+(!E.isExotic&&w.assumeLegendariesMasterworked?5:0),D.source===t.h$.Inventory&&(V+=5),E.source===t.h$.Inventory&&(v+=5);const G=[D.mobility,D.resilience,D.recovery,D.discipline,D.intellect,D.strength],x=[E.mobility,E.resilience,E.recovery,E.discipline,E.intellect,E.strength];for(let $=0;$<6;$++)if(F[$]>0){const Z=Math.min(F[$],G[$]),at=Math.min(F[$],x[$]);V+=Z,v+=at,Z>=5&&(V+=2),at>=5&&(v+=2)}else w.tryLimitWastedStats&&M[$]+G[$]>200?V-=Math.max(0,M[$]+G[$]-200):w.tryLimitWastedStats&&M[$]+x[$]>200&&(v-=Math.max(0,M[$]+x[$]-200));return V+=.1*G.reduce(($,Z)=>$+Z,0),v+=.1*x.reduce(($,Z)=>$+Z,0),v-V})}(V,w,vt,$),ut=[0,0,0,0,0,0],Pt=[0,0,0,0,0,0],_t=[0,0,0,0,0,0],Ft=[0,0,0,0,0,0],Xt=w.statModLimits?.maxMajorMods||0,ce=10*Xt+5*Math.max(0,(w.statModLimits?.maxMods||0)-Xt);function ke(I){if(!I)return Yt.slice();const q=Yt.slice(),gt=[!1,!1,!1,!1,!1,!1];for(const ct of I.archetypeStats)ct>=0&&ct<6&&(gt[ct]=!0);const dt=[0,0,0,0,0,0];for(let ct=0;ct<6;ct++)dt[ct]=gt[ct]?0:1;for(let ct=0;ct<6;ct++){if(ct===I.tuningStat)continue;const Ct=[0,0,0,0,0,0];Ct[I.tuningStat]=5,Ct[ct]=-5;for(let xt=0;xt<6;xt++)q[xt]+=Math.max(dt[xt],Ct[xt])}return q}let P=[],ht=0;t:for(const I of Kt){ht++,ut[0]=$[0]+(I.mobility||0),ut[1]=$[1]+(I.resilience||0),ut[2]=$[2]+(I.recovery||0),ut[3]=$[3]+(I.discipline||0),ut[4]=$[4]+(I.intellect||0),ut[5]=$[5]+(I.strength||0),Q(I,w,ut);for(let U=0;U<6;U++)if(T[U]&&ut[U]>x[U])return null;Pt[0]=L[0]+(I.mobility||0),Pt[1]=L[1]+(I.resilience||0),Pt[2]=L[2]+(I.recovery||0),Pt[3]=L[3]+(I.discipline||0),Pt[4]=L[4]+(I.intellect||0),Pt[5]=L[5]+(I.strength||0),Q(I,w,Pt);const q=rt+(I.perk==_.dm.SlotArtifice?1:0);let gt,dt=Yt.slice();w.calculateTierFiveTuning&&(gt=zt(I)?Bt(I):void 0,dt=ke(gt));for(let U=0;U<6;U++)_t[U]=Math.max(0,x[U]-ut[U]);if(w.onlyShowResultsWithNoWastedStats)for(let U=0;U<6;U++){const St=10-ut[U]%10;_t[U]=Math.max(_t[U],St<10?St:0)}for(let U=0;U<6;U++)Ft[U]=0;if(w.tryLimitWastedStats)for(let U=0;U<6;U++)0===_t[U]&&!T[U]&&ut[U]<200&&ut[U]%10>0&&(Ft[U]=10-ut[U]%10);const ct=_t[0]+_t[1]+_t[2]+_t[3]+_t[4]+_t[5],Ct=Ft[0]+Ft[1]+Ft[2]+Ft[3]+Ft[4]+Ft[5];if(ct>50+3*rt+5*(st.length+(gt?1:0))){if(w.earlyAbortClassItems&&ht>=3)break t;continue t}let Zt,xt=[[0,0,0,0,0,0]],le=!0;for(let U=0;U<6;U++)if(ce+dt[U]+3*q<_t[U]){le=!1;break}if(le){if(w.calculateTierFiveTuning){const U=st.slice();gt&&U.push(gt),xt=Vt(U)}Zt=0===ct&&0===Ct?{mods:[],tuning:[0,0,0,0,0,0],modBonus:[0,0,0,0,0,0]}:bt(ut,x,w,_t,Ft,q,w.modOptimizationStrategy,xt),null!==Zt&&(Be(b,w,ut,x,_t,q,xt),Array.isArray(P)&&0===P.length&&(P=Ye(0,w,F,M,D,E,I,Zt,ut,Pt.slice(),0,0,B)))}else if(w.earlyAbortClassItems&&ht>=3)break t}return P}function Se(b,w,F){return F+w.tuning[b]+w.modBonus[b]}function Be(b,w,F,M,D,E,V){for(let v=0;v<6;v++){const B=V.map($=>$[v]).reduce(($,Z)=>Math.min($,Z),0),O=F[v],G=V.slice().sort(($,Z)=>{const at=$[v],rt=Z[v],vt=at<0,st=rt<0;return vt&&st?rt-at:vt||st?vt?1:-1:at-rt});if(b.maximumPossibleTiers[v]<F[v]+B&&(b.maximumPossibleTiers[v]=F[v]+B),O>=200)continue;let T=Math.max(b.maximumPossibleTiers[v],10*w.minimumStatTiers[v].value),L=200;for(;T<=L;){const $=Math.min(200,Math.ceil((T+L)/2));if(O>=$&&0==B){T=$+1;continue}const Z=[...D];Z[v]=Math.max(0,$-O);const at=bt(F,M,w,Z,[0,0,0,0,0,0],E,Dt.P.None,G);if(null!=at){let rt=Se(v,at,O);b.maximumPossibleTiers[v]=Math.max(rt,b.maximumPossibleTiers[v]),T=Math.max(b.maximumPossibleTiers[v],$)+1}else L=$-1}if(T>b.maximumPossibleTiers[v]&&T<=200){const $=[...D];$[v]=Math.max(T-O,0);const Z=bt(F,M,w,$,[0,0,0,0,0,0],E,Dt.P.None,G);if(null!=Z){b.maximumPossibleTiers[v]=T;for(let at=v+1;at<6;at++)b.maximumPossibleTiers[at]=Math.max(Se(at,Z,F[at]),b.maximumPossibleTiers[at])}}}}function Ye(b,w,F,M,D,E,V,v,B,O,G,x,T){if(T)return[];const L=v.mods.filter(rt=>rt%3==0),$=v.mods.filter(rt=>rt%3!=0),Z=[...B];for(let rt of v.mods)Z[Math.floor((rt-1)/3)]+=_.fe[rt][1];for(let rt=0;rt<6;rt++)Z[rt]+=v.tuning[rt];const at=It(Z);return w.onlyShowResultsWithNoWastedStats&&at>0?[]:function A(b,w,F,M,D,E,V,v,B,O){return{armor:[b.id,w.id,F.id,M.id,D.id],useExoticClassItem:!1,usedArtifice:E,usedMods:V,statsWithMods:v,statsWithoutMods:B,tuning:O}}(F,M,D,E,V,L,$,Z,O,v.tuning)}function re(b,w,F,M,D,E,V,v){if(D>5){t:for(let x of M){for(let T=0;T<6;T++)if(!(x[T]>=0)&&b[T]+x[T]<w[T])continue t;return[x]}if(v>0)for(let x of M){const T=b.map((Z,at)=>Z+x[at]),L=F.map((Z,at)=>Math.max(0,w[at]-T[at])),$=re(T,w,L,[],0,E,V,v);if(null!==$)return[...$,x]}return null}const B=M.reduce((x,T)=>Math.max(x,T[D]),0);let G=Rt[F[D]]||[[0,0,0,0,0,0]];if(G=G.filter(x=>x[0]<=E&&x[2]<=V&&x[2]+x[1]<=v&&x[3]<=B),0==G.length)return null;for(const x of G){const T=Math.max(0,v-x[1]-x[2]),L=Math.min(T,Math.max(0,V-x[2])),$=Math.max(0,E-x[0]);let Z=M;const rt=x[3];if(x[4]>0&&(Z=M.filter(st=>st[D]>=rt),0==Z.length))continue;const vt=re(b,w,F,Z,D+1,$,L,T);if(null!==vt)return[x,...vt]}return null}function bt(b,w,F,M,D,E,V=Dt.P.None,v){const B=M[0]+M[1]+M[2]+M[3]+M[4]+M[5];if(B>75)return null;if(0==B&&D.every(T=>0==T))return{mods:[],tuning:[0,0,0,0,0,0],modBonus:[0,0,0,0,0,0]};let O=re(b,w,M,v,0,E,F.statModLimits.maxMajorMods,F.statModLimits.maxMods);if(null===O)return null;const G=[],x=[0,0,0,0,0,0];for(let T=0;T<O.length-1;T++){for(let L=0;L<O[T][1];L++)G.push(1+3*T),x[T]+=5;for(let L=0;L<O[T][2];L++)G.push(2+3*T),x[T]+=10;for(let L=0;L<O[T][0];L++)G.push(3+3*T),x[T]+=3}return{mods:G,modBonus:x,tuning:O[O.length-1]}}function se(b){return Math.floor(Math.min(200,b[_.uD.StatWeapon])/10)+Math.floor(Math.min(200,b[_.uD.StatHealth])/10)+Math.floor(Math.min(200,b[_.uD.StatClass])/10)+Math.floor(Math.min(200,b[_.uD.StatGrenade])/10)+Math.floor(Math.min(200,b[_.uD.StatSuper])/10)+Math.floor(Math.min(200,b[_.uD.StatMelee])/10)}function It(b){return Math.max(0,b[_.uD.StatWeapon]-200)+Math.max(0,b[_.uD.StatHealth]-200)+Math.max(0,b[_.uD.StatClass]-200)+Math.max(0,b[_.uD.StatGrenade]-200)+Math.max(0,b[_.uD.StatSuper]-200)+Math.max(0,b[_.uD.StatMelee]-200)}addEventListener("message",function(){var b=(0,g.A)(function*({data:w}){if("builderRequest"!=w.type)return;const F=w.threadSplit,M=w.config,D=Object.values(M.minimumStatTiers).some(P=>P.fixed);let E=w.items;if(null==F||null==M||null==E)return;const V=Date.now();console.log(`Thread ${F.current} started with ${E.length} items to process.`),console.time(`Total run thread#${F.current}`),M.onlyShowResultsWithNoWastedStats=nt.c.featureFlags.enableZeroWaste&&M.onlyShowResultsWithNoWastedStats,nt.c.featureFlags.enableModslotLimitation||(M.statModLimits={maxMods:5,maxMajorMods:5});let v=E.filter(P=>P.slot==h.s.ArmorSlotHelmet).filter(P=>!M.useFotlArmor||[199733460,2545426109,3224066584,2390807586,2462335932,4095816113].indexOf(P.hash)>-1),B=E.filter(P=>P.slot==h.s.ArmorSlotGauntlet),O=E.filter(P=>P.slot==h.s.ArmorSlotChest),G=E.filter(P=>P.slot==h.s.ArmorSlotLegs),x=E.filter(P=>P.slot==h.s.ArmorSlotClass);if(x=x.sort((P,ht)=>(ht.tier??0)-(P.tier??0)||(ht.masterworkLevel??0)-(P.masterworkLevel??0)),M.selectedExoticPerks&&M.selectedExoticPerks.length>=2){const P=M.selectedExoticPerks[0],ht=M.selectedExoticPerks[1];(P!==_.dm.Any||ht!==_.dm.Any)&&(x=x.filter(I=>{if(!I.isExotic||!I.exoticPerkHash||I.exoticPerkHash.length<2)return!0;const q=P===_.dm.Any||I.exoticPerkHash.includes(P),gt=ht===_.dm.Any||I.exoticPerkHash.includes(ht);return q&&gt}))}(M.assumeEveryLegendaryIsArtifice||M.assumeEveryExoticIsArtifice||M.assumeClassItemIsArtifice)&&(x=x.map(P=>P.armorSystem==X.V.Armor2&&(M.assumeEveryLegendaryIsArtifice&&!P.isExotic||M.assumeEveryExoticIsArtifice&&P.isExotic||M.assumeClassItemIsArtifice&&!P.isExotic)?{...P,perk:_.dm.SlotArtifice}:P));const T=0==M.armorRequirements.length;if(x=x.filter((P,ht,I)=>ht===I.findIndex(q=>q.mobility===P.mobility&&q.resilience===P.resilience&&q.recovery===P.recovery&&q.discipline===P.discipline&&q.intellect===P.intellect&&q.strength===P.strength&&q.isExotic===P.isExotic&&(q.tier<5&&P.tier<5||q.tuningStat==P.tuningStat)&&(q.isExotic&&M.assumeExoticsMasterworked||!q.isExotic&&M.assumeLegendariesMasterworked||D&&q.masterworkLevel===P.masterworkLevel||!D)&&(T||q.perk===P.perk&&q.gearSetHash===P.gearSetHash))),F.count>1){let xt=function(St,jt){const Lt=Array.from({length:jt},()=>[]);for(let de=0;de<St.length;++de)Lt[de%jt].push(St[de]);return Lt};const P=[[v,v.length,"helmets"],[B,B.length,"gauntlets"],[O,O.length,"chests"],[G,G.length,"legs"],[x,x.length,"class"]];P.sort((St,jt)=>jt[1]-St[1]);const ht=P[0][0],I=P[0][2],q=ht.filter(St=>St.isExotic),gt=ht.filter(St=>!St.isExotic),dt=St=>St.slice().sort((jt,Lt)=>jt.hash!==Lt.hash?jt.hash-Lt.hash:(jt.masterworkLevel??0)!==(Lt.masterworkLevel??0)?(jt.masterworkLevel??0)-(Lt.masterworkLevel??0):0),ct=dt(q),Ct=dt(gt),le=xt(ct,F.count),Zt=xt(Ct,F.count),U=[...le[F.current],...Zt[F.current]];switch(I){case"helmets":v=U;break;case"gauntlets":B=U;break;case"chests":O=U;break;case"legs":G=U;break;case"class":x=U}}const L=x.filter(P=>P.isExotic),$=x.filter(P=>!P.isExotic),Z=L.some(P=>M.selectedExotics.indexOf(P.hash)>-1);let at=new Set(x.map(P=>P.gearSetHash||P.perk));const rt={maximumPossibleTiers:[0,0,0,0,0,0]};if(0==x.length)return console.warn(`Thread#${F.current} - No class items found with the current configuration.`),void postMessage({runtime:rt,results:[],done:!0,checkedCalculations:0,estimatedCalculations:0,stats:{permutationCount:0,itemCount:E.length-x.length,totalTime:Date.now()-V}});L.length>0&&0==$.length&&(v=v.filter(P=>!P.isExotic),B=B.filter(P=>!P.isExotic),O=O.filter(P=>!P.isExotic),G=G.filter(P=>!P.isExotic));const vt=function Ce(b){const w=[0,0,0,0,0,0];for(const M of b.enabledMods)for(const D of K.v[M].bonus)w[D.stat==_.pe.ClassAbilityRegenerationStat?[1,0,2][b.characterClass]:D.stat]+=D.value;return w}(M),st=function ve(b){let w=new Map;for(let[F]of w)w.set(F,0);for(const F of b.armorRequirements)if("perk"in F){let M=F.perk;const D=Object.entries(_.zJ).find(([,E])=>E==M);D&&(M=Number.parseInt(D[0])),M!=_.dm.Any&&M!=_.dm.None&&w.set(M,(w.get(M)??0)+1)}else"gearSetHash"in F&&w.set(F.gearSetHash,(w.get(F.gearSetHash)??0)+1);return w}(M),Yt=M.selectedExotics.indexOf(yt.YP)>-1;let Kt=[],ut=0,Pt=0,_t=0,Ft=!1,Xt=function Ae(b,w,F,M){let D=0;const E=b.filter(L=>L.isExotic).length,V=b.length-E,v=w.filter(L=>L.isExotic).length,B=w.length-v,O=F.filter(L=>L.isExotic).length,G=F.length-O,x=M.filter(L=>L.isExotic).length,T=M.length-x;return D+=E*B*G*T,D+=V*v*G*T,D+=V*B*O*T,D+=V*B*G*x,D+=V*B*G*T,D}(v,B,O,G),Qt=0,ce=0,ke=Xt>=1e6?125:75;for(let[P,ht,I,q]of function*xe(b,w,F,M,D){for(let E of b)for(let V of w)if(!E.isExotic||!V.isExotic)for(let v of F)if(!E.isExotic&&!V.isExotic||!v.isExotic)for(let B of M)(E.isExotic||V.isExotic||v.isExotic)&&B.isExotic||D&&!(E.isExotic||V.isExotic||v.isExotic||B.isExotic)||(yield[E,V,v,B])}(v,B,O,G,Yt&&!Z)){Qt++;const gt=Jt(M,st,at,P,ht,I,q);if(!gt.valid)continue;const dt=P.isExotic||ht.isExotic||I.isExotic||q.isExotic;if(dt&&Z)continue;let ct=x;if(dt?ct=$:(M.selectedExotics[0]==yt.YP||Z)&&(ct=L),gt.requiredClassItemType!=_.dm.Any&&(ct=x.filter(xt=>xt.perk==gt.requiredClassItemType||xt.gearSetHash==gt.requiredClassItemType)),0==ct.length)continue;const Ct=c(rt,M,P,ht,I,q,ct,vt,Ft);d(Ct)&&(_t++,Kt.push(Ct),ut++,Pt++,Ft=Ft||M.limitParsedResults&&Pt>=3e4/F.count||Pt>=1e6/F.count),_t%5e3==0&&ce+ke<Date.now()&&(ce=Date.now(),postMessage({checkedCalculations:Qt,estimatedCalculations:Xt,reachableTiers:rt.maximumPossibleTiers})),ut>=5e3&&(postMessage({runtime:rt,results:Kt,done:!1,checkedCalculations:Qt,estimatedCalculations:Xt}),Kt=[],ut=0)}console.timeEnd(`Total run thread#${F.current}`),postMessage({runtime:rt,results:Kt,done:!0,checkedCalculations:Qt,estimatedCalculations:Xt,stats:{permutationCount:_t,itemCount:E.length-x.length,totalTime:Date.now()-V}})});return function(w){return b.apply(this,arguments)}}())},5312:(Mt,mt,C)=>{C.d(mt,{c:()=>g});const g={version:"2.9.10",revision:"f9540ad",production:!0,beta:!1,canary:!1,apiKey:"9415df8eff46408aa9c0d51e4d69b94f",clientId:"37252",client_secret:"KnVcJPWr7C5y0loOfBoKSyQ-vWXR0JICrgb1aJLsLgg",offlineMode:!1,open_replay_project_key:"oWDBdT1yfziyDgHEGq61",sentryDsn:"https://c2205d4589d43fc2a12cb7a05d56d3bc@o4510888602370048.ingest.us.sentry.io/4510888604205056",featureFlags:{enableModslotLimitation:!0,enableZeroWaste:!0,enableGuardianGamesFeatures:!0}}},4581:(Mt,mt,C)=>{var g=C(436),t=C(7580),h=C(1229),yt=C(1484),K=C(5312),_=C(9204),nt=C(268),Dt=C(9803),A=C(7675),d=C(789),X=C(6488),Rt=C(6229);function zt(o){return{[d.uD.StatWeapon]:{fixed:!1,value:o},[d.uD.StatHealth]:{fixed:!1,value:o},[d.uD.StatClass]:{fixed:!1,value:o},[d.uD.StatGrenade]:{fixed:!1,value:o},[d.uD.StatSuper]:{fixed:!1,value:o},[d.uD.StatMelee]:{fixed:!1,value:o}}}class Bt{constructor(){this.characterClass=3,this.addConstent1Health=!1,this.assumeClassItemIsArtifice=!1,this.assumeEveryLegendaryIsArtifice=!1,this.assumeEveryExoticIsArtifice=!1,this.disabledItems=[],this.minimumStatTiers={[d.uD.StatWeapon]:{fixed:!1,value:0},[d.uD.StatHealth]:{fixed:!1,value:0},[d.uD.StatClass]:{fixed:!1,value:0},[d.uD.StatGrenade]:{fixed:!1,value:0},[d.uD.StatSuper]:{fixed:!1,value:0},[d.uD.StatMelee]:{fixed:!1,value:0}},this.statModLimits={maxMods:5,maxMajorMods:5},this.calculateTierFiveTuning=!K.c.production,this.putArtificeMods=!0,this.useFotlArmor=!1,this.allowBlueArmorPieces=!0,this.allowLegacyLegendaryArmor=!0,this.allowLegacyExoticArmor=!0,this.enforceFeaturedLegendaryArmor=!1,this.enforceFeaturedExoticArmor=!1,this.ignoreSunsetArmor=!1,this.includeVendorRolls=!1,this.includeCollectionRolls=!1,this.assumeLegendariesMasterworked=!0,this.assumeExoticsMasterworked=!0,this.onlyUseMasterworkedExotics=!1,this.onlyUseMasterworkedLegendaries=!1,this.modOptimizationStrategy=Rt.P.None,this.limitParsedResults=!0,this.earlyAbortClassItems=!0,this.tryLimitWastedStats=!1,this.onlyShowResultsWithNoWastedStats=!1,this.selectedModElement=X.w.Stasis,this.armorRequirements=[],this.enabledMods=[],this.selectedExotics=[],this.selectedExoticPerks=[d.dm.Any,d.dm.Any]}static buildEmptyConfiguration(){return{armorRequirements:[],enabledMods:[],disabledItems:[],addConstent1Health:!1,calculateTierFiveTuning:!K.c.production,assumeEveryLegendaryIsArtifice:!1,assumeEveryExoticIsArtifice:!1,assumeClassItemIsArtifice:!1,putArtificeMods:!0,useFotlArmor:!1,onlyUseMasterworkedExotics:!1,onlyUseMasterworkedLegendaries:!1,ignoreSunsetArmor:!1,includeCollectionRolls:!1,includeVendorRolls:!1,enforceFeaturedLegendaryArmor:!1,enforceFeaturedExoticArmor:!1,allowBlueArmorPieces:!0,allowLegacyLegendaryArmor:!0,allowLegacyExoticArmor:!0,assumeLegendariesMasterworked:!0,assumeExoticsMasterworked:!0,limitParsedResults:!0,earlyAbortClassItems:!0,modOptimizationStrategy:Rt.P.None,tryLimitWastedStats:!1,onlyShowResultsWithNoWastedStats:!1,characterClass:3,selectedModElement:X.w.Prismatic,selectedExotics:[],selectedExoticPerks:[d.dm.Any,d.dm.Any],statModLimits:{maxMods:5,maxMajorMods:5},minimumStatTiers:zt(0)}}}var W=C(509),Jt=C(6227);function ve(o,r){const n=function Ce(o,r){let e={};return Object.keys(o).forEach(n=>{const i=n;(0,Jt.isEqual)(o[i],r[i])||(e[i]={from:JSON.stringify(o[i]),to:JSON.stringify(r[i])})}),{changes:e}}(o,r).changes;if(0===Object.keys(n).length)return"No changes";const i=Object.entries(n).map(([a,s])=>{const l=s;return l?`${a}: ${l.from.replace(/^"(.*)"$/,"$1")} -> ${l.to.replace(/^"(.*)"$/,"$1")}`:""}).filter(a=>a.length>0);return 1===i.length?i[0]:i.join("\n")}var xe=C(2149);const Ae={manifestArmor:"id++, hash, isExotic",inventoryArmor:"id++, itemInstanceId, isExotic, hash, name, masterworked, clazz, slot, source, gearSetHash, perk, [clazz+gearSetHash]",sandboxPerkDefinition:"id++, hash",equipableItemSetDefinition:"id++, hash, setPerks, setItems",sandboxAbilities:"id++, hash",manifestCollectibles:"id++, hash",vendorNames:"id++, vendorId",vendorItemSubscreen:"itemHash"};class k extends xe.Ay{constructor(){super("d2armorpicker-v2"),this.version(33).stores(Ae)}}var Q=C(1992);let Vt=(()=>{class o{constructor(e){this.logger=e,this.logger.debug("AuthService","constructor","Initializing AuthService"),this._logoutEvent=new A.m(1),this.logoutEvent=this._logoutEvent.asObservable()}ngOnDestroy(){this.logger.debug("AuthService","ngOnDestroy","Destroying AuthService")}getCurrentMembershipData(){var e=this;return(0,_.A)(function*(){const n=JSON.parse(localStorage.getItem("user-membershipInfo")||"null");if(null==n){const i=e.getCurrentMembershipData();return localStorage.setItem("user-membershipInfo",JSON.stringify(i)),i}return n})()}logout(){var e=this;return(0,_.A)(function*(){if(K.c.offlineMode)e.logger.debug("AuthService","logout","Offline mode, skipping logout");else try{localStorage.removeItem("auth-accessToken"),localStorage.removeItem("auth-refreshToken"),localStorage.removeItem("auth-refreshToken-expireDate"),localStorage.removeItem("auth-refreshToken-lastRefreshDate"),localStorage.removeItem("user-currentConfig")}catch(n){e.logger.error("AuthService","logout","Error during logout",n)}finally{e._logoutEvent.next(null)}})()}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(Q.so))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var c=function(o){return o[o.ADD=0]="ADD",o[o.REMOVE=1]="REMOVE",o[o.MODIFIED=2]="MODIFIED",o}(c||{});const Se=[{version:"2.9.10",date:"February 15, 2026",clearManifest:!0,entries:[{type:c.ADD,text:"Add a privacy notice, this is due to the session replay added, to help with user experience and debugging. :)",issues:[]},{type:c.ADD,text:"T5 Tuning has been implemented. This was a lot of work. A display of the used mods will follow in a later update.",issues:[]},{type:c.ADD,text:"Added advanced setting 'High Speed Mode' that will skip calculations in certain places. May result in missing results, though.",issues:[]},{type:c.MODIFIED,text:"Clustering is updated and re-enabled.",issues:[]},{type:c.ADD,text:"Add toggle for T5 tuning calculations.",issues:[]},{type:c.MODIFIED,text:"Changed session replay solution.",issues:[]},{type:c.MODIFIED,text:"Refactored the logic for validating the manifest and inventory to reduce calls and time validating with the BungieAPI.",issues:[]},{type:c.MODIFIED,text:"Consolidated the armor initialization logic",issues:[]},{type:c.MODIFIED,text:"Refactored and consolidated the API token calls",issues:[]},{type:c.MODIFIED,text:"Moved calculator logic to its own service, to improve code structure and have better handling of when to recalculate",issues:[]},{type:c.MODIFIED,text:"Implemented a delay for loading the full changelog for iOS users, to help with crashes",issues:[]},{type:c.MODIFIED,text:"Improved logging for better debugging and error tracking",issues:[]},{type:c.MODIFIED,text:"Changed images to be lazy loaded, should help with freezes and other performance issues",issues:[]},{type:c.MODIFIED,text:"Changed logic for Manifest and Armor Initialization to avoid race conditions.",issues:[]},{type:c.MODIFIED,text:"Changed logic to validate Manifest cache, to reduce calls and time validating with the BungieAPI.",issues:[]},{type:c.MODIFIED,text:"Only retrigger armor calculation when vendor data is updated if the vendor data is going to be used",issues:[]},{type:c.MODIFIED,text:"Adapted the algorithm so that it allows negative stat values.",issues:[]}]},{version:"2.9.6",date:"July 31, 2025",clearManifest:!0,entries:[{type:c.ADD,text:"Added gearset selection feature, allowing users to easily select and combine gearsets.",issues:[]},{type:c.MODIFIED,text:"Simplified the modslot configuration.",issues:[]},{type:c.MODIFIED,text:"Simplified the mod cost selection. You now only select how many mods the app is allowed to place, as well as how many 'major' mods you want to use, and the app will do the rest of the work.",issues:[]},{type:c.MODIFIED,text:"Drastically improved performance of the calculation algorithm, especially for large inventories.",issues:[]},{type:c.MODIFIED,text:"Refactored code to remove unused functions and improve performance.",issues:[]},{type:c.MODIFIED,text:"Ensured correct handling of class item artifice assumptions and perk updates.",issues:[]}]},{version:"2.9.5",date:"July 31, 2025",clearManifest:!0,entries:[{type:c.ADD,text:"Added a new panel that shows the current status: initializing, calculating, or ready.",issues:[]},{type:c.ADD,text:"Added a 'Cancel Calculation' button to stop the calculation process.",issues:[]},{type:c.ADD,text:"Split the 'Enforce featured armor only' setting into two separate settings: one for legendary armor and one for exotic armor.",issues:[]},{type:c.ADD,text:"Split the 'Include legacy armor' setting into two separate settings: one for legendary armor and one for exotic armor.",issues:[]},{type:c.MODIFIED,text:"Adapted the visible order of the stats so that they reflect the current state of the game.",issues:[]},{type:c.MODIFIED,text:"Completely reworked the detection of masterworks on items.",issues:[]},{type:c.MODIFIED,text:"During calculation, the algorithm now combines the (exotic) class items with the same stats, no matter which perks they have. This reduces the calculation time drastically. Selecting perks will still enforce these (exotic) class items.",issues:[]},{type:c.MODIFIED,text:"Adjusted mod costs.",issues:[]},{type:c.MODIFIED,text:"Fixed armor perk filtering.",issues:[]},{type:c.MODIFIED,text:"Fixing a value to a constant will now work correctly again.",issues:[]},{type:c.MODIFIED,text:"Modified the 'Assume class item is artifice' check to only work on Armor 2.0 items.",issues:[]}]},{version:"2.9.4",date:"July 24, 2025",clearManifest:!0,entries:[{type:c.ADD,text:"Added the 'Collective Psyche' armor perk to the available armor perks and updated related mappings.",issues:[]},{type:c.MODIFIED,text:"Artifice assumptions now only affect legacy (armor 2.0) items. It will also be disabled when you choose not to allow legacy armor.",issues:[]},{type:c.MODIFIED,text:"Armor perk seleciton now defaults to non-fixed. UI Rework follows in the future.",issues:[]},{type:c.MODIFIED,text:"Fixed the status chip to correctly display when an exotic is selected.",issues:[]},{type:c.MODIFIED,text:"Improved handling for cases where no class items are available. Yes, there was a guardian who deleted every legendary class item. Hehe.",issues:[]},{type:c.MODIFIED,text:"Adapted modslot costs for the new season. The costs are now 1 for minor and 3 for major mods.",issues:[]}]},{version:"2.9.3",date:"July 22, 2025",clearManifest:!0,entries:[{type:c.ADD,text:"Added a new setting to enforce featured armor only. This will filter out all non-featured armor from the results.",issues:[]},{type:c.MODIFIED,text:"Class item selection is now even more robust.",issues:[]}]},{version:"2.9.2",date:"July 18, 2025",clearManifest:!0,entries:[{type:c.ADD,text:"Added the 'Gearset' armor to the Modslot selection. This allows you to buildcraft with them. I'll add a nicer UI later.",issues:[]},{type:c.ADD,text:"Added a button to import the currently equipped subclass and fragments.",issues:[]},{type:c.ADD,text:"Added a filter to disable legacy armor.",issues:[]},{type:c.ADD,text:"Added a button to import the currently equipped exotic.",issues:[]},{type:c.MODIFIED,text:"Updated the vendor API to support the new gearset armor perk.",issues:[]},{type:c.MODIFIED,text:"Improved visibility of the text input for the stats. It now has a border and is more visible.",issues:[]},{type:c.MODIFIED,text:"Minor bugfixes and performance improvements.",issues:[]}]},{version:"2.9.1c",date:"July 16, 2025",clearManifest:!0,entries:[{type:c.ADD,text:"Added a new Card-based view mode. You can switch between the Card view and the old Table view.",issues:[]},{type:c.ADD,text:"Perk filter for exotic class items.",issues:[]},{type:c.MODIFIED,text:"Reworked the input to be a slider to allow for more precise input of the stats between tiers. Usability may be improved, feedback is welcome! You can click the text on the right to set the value manually.",issues:[]},{type:c.MODIFIED,text:"The table now shows a 'Total' column instead of the 'Tiers' column.",issues:[]},{type:c.MODIFIED,text:"Renamed the stats.",issues:[]},{type:c.MODIFIED,text:"Reworked the Algorithm to select and utilize class items.",issues:[]},{type:c.MODIFIED,text:"Reworked the result table to correctly display the selected class item.",issues:[]},{type:c.MODIFIED,text:"Fixed the 'Move items to inventory' button. It still will only work when you have space in the inventory.",issues:[]},{type:c.REMOVE,text:"Removed 3x100 and 4x100 buttons. We do not need these anymore. Maybe I add another feature like this later when a use case arises.",issues:[]},{type:c.REMOVE,text:"Removed the setting to assume that all legendary class items are masterworked. This is included in the other masterwork assumption settings.",issues:[]},{type:c.REMOVE,text:"Removed the Wasted Stats column.",issues:[]},{type:c.REMOVE,text:"Removed now-invalid pages (Clustering, Theorizer, Investigator).",issues:[]},{type:c.REMOVE,text:"Removed old features that were not updated for a long time and are not used anymore.",issues:[]},{type:c.REMOVE,text:"Removed the feature 'Replace the tier selection with text fields for exact stat values', as this is now the default behavior.",issues:[]}]},{version:"2.7.4",date:"March 15, 2025",clearManifest:!1,entries:[{type:c.MODIFIED,text:"Fixed parent vendor logic. (nznaza)",issues:[]},{type:c.MODIFIED,text:"Fixed order of exotics in armor selection to be alphabetical. (nznaza)",issues:[]},{type:c.MODIFIED,text:"Filter out vendor items that are reported by the API but can not be bought. (ciaran)",issues:[]}]},{version:"2.7.3",date:"March 10, 2025",clearManifest:!0,entries:[{type:c.MODIFIED,text:"Added Overflowing Corruption as an armor perk option. (nznaza)",issues:[]},{type:c.MODIFIED,text:"Added None as an armor perk option. (nznaza)",issues:[]},{type:c.MODIFIED,text:'Removed "Ignore artifice slot in exotics, as None armor perk filter" as None perk covers the same function. (nznaza)',issues:[]},{type:c.MODIFIED,text:"Fixed exotic class item showing with incorrect armor perk. (nznaza)",issues:[]},{type:c.MODIFIED,text:"Changed query when opening DIM to be more precise. (nznaza)",issues:[]},{type:c.MODIFIED,text:"Fixed class item was not showing Armor Perk. (nznaza) Thanks Mojo",issues:[]}]},{version:"2.7.2",date:"February 5, 2025",entries:[{type:c.MODIFIED,text:"Hotfix for the invalid data the BungieAPI is returning after the most recent Update. Thanks nznaza for fixing it!",issues:[]}]},{version:"2.7.1",date:"January 29, 2025",entries:[{type:c.MODIFIED,text:"Some users could not log in properly due to crossplay issues. Thanks nznaza for fixing it!",issues:[]}]},{version:"2.7.0",date:"December 09, 2024",entries:[{type:c.MODIFIED,text:"Some UI reworks. Please give us feedback whether you like it or not, so we can improve it further! Thanks nznaza!",issues:[]},{type:c.MODIFIED,text:"Updated dependencies. Thanks nznaza!",issues:[]},{type:c.MODIFIED,text:"Added error tacking so that we can better identify and fix issues. Thanks nznaza!",issues:[]},{type:c.MODIFIED,text:"Fixes for the exotic class items and duplicate entries. Thanks nznaza!",issues:[]},{type:c.MODIFIED,text:"Many - AND I REALLY MEAN MANY - internal code optimizations, both structural and logically. Thanks nznaza (this guardian deserves a medal)!",issues:[]}]},{version:"2.6.6",date:"November 9, 2024",entries:[{type:c.MODIFIED,text:"Fixed an issue that lead to duplicated collection roll entries, thus drastically impacting the performance of the application.",issues:[]},{type:c.MODIFIED,text:"Fixed the artifice modslot for the new season. Again.",issues:[]},{type:c.MODIFIED,text:"You will be logged when your auth token is invalid. We disabled this a while ago, but it is now re-enabled. Thanks to nznaza!",issues:[]}]},{version:"2.6.5",date:"October 20, 2024",entries:[{type:c.MODIFIED,text:"Added 'Eido's Apprentice Perk'.",issues:[]}]},{version:"2.6.4",date:"July 30, 2024",entries:[{type:c.MODIFIED,text:"Fixed an issue with the vendor api. Thanks to nznaza!",issues:[]}]},{version:"2.6.3",date:"July 16, 2024",entries:[{type:c.MODIFIED,text:"Minor bugfix for issues with the manifest retrieval. This should fix issues where the items or characters are not loading correctly.",issues:[]},{type:c.MODIFIED,text:"Updated the 'Download Results as JSON' button to reflect required changes for Final Shape.",issues:[]}]},{version:"2.6.2",date:"July 7, 2024",entries:[{type:c.ADD,text:"Added option to ignore existing exotic artifice slots. This is useful for the exotic class item.",issues:[]},{type:c.MODIFIED,text:"Prismatic fragments are now correctly added to the DIM export.",issues:[]},{type:c.MODIFIED,text:"The 'Ignored Items' section is now filtered by the selected class, grouped into armor slots and ordered by item type.",issues:[]},{type:c.MODIFIED,text:"Minor change for the vendor API handling. Thanks nznaza!",issues:[]},{type:c.MODIFIED,text:"Minor change for the manifest API handling.",issues:[]},{type:c.MODIFIED,text:"Mostly minor bugfixes and code improvements.",issues:[]}]},{version:"2.6.1",date:"June 17, 2024",entries:[{type:c.ADD,text:"Add exotic class items.",issues:[]},{type:c.ADD,text:"Added Salvation's Edge Raid modslot and the Echoes of Glory perk.",issues:[]},{type:c.MODIFIED,text:"Changed the way minor mods are displayed. Minor mods are now 25% smaller.",issues:[]},{type:c.MODIFIED,text:"Corrected the description of Facet of Grace.",issues:[]},{type:c.MODIFIED,text:"Added Whisper of Torment, as it now has a -10 in Discipline.",issues:[]},{type:c.REMOVE,text:"Removed old armor modslots (and perks) that no longer exist or function.",issues:[]}]},{version:"2.6.0",date:"June 4, 2024",entries:[{type:c.ADD,text:"Added prismatic fragments.",issues:[]},{type:c.ADD,text:"Added a progressbar that shows the progress of the calculation process.",issues:[]},{type:c.ADD,text:"Added an advanced setting to replace the stat selection boxes with text fields. While it does not look quite nice (as of now), it will allow you to select any value you want. Go get your 6x69 builds done (but don't forget, D2AP still does not add fragments by itself ....YET?!? BUT VERY SOON!)!",issues:[]},{type:c.ADD,text:"Added an 'Assume every exotic has an artifice slot' setting in preparation for the changes in the upcoming expansion. Real artifice exotics should work out-of-the-box at the first day of the expansion, BUT it may happen that I need to update some internal structures. Have fun exploring your options, though!",issues:[]},{type:c.ADD,text:"Added an 'Assume every legendary class item is an artifice armor' setting to allow finer control over the artifice armor assumption.",issues:[]},{type:c.MODIFIED,text:"You will no longer be logged out when the API is offline. The app will use the last known data until the API is back online.",issues:[]},{type:c.MODIFIED,text:"Reworked how calculation workers are spawned, thus improving performance. Thanks to nznaza.",issues:[]},{type:c.MODIFIED,text:"Improved Mod optimisation, leading in drastically reduced runtime when paired with 'Add mods to reduce waste'.",issues:[]},{type:c.MODIFIED,text:"Improved 'Reduce Waste' optimisation. Smarter, better, faster, stronger.",issues:[]},{type:c.MODIFIED,text:"Changing the configuration during a running calculation now restarts the calculation process. Outdated results are a thing of the past!",issues:[]},{type:c.MODIFIED,text:"The amount of workers is now variable and depends on the workload at hand. This should help the insane armor hoarders to reduce the calculation time.",issues:[]},{type:c.MODIFIED,text:"Prepared the vendor API for upcoming Bungie API changes. Thanks to nznaza.",issues:[]},{type:c.MODIFIED,text:"Added 'Exotic Cipher' to the resource overview and removed legendary shards.",issues:[]},{type:c.MODIFIED,text:"Modified the inventory update procedure to be more efficient. This may result in a few hiccups in the first stage - if you encounter any issues, please let me know!",issues:[]},{type:c.MODIFIED,text:"Vendor data is now updated asynchronously. This means that the page will load faster, but the vendor data may be outdated for a few seconds.",issues:[]},{type:c.MODIFIED,text:"The progress notifications are now color-coded and on the right. If there are multiple notifications, then they are stacked.",issues:[]},{type:c.MODIFIED,text:"The display of the used mods is now color-coded to make it easier to distinguish between the different mod types in a single glance.",issues:[]},{type:c.MODIFIED,text:"Locked locks are now red. Mainly because adisypher wouldn't stop asking.",issues:[]},{type:c.MODIFIED,text:"Minor bugfixes and performance optimisation.",issues:[]}]},{version:"2.5.4",date:"April 10, 2024",entries:[{type:c.MODIFIED,text:"Fixed a minor issue where the vendor api may be disabled and block the entire page.",issues:[]}]},{version:"2.5.3",date:"April 5, 2024",entries:[{type:c.MODIFIED,text:"Adapted the logic to parse the new Clarity data format. Thanks to ciar\xe1n!",issues:[]}]},{version:"2.5.2",date:"November 29, 2023",entries:[{type:c.ADD,text:"Split the 'Assume all items are masterworked' switch into 'legendary' and 'exotic' switches. Thanks to Mojo!",issues:[]},{type:c.ADD,text:"Added the 'Ascendant Protector' Perk. Thanks to Mojo!",issues:[]},{type:c.MODIFIED,text:"Fixed artifice mods, again. Thanks to Mojo!",issues:[]},{type:c.MODIFIED,text:"Fixed 'Ghost Items' from the vendor import. Thanks to ciar\xe1n!",issues:[]},{type:c.MODIFIED,text:"Updated the values and descriptions for Subclass Fragments. Thanks to ciar\xe1n!",issues:[]},{type:c.MODIFIED,text:"Artifice Mods are now correctly added to the DIM export. Thanks to nznaza!",issues:[]}]},{version:"2.5.1",date:"October 29, 2023",entries:[{type:c.ADD,text:"Added the 'Exhumed Excess' Perk. The modslot limitations are now ordered. Thanks to Mojo!",issues:[]},{type:c.MODIFIED,text:"Added a solution for the stat distances 63, 64 and 65. You probably won't ever see it, as this is 'five artifice and five major mods'.",issues:[]},{type:c.MODIFIED,text:"'Fix wasted points' is now ignored for stats that are locked.",issues:[]}]},{version:"2.5.0",date:"October 14, 2023",entries:[{type:c.ADD,text:"The stat cooldowns and values are now automatically updated from the Clarity database. Thanks to ciar\xe1n!",issues:[]},{type:c.ADD,text:"The new modslots/perks are now available in the dropdown.",issues:[]},{type:c.MODIFIED,text:"The stat cooldowns now show icons. Thanks to ciar\xe1n!",issues:[]},{type:c.MODIFIED,text:"The fragments now show their icons. Thanks to ciar\xe1n!",issues:[]},{type:c.MODIFIED,text:"Minor internal updates for DIM references. Thanks to bhollis!",issues:[]},{type:c.MODIFIED,text:"Improved the wasted stats selection, again!",issues:[]}]},{version:"2.4.2",date:"July 11, 2023",entries:[{type:c.ADD,text:"Added the ability to use collection roll armor. This is disabled by default. Thanks to ciar\xe1n!",issues:[]},{type:c.ADD,text:"Added the ability to use vendor armor, including Xur. This is disabled by default. Thanks to ciar\xe1n!",issues:[]},{type:c.ADD,text:"Added the ability to select the optimisation strategy. You can now choose between 'Reduce waste', 'Reduce used mods' and 'Reduce used modslots'. The default is 'Reduce waste'.",issues:[]},{type:c.ADD,text:"Re-added the reduce wasted stats feature. It is now disabled by default. It is a bit slower and not really necessary for most people.",issues:[]},{type:c.MODIFIED,text:"Zero Waste is no longer dependent on the 'Reduce wasted stats' setting. In fact, it practically overwrites it.",issues:[]},{type:c.REMOVE,text:"Removed the 'Extra optimisation steps' setting. It is now always enabled.",issues:[]}]},{version:"2.4.0",date:"May 23, 2023",entries:[{type:c.MODIFIED,text:"Rewrote the internal algorithm. It makes stuff faster and gives better results.",issues:[]},{type:c.ADD,text:"Added a 'Perform further optimisation' setting. This will give you better results, but it will take a bit longer.",issues:[]},{type:c.ADD,text:"Added Icons to the Stat Selection to make it easier to see which row is which perk.",issues:[]},{type:c.ADD,text:"Added button to download results as JSON.",issues:[]},{type:c.ADD,text:"Added Sonar Amplifier perk.",issues:[]},{type:c.MODIFIED,text:"Enabled Modslot limitation.",issues:[]},{type:c.MODIFIED,text:"Enabled the 3x100 and 4x100 buttons.",issues:[]},{type:c.MODIFIED,text:"Enabled Zero-Waste mode.",issues:[]},{type:c.MODIFIED,text:"Temporarily disabled 'Reduce Wasted Stats'. It will be back soon.",issues:[]}]},{version:"2.3.2",date:"May 7, 2023",entries:[{type:c.ADD,text:"Feature: Added 'Guardian Games' class item type to the dropdown. ",issues:[]},{type:c.MODIFIED,text:"Reformatted every file in the codebase and improved the code workflow. You should not really see this on your end, but it will allow everyone to easily contribute to this open source project!",issues:[]}]},{version:"2.3.1",date:"April 2, 2023",entries:[{type:c.ADD,text:"Feature: Added the possibility to only show builds that contain an exotic.",issues:[]},{type:c.ADD,text:"Added 'Root of Nightmares' modslot filter.",issues:[]},{type:c.ADD,text:"Added 'Queen's Favor' seasonal perk filter.",issues:[]},{type:c.ADD,text:"Added text indicating that only fragments that affect stats are shown.",issues:[]},{type:c.MODIFIED,text:"Fixed deprecated mods being sent when opening the loadout in DIM. Also adds artifice mods now.",issues:[]},{type:c.MODIFIED,text:"Fixed an issue where the tool did not put artifice mods on the class item if you forced the class item to be artifice.....",issues:[]},{type:c.MODIFIED,text:"Fixed an issue where the default selection was the titan class, even if you had no titan characters.",issues:[]}]},{version:"2.3.0",date:"March 14, 2023",entries:[{type:c.ADD,text:"Automatically adds artifice mods to your armor. This replaces minor and major mods where possible.",issues:[]},{type:c.ADD,text:"Added the amount of used artifice mods to the result table overview (next to the mods). They are not calculated into the 'mod cost' column.",issues:[]},{type:c.ADD,text:"Added new fragments, including Strand.",issues:[]},{type:c.MODIFIED,text:"Adapted modslot cost of Resilience and Recovery mods.",issues:[]},{type:c.MODIFIED,text:"Introduced more modules for asynchronous loading. This is more a speed improvement than a feature.",issues:[]},{type:c.MODIFIED,text:"Reduced the maximum limit of reported results from 50,000 to 30,000. Note that D2AP still calculates every result, it just does not report them. This is a major speedup, and you usually should not even realize the change.",issues:[]},{type:c.MODIFIED,text:"Increased the visual contrast of major mods in the results table. This means it is now easier to distinguish major from minor mods.",issues:[]},{type:c.REMOVE,text:"Removed the elemental affinity completely.",issues:[]},{type:c.REMOVE,text:"DISABLED the 'Zero Waste' feature. It will be re-enabled in the future.",issues:[]},{type:c.REMOVE,text:"DISABLED the 'Modslot Limitation' feature. It will be re-enabled in the future.",issues:[]}]},{version:"2.2.16",date:"December 7, 2022",entries:[{type:c.ADD,text:"Added Ember of Torches (with -10 Discipline).",issues:[]},{type:c.ADD,text:"Added Retrofit mods (mobility and resilience).",issues:[]},{type:c.ADD,text:"Added armor perk 'Seraph Sensor Array' to the dropdown.",issues:[]},{type:c.ADD,text:"Added a Game2Give message. Let's support the little lights together!",issues:[]},{type:c.MODIFIED,text:"Fixed artifice modslot.",issues:[]},{type:c.MODIFIED,text:"Membership data is cached longer to make things faster and to ease the Bungie API.",issues:[]}]},{version:"2.2.15",date:"October 18, 2022",entries:[{type:c.ADD,text:"Added FOTL masks.",issues:[]}]},{version:"2.2.13",date:"September 23, 2022",entries:[{type:c.ADD,text:"Added an advanced setting to replace the 'Tiers' column with a 'Max Tiers' column. This is adds the amount of open modslots to the column, but ignores mod limitations at the moment. A T32 build without mods will now show T37.",issues:[]}]},{version:"2.2.12",date:"September 11, 2022",entries:[{type:c.MODIFIED,text:"Changed the layout to force the settings (left) and results (right) to be next to each other. This means that the page is more mobile approachable. This is also the first step to a more flexible layout.",issues:[]}]},{version:"2.2.11",date:"September 10, 2022",entries:[{type:c.ADD,text:"Added a display for your owned upgrade materials in the character overview.",issues:[]},{type:c.ADD,text:"Added a notification to warn you when you create a modslot limitation that yields no results. Note that this will not (yet) show invalid combinations over all armor, just for the given slot you selected it in.",issues:[]},{type:c.MODIFIED,text:"Reduced size of exotic icons so that the left side will not grow on Titan class.",issues:[]},{type:c.MODIFIED,text:"The 'Performance Optimisation' settings will now always re-enable after a reload to prevent your browser being stuck in a crash-loop. (This is for you, iOS Safari users)",issues:[]},{type:c.MODIFIED,text:"Changed wording of the 'Performance Optimisation' setting to prevent people from using it incorrectly.",issues:[]}]},{version:"2.2.10",date:"September 2, 2022",entries:[{type:c.MODIFIED,text:"Updated Artifice Modslot Hash after the most recent hotfix.",issues:[]}]},{version:"2.2.9",date:"September 1, 2022",entries:[{type:c.MODIFIED,text:"Tooltips do now not obstruct the clicks of stats. This fixes the iOS stat selection issue.",issues:[]}]},{version:"2.2.8c",date:"August 24, 2022",entries:[{type:c.MODIFIED,text:"The manifest is now (again) automatically updated on version changes. This fixes your artifice problems at the beginning of a new season.",issues:[]},{type:c.MODIFIED,text:"Added subclass hashes for Arc. This means that it now transfers to DIM.",issues:[]}]},{version:"2.2.8b",date:"August 24, 2022",entries:[{type:c.MODIFIED,text:"Fixed Artifice modslots. You might need to wait a bit, alternatively delete the database (Account section) or re-log.",issues:[]}]},{version:"2.2.8a",date:"August 23, 2022",entries:[{type:c.MODIFIED,text:"Updated grenade and melee cooldowns for arc.",issues:[]}]},{version:"2.2.8",date:"August 23, 2022",entries:[{type:c.ADD,text:"Added Arc 3.0 fragments.",issues:[]},{type:c.MODIFIED,text:"Fixed tooltip issues on iOS devices.",issues:[]},{type:c.MODIFIED,text:"Fixed an infinite loading issue.",issues:[]}]},{version:"2.2.7",date:"June 25, 2022",entries:[{type:c.ADD,text:"Added a link to my Discord bot Crayon.",issues:[]},{type:c.MODIFIED,text:"Fixed an issue where a large number of stored configurations would drastically slow down the app.",issues:[]}]},{version:"2.2.6",date:"June 8, 2022",entries:[{type:c.MODIFIED,text:"Fixed an issue where the elemental selection would not give the correct results under very specific conditions.",issues:[]}]},{version:"2.2.5",date:"June 7, 2022",entries:[{type:c.ADD,text:"Added all of the new ability cooldowns.",issues:[]},{type:c.MODIFIED,text:"Completely reworked the ability cooldown tooltips. They now show the difference to the currently selected tier.",issues:[]}]},{version:"2.2.4",date:"June 3, 2022",entries:[{type:c.MODIFIED,text:"Fixed the export to DIM. Thanks to bhollis for the fix!",issues:[]},{type:c.MODIFIED,text:"The manifest now automatically updates when Bungie updated it too, except just after a fixed timespan.",issues:[]}]},{version:"2.2.3",date:"May 24, 2022",entries:[{type:c.ADD,text:"Added Solar 3.0",issues:[]},{type:c.MODIFIED,text:"Adapted artifice armor to the new Season.",issues:[]}]},{version:"2.2.2",date:"Mar 9, 2022",entries:[{type:c.ADD,text:"See what mods do by hovering over their name.",issues:["D2AP-41"]},{type:c.ADD,text:"Added Vow of the Disciple armor.",issues:["D2AP-35"]},{type:c.ADD,text:"Added 'Uniformed Officer' armor.",issues:["D2AP-35"]},{type:c.MODIFIED,text:"Fixed Scatter grenades being Tier 3 (were T4 before).",issues:["D2AP-39"]},{type:c.MODIFIED,text:"Changed the color of the login button.",issues:["D2AP-37"]},{type:c.MODIFIED,text:"When a selected character class does not exist, the tool will now select the first available class as default."}]},{version:"2.2.1",date:"Feb 22, 2022",entries:[{type:c.ADD,text:"Added a switch to select between Stasis and Void 3.0 fragments. Stasis is enabled per default to ensure backwards compatibility of saved configurations.",issues:["D2AP-10"]},{type:c.ADD,text:"Added a debug section to the (new) account settings page. The account settings page does not do much yet, I just wanted to deploy the debug functions.",issues:["D2AP-23"]},{type:c.MODIFIED,text:"Modified super cooldowns for Witch Queen."},{type:c.MODIFIED,text:"Added a minor text to the exotic overview that explains that exotics not in the inventory are shown in grayscale. You can also no longer select those.",issues:["D2AP-17"]},{type:c.MODIFIED,text:"Minor changes in how the database behaves on logout. It now deletes the inventory when you log out, but still keeps the manifest.",issues:["D2AP-27"]},{type:c.MODIFIED,text:"Users are now logged out when the Bungie.Net API is down.",issues:["D2AP-34"]},{type:c.MODIFIED,text:"Fixed Charge Harvester and Echo of Persistence incorrectly reducing Discipline instead of recovery when used on a Warlock."}]},{version:"2.2.0",date:"Feb 09, 2022",entries:[{type:c.ADD,text:"Added the ability to select armor perks and 5th slots. Just like the elements you can optionally enforce it to be on a certain slot. Useful if you want to build Iron Banner armor or utilize artifice modslots."},{type:c.ADD,text:"Added the ability to limit the available points on each armor item for stat mods. This allows you to limit the kind of stat mods that are usable. You can now say 'do not use major intellect mods'."},{type:c.ADD,text:"Added the ability to lock stat tiers. Previously you could only set 'Use Tier 3 or higher', now you can optionally set 'Enforce Tier 3'. This is useful for example if you want to enforce T3 mobility on a Titan."},{type:c.ADD,text:"Added a summary of important configuration choices to the result header to improve readability."},{type:c.ADD,text:"Added a button to open the DIM Loadout Builder with the current settings."},{type:c.ADD,text:"Added an option that forces the correct element on non-masterworked armor pieces. This is per default enabled."},{type:c.ADD,text:"Added cooldowns for class abilities (Dodge, Barricade, Rift)."},{type:c.ADD,text:"Added visual indicators for minor and major mods in the overview table. The whole visualization is also more compact now."},{type:c.ADD,text:"Added visual cursor indicator to every clickable input, e.g. in the exotic, element and perk/mod selection."},{type:c.ADD,text:"Added a (very basic) item tooltip."},{type:c.ADD,text:"Show the required material cost for each item. Note that this ignores your class item."},{type:c.ADD,text:"Added a stat summary table to the stat detail view. This allows you to easily share a stat distribution with others."},{type:c.ADD,text:"Added 'Clear this section' button to each configuration section."},{type:c.ADD,text:"Added support for your class items. You won't see a lot of this, except when you use the slot and element limitation in specific ways."},{type:c.ADD,text:"Detailed information is now in expandable containers to improve readability."},{type:c.ADD,text:"Show the seasonal icon for every item too."},{type:c.ADD,text:"Added info text to the table headers."},{type:c.ADD,text:"The character selection now shows the existing characters - and their emblems too!"},{type:c.ADD,text:"Added Discord and another Ko-Fi link. You can find them in the character selection."},{type:c.ADD,text:"Added a changelog popup right at the start of the page. It only appears when a new update occured. You can always trigger it by clicking the current version number."},{type:c.ADD,text:"Now utilizes three webworkers instead of one. The process is simple, but generally speeds up the results by a huge margin."},{type:c.ADD,text:"Added an Armor Investigation tab for data scientists."},{type:c.ADD,text:"Added a sidenav for smaller devices and reworked the top menubar."},{type:c.ADD,text:"The detailed result table now shows the perk of an selected item, if it has one. This also applies to class items, if necessary."},{type:c.ADD,text:"Hovering over exotics in the exotic selection now displays their perk description."},{type:c.ADD,text:"Added an advanced setting to disable white, green and blue armor."},{type:c.ADD,text:"Added an advanced setting to ignore sunset armor."},{type:c.MODIFIED,text:"Changed the word 'Permutation' to 'Combination' wherever it has been used."},{type:c.MODIFIED,text:"Clicking on a setting that is already set does not re-trigger the calculation now. For example, selecting T3 recovery when it is already at T3 now does nothing."},{type:c.MODIFIED,text:"The default for all stats is now tier 0 instead of tier 1, to make it consistent with the clear buttons."},{type:c.MODIFIED,text:"The default setting for 'ignore non masterworked elements' is now 'off'."},{type:c.MODIFIED,text:"The 'time required' number now measures the time from before the webworkers are spawned until all webworkers are done. Previously it only monitored the time required INSIDE the webworker, so it may show slower times."},{type:c.MODIFIED,text:"Fixed the width of the 'Exotic' header in the results table. This means that it is now farther away from the 'Mobility' column."},{type:c.MODIFIED,text:"Completely reworked the elemental affinity selection. Per default it is now not fixed to a certain armor slot, but using a toggle button you can simply do so again."},{type:c.MODIFIED,text:"The results header now screams at you in bright red letters when no results are found."},{type:c.MODIFIED,text:"The alternating rows of the results details table have now a lighter color to make it easier to read."},{type:c.MODIFIED,text:"Fixed ability cooldowns for melee and grenade at tier 7 and tier 8."},{type:c.MODIFIED,text:"Cooldowns now are shown in MM:SS instead of plain seconds."},{type:c.MODIFIED,text:"Completely rewrote the core logic of D2ArmorPicker for the changes mentioned above."},{type:c.MODIFIED,text:"Exotics you do not have in your vault or inventory are now greyed out."},{type:c.MODIFIED,text:"Fixed an issue where exotics were not shown at your first login."},{type:c.MODIFIED,text:"Changed the color of important buttons so that they are easier to read."},{type:c.MODIFIED,text:"The icons of items in the results are now loaded asynchronous from their hashes. This saves a lot of memory, as I do not have to send two icon URLs for each item - for each result. I will further improve this in a later version."},{type:c.MODIFIED,text:"Maximum table output is now limited to 50 results (instead of 200). It still defaults to 20.}"},{type:c.MODIFIED,text:"Completely reworked the visuals of the changelog. It is now more pleasing to the eye."}]},{version:"2.1.4",date:"Dec 29, 2021",entries:[{type:c.MODIFIED,text:"Item stats are now built from their plugs and InvestmentStats (in case of some exotics). This fixes potentially invalid item stats when you use mods like Powerful Friends or Protective Light. A big thanks to u/deangaudet for reminding me that the API also reports the plugs of an item."},{type:c.MODIFIED,text:"Only save necessary item types of the manifest (namely mods and armor). Also, save twhe investmentStats now."},{type:c.MODIFIED,text:"Sped up the item update step."}]},{version:"2.1.3",date:"Dec 16, 2021",entries:[{type:c.MODIFIED,text:"Added new stat cooldowns"}]},{version:"2.1.2",date:"Dec 1, 2021",entries:[{type:c.MODIFIED,text:"The changelog is now in a scrollable box."},{type:c.MODIFIED,text:"Changed buymeacoffee to a ko-fi link. This way we can keep the PayPal support!"}]},{version:"2.1.1",date:"Nov 3, 2021",entries:[{type:c.REMOVE,text:"Removed the HALLOWEEN SPECIAL feature. Maybe something like this will return some day?"},{type:c.ADD,text:"Added tooltip to the item icons in the detailed overview to show the name of the item."},{type:c.MODIFIED,text:"Fixed an issue where the list of exotics did not load at the first login."},{type:c.MODIFIED,text:"Saved configurations now contain the current software version for future reference."},{type:c.MODIFIED,text:"Minor code quality improvements"}]},{version:"2.1.0 (major)",date:"Oct 29, 2021",entries:[{type:c.REMOVE,text:"Completely removed V1 of the tool. If you had any problems with V2, you had over three months to report them."},{type:c.ADD,text:"The stat selection now displays which stat tiers are added by stat mods (PF/RL) or stasis fragments in the configuration."},{type:c.ADD,text:"You can now export (and import) individual configurations as well as all stored configurations at once."},{type:c.ADD,text:"Added a navigation bar to the title bar. On smaller screens it is replaced by two buttons in the character selection."},{type:c.ADD,text:"Added more details to the last step of the 'What to do now?' section. It now lists the fragments and mods you selected."},{type:c.MODIFIED,text:"Optimized code and reduced overall page size."}]},{version:"2.0.16",date:"Oct 26, 2021",entries:[{type:c.MODIFIED,text:"Completely rewrote the core logic in order to fix the memory issues. The tool will now no longer crash when you have many armor items, but it's slightly slower than the previous approach. I tested it with 600 items - it works and does not crash, but takes up to a minute. Make sure to never get that much armor and to lock an exotic right away."},{type:c.MODIFIED,text:"The rewrite also fixed the issue where the tool did not work in Safari, or more generally, on Mac and iPhone."},{type:c.MODIFIED,text:"The rewrite also fixed an issue where items could not be found when an result update was triggered while the inventory was updated."}]},{version:"2.0.15",date:"Oct 24, 2021",entries:[{type:c.MODIFIED,text:"Updated the visual display of the cluster page. It displays the stats in a better way now."},{type:c.MODIFIED,text:"Fixed an issue with login, where you were automatically logged in again and could not switch accounts."}]},{version:"2.0.14",date:"Oct 21, 2021",entries:[{type:c.MODIFIED,text:"Updated URLs to the mobility, resilience and recovery images, as Bungie decided to change their URLs in today's hotfix."}]},{version:"2.0.13",date:"Oct 20, 2021",entries:[{type:c.ADD,text:"Added a chart to the armor clustering page, showing each clusters average stats."},{type:c.MODIFIED,text:"Stats over 100 are now seen as wasted."}]},{version:"2.0.12",date:"Oct 18, 2021",entries:[{type:c.ADD,text:"Added an experimental armor clustering feature."}]},{version:"2.0.11",date:"Oct 13, 2021",entries:[{type:c.ADD,text:"HALLOWEEN SPECIAL! Added (temporary) filter for halloween masks! This will be removed after the event."},{type:c.MODIFIED,text:"Fix: Clear the results if you switch character and no possible permutations can be found."}]},{version:"2.0.10",date:"Oct 10, 2021",entries:[{type:c.ADD,text:"Added 'Equip Items' button to the detailed item overview."}]},{version:"2.0.9",date:"Oct 6, 2021",entries:[{type:c.ADD,text:"Added a detailed description of the steps required to build a selected result."},{type:c.ADD,text:"Added a button to disable all four armor pieces at once."},{type:c.MODIFIED,text:"Fixed an issue where the permutations were not updated after 'Ignore armor elemental affinities on masterworked armor' was changed."}]},{version:"2.0.8",date:"Oct 5, 2021",entries:[{type:c.ADD,text:"Added this changelog to the help page."},{type:c.ADD,text:"Added 'Move to Inventory' button (beta)."},{type:c.ADD,text:"Split up 'Assume items are masterworked' into three settings: Class Items, Legendaries, Exotics"},{type:c.MODIFIED,text:"'Try to optimize wasted stats' is now active per default."},{type:c.MODIFIED,text:"Introduced an item buffer in the results component to further reduce memory usage."}]}];function Be(o,r){if(1&o&&t.nrm(0,"app-changelog-list",6),2&o){const e=t.XpG();t.Y8G("itemsToShow",e.changelogItemsToShow)}}function Ye(o,r){1&o&&(t.j41(0,"div",7),t.EFF(1," Loading changelog... "),t.k0s())}let re=(()=>{class o{constructor(e){this.changelog=e,this.showChangelogList=!1,this.changelogItemsToShow=1}ngOnInit(){this.isIOS()?(this.showChangelogList=!0,setTimeout(()=>{this.changelogItemsToShow=-1},1e4)):(this.showChangelogList=!0,this.changelogItemsToShow=-1)}isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(se))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-changelog-dialog"]],decls:10,vars:4,consts:[["mat-dialog-title","",1,"title"],[1,"mat-typography",2,"display","flex","flex-direction","column"],[3,"itemsToShow",4,"ngIf"],["style","display: flex; justify-content: center; padding: 20px",4,"ngIf"],["align","end"],["cdkFocusInitial","","color","primary","mat-raised-button","",3,"mat-dialog-close"],[3,"itemsToShow"],[2,"display","flex","justify-content","center","padding","20px"]],template:function(n,i){1&n&&(t.j41(0,"h2",0),t.EFF(1),t.k0s(),t.j41(2,"mat-dialog-content",1)(3,"div"),t.EFF(4," Hi! There has been a new version of D2ArmorPicker! The following list shows all the relevant changes. Note that you can always look at the changelogs in the Help tab. "),t.k0s(),t.DNE(5,Be,1,1,"app-changelog-list",2),t.DNE(6,Ye,2,0,"div",3),t.k0s(),t.j41(7,"mat-dialog-actions",4)(8,"button",5),t.EFF(9,"Thanks, I saw it!"),t.k0s()()),2&n&&(t.R7$(1),t.SpI("D2ArmorPicker Changelog for Version ",i.changelog.changelogData[0].version,""),t.R7$(4),t.Y8G("ngIf",i.showChangelogList),t.R7$(1),t.Y8G("ngIf",!i.showChangelogList),t.R7$(2),t.Y8G("mat-dialog-close",!0))},styles:[".title[_ngcontent-%COMP%]{text-decoration:underline;text-decoration-color:#0059ff}\n\n/*# sourceMappingURL=changelog-dialog.component.css.map*/"]})}}return o})();var bt=C(7941);let se=(()=>{class o{constructor(e,n){this.dialog=e,this.logger=n,this.hasCheckedForChangelog=!1,this.logger.debug("ChangelogService","constructor","Initializing ChangelogService")}ngOnDestroy(){this.logger.debug("ChangelogService","ngOnDestroy","Destroying ChangelogService")}setChangelogSeenFlag(){return localStorage.setItem("d2ap-changelogVersion-lastRead",this.changelogData[0].version)}get lastViewedChangelog(){return localStorage.getItem("d2ap-changelogVersion-lastRead")}get mustShowChangelog(){return this.changelogData[0].version!==this.lastViewedChangelog}get wipeManifest(){return this.changelogData[0].version!==this.lastViewedChangelog&&(this.changelogData[0].clearManifest??!1)}get changelogData(){return Se}openChangelogDialog(){this.dialog.open(re).afterClosed().subscribe(n=>{this.setChangelogSeenFlag()})}checkAndShowChangelog(){!this.hasCheckedForChangelog&&this.mustShowChangelog&&(this.hasCheckedForChangelog=!0,this.openChangelogDialog())}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(bt.bZ),t.KVO(Q.so))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),It=(()=>{class o extends k{constructor(e,n,i){var a;super(),a=this,this.auth=e,this.changelog=n,this.logger=i,this.logger.debug("DatabaseService","constructor","Initializing DatabaseService"),this.changelog.wipeManifest&&(this.logger.log("Wiping manifest due to changelog request"),this.clearManifestInfo()),this.version(this.verno).upgrade(function(){var s=(0,_.A)(function*(l){a.clearManifestInfo()});return function(l){return s.apply(this,arguments)}}()),this.auth.logoutEvent.subscribe(function(){var s=(0,_.A)(function*(l){yield a.clearInventoryCache()});return function(l){return s.apply(this,arguments)}}())}ngOnDestroy(){this.logger.debug("DatabaseService","ngOnDestroy","Destroying DatabaseService")}clearInventoryCache(){var e=this;return(0,_.A)(function*(){e.logger.debug("DatabaseService","clearInventoryCache","Clearing inventory cache"),localStorage.removeItem("user-armorItems"),localStorage.removeItem("d2ap-inventory-lastDate"),yield e.inventoryArmor.clear(),yield e.vendorItemSubscreen.clear()})()}initialize(){this.open(),this.clearManifestInfo()}writeManifestArmor(e,n){var i=this;return(0,_.A)(function*(){yield i.manifestArmor.clear(),yield i.manifestArmor.bulkPut(e).catch(a=>{i.logger.error("DatabaseService","writeManifestArmor","Error writing manifest armor to database: "+a)}),localStorage.setItem("d2ap-manifest-lastDate",Date.now().toString()),localStorage.setItem("d2ap-db-lastName",i.manifestArmor.db.name),localStorage.setItem("d2ap-manifest-lastVersion",n)})()}clearManifestInfo(){return(0,_.A)(function*(){localStorage.removeItem("d2ap-manifest-lastDate"),localStorage.removeItem("d2ap-inventory-lastDate"),localStorage.removeItem("d2ap-db-lastName")})()}resetDatabase(e=!0){var n=this;return(0,_.A)(function*(){localStorage.removeItem("d2ap-manifest-lastDate"),localStorage.removeItem("d2ap-db-lastName"),localStorage.removeItem("user-vendor-nextRefreshTime"),localStorage.removeItem("d2ap-inventory-lastDate"),yield n.delete(),yield window.indexedDB.databases().then(i=>{i.forEach(a=>{a.name&&(window.indexedDB.deleteDatabase(a.name),n.logger.debug("DatabaseService","resetDatabase",`Deleted IndexedDB database: ${a.name}`))})}).catch(i=>{n.logger.error("DatabaseService","resetDatabase","Failed to get database list or delete databases",i)}),e&&n.initialize()})()}lastManifestUpdate(){const e=localStorage.getItem("d2ap-manifest-lastDate"),n=localStorage.getItem("d2ap-manifest-lastVersion"),i=localStorage.getItem("d2ap-db-lastName");return e&&i&&n&&i===this.name?{updatedAt:parseInt(e),version:n}:void 0}migrateExoticPerkHash(e){if(null!=e.exoticPerkHash){if(Array.isArray(e.exoticPerkHash))return;e.exoticPerkHash="number"==typeof e.exoticPerkHash?[e.exoticPerkHash]:[]}else e.exoticPerkHash=[]}writeCharacterAbilities(e){var n=this;return(0,_.A)(function*(){yield n.sandboxAbilities.clear(),yield n.sandboxAbilities.bulkPut(e)})()}getCharacterAbilities(){var e=this;return(0,_.A)(function*(){return yield e.sandboxAbilities.toArray()})()}clearCharacterAbilities(){var e=this;return(0,_.A)(function*(){yield e.sandboxAbilities.clear()})()}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(Vt),t.KVO(se),t.KVO(Q.so))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var b=C(521),w=C(6054),F=C(7445);const M={outputEncoding:"Base64"},D={inputEncoding:"Base64",outputEncoding:"String"};let E=(()=>{class o{get readonlyConfigurationSnapshot(){return Object.assign(this.__configuration,{})}constructor(e){this.logger=e,this.logger.debug("ConfigurationService","constructor","Initializing ConfigurationService"),this.__configuration=this.loadCurrentConfiguration(),this.__LastConfiguration=this.loadCurrentConfiguration(),this._configuration=new b.t(this.__configuration),this.configuration=this._configuration.asObservable(),this._storedConfigurations=new b.t(this.listSavedConfigurations()),this.storedConfigurations=this._storedConfigurations.asObservable()}ngOnDestroy(){this.logger.debug("ConfigurationService","ngOnDestroy","Destroying ConfigurationService")}modifyConfiguration(e){e(this.__configuration),!(0,Jt.isEqual)(this.__configuration,this.__LastConfiguration)&&(this.__LastConfiguration=structuredClone(this.__configuration),this.saveCurrentConfiguration(this.__configuration))}saveConfiguration(e,n){let i=this.listSavedConfigurations(),a=this.listSavedConfigurations().map((l,m)=>[l,m]).filter(l=>l[0].name==e)[0];a&&i.splice(a[1],1),i.push({configuration:n,name:e,version:K.c.version}),i=i.sort((l,m)=>l.name<m.name?-1:l.name>m.name?1:0);const s=w.compress(JSON.stringify(i),M);localStorage.setItem("storedConfigurations",s),this._storedConfigurations.next(i)}doesSavedConfigurationExist(e){return this.listSavedConfigurations().filter(n=>n.name==e).length>0}loadSavedConfiguration(e){let n=this.listSavedConfigurations().filter(i=>i.name==e)[0];return!!n&&(this.saveCurrentConfiguration(n.configuration),!0)}checkAndFixOldSavedConfigurations(e){if(e.configuration=Object.assign(Bt.buildEmptyConfiguration(),e.configuration),e.configuration.hasOwnProperty("minimumStatTier")){let n=e.configuration.minimumStatTier;e.configuration.minimumStatTiers[d.uD.StatWeapon].value=n[d.uD.StatWeapon],e.configuration.minimumStatTiers[d.uD.StatHealth].value=n[d.uD.StatHealth],e.configuration.minimumStatTiers[d.uD.StatClass].value=n[d.uD.StatClass],e.configuration.minimumStatTiers[d.uD.StatGrenade].value=n[d.uD.StatGrenade],e.configuration.minimumStatTiers[d.uD.StatSuper].value=n[d.uD.StatSuper],e.configuration.minimumStatTiers[d.uD.StatMelee].value=n[d.uD.StatMelee],delete e.configuration.minimumStatTier}e.configuration.hasOwnProperty("selectedExoticHash")&&(e.configuration.selectedExotics=[e.configuration.selectedExoticHash],delete e.configuration.selectedExoticHash),e.configuration.hasOwnProperty("enabledMods")&&(e.configuration.enabledMods=e.configuration.enabledMods.filter(n=>!!F.v[n])),e.configuration.limitParsedResults=!0,e.configuration.addConstent1Health=!1}listSavedConfigurations(){let e;try{e=localStorage.getItem("storedConfigurations")||"[]","["!=e.substr(0,1)&&(e=w.decompress(e,D))}catch{e=[]}let n=JSON.parse(e)||[];return n=n.sort((i,a)=>i.name<a.name?-1:i.name>a.name?1:0),n.forEach(i=>this.checkAndFixOldSavedConfigurations(i)),n}deleteStoredConfiguration(e){let n=this.listSavedConfigurations(),i=this.listSavedConfigurations().map((a,s)=>[a,s]).filter(a=>a[0].name==e)[0];i&&n.splice(i[1],1),localStorage.setItem("storedConfigurations",w.compress(JSON.stringify(n),M)),this._storedConfigurations.next(n)}saveCurrentConfigurationToName(e){this.saveConfiguration(e,this.__configuration)}saveCurrentConfiguration(e){this.logger.debug("Writing configuration",JSON.stringify({configuration:e})),this.__configuration=Object.assign(Bt.buildEmptyConfiguration(),e),this.__configuration.enabledMods=[].concat(this.__configuration.enabledMods),this.__configuration.minimumStatTiers=Object.assign({},this.__configuration.minimumStatTiers);const n=w.compress(JSON.stringify(this.__configuration),M);localStorage.setItem("user-currentConfig",n),this._configuration.next(Object.assign({},this.__configuration))}loadCurrentConfiguration(){try{let n;try{n=localStorage.getItem("user-currentConfig")||"{}","{"!=n.substr(0,1)&&(n=w.decompress(n,D))}catch{n={}}var e={name:"dummy",version:"1",configuration:JSON.parse(n)};return this.checkAndFixOldSavedConfigurations(e),e.configuration}catch(n){return this.logger.error("ConfigurationService","loadCurrentConfiguration","Error while checking and fixing old saved configurations",n),Bt.buildEmptyConfiguration()}}getCurrentConfigBase64Compressed(){let e=localStorage.getItem("user-currentConfig")||"{}";return"{"==e.substr(0,1)&&(e=w.compress(e,{outputEncoding:"Base64"})),e}getAllStoredConfigurationsBase64Compressed(){let e=localStorage.getItem("storedConfigurations")||"[]";return"["==e.substr(0,1)&&(e=w.compress(e,{outputEncoding:"Base64"})),e}getStoredConfigurationBase64Compressed(e){let n=this.listSavedConfigurations().filter(i=>i.name==e)[0];return n?w.compress(JSON.stringify(n),{outputEncoding:"Base64"}):""}resetCurrentConfiguration(){this.saveCurrentConfiguration(Bt.buildEmptyConfiguration())}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(Q.so))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),V=(()=>{class o{constructor(e){this.logger=e,this.__status={cancelledCalculation:!1,calculatingResults:!1,calculatingPermutations:!1,updatingResultsTable:!1,updatingInventory:!1,updatingManifest:!1,updatingVendors:!1,apiError:!1,authError:!1},this.__last_Status=structuredClone(this.__status),this.logger.debug("StatusProviderService","constructor","Initializing StatusProviderService"),this._status=new b.t(this.__status),this.status=this._status.asObservable()}ngOnDestroy(){this.logger.debug("StatusProviderService","ngOnDestroy","Destroying StatusProviderService")}getStatus(){return this.__status}modifyStatus(e){e(this.__status),(0,Jt.isEqual)(this.__last_Status,this.__status)||this.logger.debug("StatusProviderService","modifyStatus",`Status changed: ${ve(this.__last_Status,this.__status)}`),this.__last_Status=structuredClone(this.__status),setTimeout(()=>{this._status.next(this.__status)},0)}setApiError(){this.__status.apiError||this.modifyStatus(e=>{e.apiError=!0})}clearApiError(){this.__status.apiError&&this.modifyStatus(e=>{e.apiError=!1})}setAuthError(){this.__status.authError||this.modifyStatus(e=>{e.authError=!0})}clearAuthError(){this.__status.authError&&this.modifyStatus(e=>{e.authError=!1})}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(Q.so))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var v=C(8092),B=C(4563),O=C(9667),G=C(3119),x=C(7464),T=C(8214),L=C(581),$=C(2175),Z=C(9273),at=C(6109),rt=C(9314),vt=C(1536),st=C(1006);let Yt=(()=>{class o{constructor(e,n,i,a,s,l){this.db=e,this.status=n,this.userInfo=i,this.config=a,this.logger=s,this.router=l,this._calculationProgress=new G.B7,this.calculationProgress=this._calculationProgress.asObservable(),this.results=[],this.totalPermutationCount=0,this.resultMaximumTiers=[],this.selectedExotics=[],this.inventoryArmorItems=[],this.permutatorArmorItems=[],this.endResults=[],this.allArmorResults=[],this.logger.debug("ArmorCalculatorService","constructor","Initializing ArmorCalculatorService"),this._armorResults=new b.t({results:this.allArmorResults}),this.armorResults=this._armorResults.asObservable(),this._reachableTiers=new b.t([0,0,0,0,0,0]),this.reachableTiers=this._reachableTiers.asObservable(),this.workers=[],setTimeout(()=>this.setupCalculationTriggers(),100),this.logger.debug("ArmorCalculatorService","constructor","Finished initializing ArmorCalculatorService")}ngOnDestroy(){this.logger.debug("ArmorCalculatorService","ngOnDestroy","Destroying ArmorCalculatorService"),this.calculationSubscription?.unsubscribe(),this.killWorkers(),this.logger.debug("ArmorCalculatorService","ngOnDestroy","Finished destroying ArmorCalculatorService")}setupCalculationTriggers(){this.logger.debug("ArmorCalculatorService","setupCalculationTriggers","Setting up calculation triggers");try{if(!this.userInfo)return void this.logger.error("ArmorCalculatorService","setupCalculationTriggers","UserInformationService not available");if(!this.config)return void this.logger.error("ArmorCalculatorService","setupCalculationTriggers","ConfigurationService not available");this.logger.debug("ArmorCalculatorService","setupCalculationTriggers","Services available, setting up observables"),this.calculationSubscription=(0,$.zV)([this.userInfo.inventory.pipe((0,Z.Z)(null)),this.config.configuration]).pipe((0,Dt.B)(100),(0,at.F)(),(0,rt.W)(e=>(this.logger.error("ArmorCalculatorService","setupCalculationTriggers","Error in observable stream: "+e),(0,vt.of)([null,null])))).subscribe({next:([e,n])=>{if(!this.isMainPage())return void this.logger.debug("ArmorCalculatorService","setupCalculationTriggers","Not on main page, skipping calculation");if(!n)return;const i=n;3!==i.characterClass&&(this.logger.info("ArmorCalculatorService","setupCalculationTriggers","Triggering calculation for class: "+i.characterClass),this.updateResults(i,i.characterClass))},error:e=>{this.logger.error("ArmorCalculatorService","setupCalculationTriggers","Subscription error: "+e)}}),this.logger.debug("ArmorCalculatorService","setupCalculationTriggers","Calculation triggers set up successfully")}catch(e){this.logger.error("ArmorCalculatorService","setupCalculationTriggers","Failed to setup triggers: "+e)}}isMainPage(){const e=this.router.url;return"/"===e||""===e||"/"===e.split("?")[0]}clearResults(){this.allArmorResults=[],this._armorResults.next({results:this.allArmorResults,totalResults:0,totalTime:0,itemCount:0,maximumPossibleTiers:[0,0,0,0,0,0]})}killWorkers(){this.logger.debug("ArmorCalculatorService","killWorkers","Terminating all workers"),this.workers.forEach(e=>{e.terminate()}),this.workers=[]}estimateCombinationsToBeChecked(e,n,i,a){let s=0;const l=e.filter(j=>j.isExotic).length,m=e.length-l,p=n.filter(j=>j.isExotic).length,f=n.length-p,y=i.filter(j=>j.isExotic).length,S=i.length-y,u=a.filter(j=>j.isExotic).length,Y=a.length-u;return s+=l*f*S*Y,s+=m*p*S*Y,s+=m*f*y*Y,s+=m*f*S*u,s+=m*f*S*Y,s}cancelCalculation(){this.logger.info("ArmorCalculatorService","cancelCalculation","Cancelling calculation"),this.killWorkers(),this.status.modifyStatus(e=>e.calculatingResults=!1),this.status.modifyStatus(e=>e.cancelledCalculation=!0),this._calculationProgress.next(0),this.clearResults()}estimateRequiredThreads(e){const n=this.permutatorArmorItems.filter(u=>u.slot==O.s.ArmorSlotHelmet),i=this.permutatorArmorItems.filter(u=>u.slot==O.s.ArmorSlotGauntlet),a=this.permutatorArmorItems.filter(u=>u.slot==O.s.ArmorSlotChest),s=this.permutatorArmorItems.filter(u=>u.slot==O.s.ArmorSlotLegs),l=this.estimateCombinationsToBeChecked(n,i,a,s),m=Math.max(n.length,i.length,a.length,s.length);let p=1;e.tryLimitWastedStats&&e.modOptimizationStrategy!=Rt.P.None&&(p=.7);let y=25e4*p;return Math.max(3,Math.min(Math.max(1,Math.ceil(l/(5e4*p))),Math.ceil(l/y),Math.floor(.75*(navigator.hardwareConcurrency||2)),20,m))}manualTriggerCalculation(){this.logger.info("ArmorCalculatorService","manualTriggerCalculation","Manually triggering calculation");const e=this.config.readonlyConfigurationSnapshot;e&&3!==e.characterClass?this.updateResults(e,e.characterClass):this.logger.warn("ArmorCalculatorService","manualTriggerCalculation","No valid config available for manual trigger")}updateResults(e,n,i=3){var a=this;return(0,_.A)(function*(){if(3!=e.characterClass){a.clearResults(),a.killWorkers();try{const s=performance.now();a.status.modifyStatus(u=>u.calculatingResults=!0),a.status.modifyStatus(u=>u.cancelledCalculation=!1);let l=0;a.results=[],a.totalPermutationCount=0,a.resultMaximumTiers=[];const m=Date.now();if(a.selectedExotics=yield Promise.all(e.selectedExotics.filter(u=>u!=T.Bi).map(function(){var u=(0,_.A)(function*(Y){return yield a.db.manifestArmor.where("hash").equals(Y).first()});return function(Y){return u.apply(this,arguments)}}())),a.selectedExotics=a.selectedExotics.filter(u=>!!u),a.inventoryArmorItems=yield a.db.inventoryArmor.where("clazz").equals(e.characterClass).distinct().toArray(),a.inventoryArmorItems=a.inventoryArmorItems.filter(u=>u.slot!=O.s.ArmorSlotNone).filter(u=>-1==e.disabledItems.indexOf(u.itemInstanceId)).filter(u=>u.isExotic||!e.enforceFeaturedLegendaryArmor||u.isFeatured).filter(u=>!u.isExotic||!e.enforceFeaturedExoticArmor||u.isFeatured).filter(u=>u.armorSystem===nt.V.Armor3||u.isExotic||e.allowLegacyLegendaryArmor).filter(u=>u.armorSystem===nt.V.Armor3||!u.isExotic||e.allowLegacyExoticArmor).filter(u=>{switch(u.source){case W.h$.Collections:return e.includeCollectionRolls;case W.h$.Vendor:return e.includeVendorRolls;default:return!0}}).filter(u=>-1==e.selectedExotics.indexOf(T.Bi)||!u.isExotic).filter(u=>0===a.selectedExotics.length||u.isExotic&&a.selectedExotics.some(Y=>Y.hash===u.hash)||!u.isExotic&&a.selectedExotics.every(Y=>Y.slot!==u.slot)).filter(u=>!e.onlyUseMasterworkedExotics||!(6==u.rarity&&u.masterworkLevel!=T.cd)).filter(u=>!e.onlyUseMasterworkedLegendaries||!(5==u.rarity&&u.masterworkLevel!=T.cd)).filter(u=>e.allowBlueArmorPieces||6==u.rarity||5==u.rarity).filter(u=>!e.ignoreSunsetArmor||!u.isSunset),a.inventoryArmorItems=a.inventoryArmorItems.filter(u=>u.source===W.h$.Inventory||void 0===a.inventoryArmorItems.find(j=>j.source===W.h$.Inventory&&(0,W.QL)(u,j))),a.permutatorArmorItems=a.inventoryArmorItems.map(u=>({id:u.id,hash:u.hash,slot:u.slot,clazz:u.clazz,perk:u.perk,isExotic:u.isExotic,rarity:u.rarity,isSunset:u.isSunset,masterworkLevel:u.masterworkLevel,archetypeStats:u.archetypeStats,mobility:u.mobility,resilience:u.resilience,recovery:u.recovery,discipline:u.discipline,intellect:u.intellect,strength:u.strength,source:u.source,exoticPerkHash:u.exoticPerkHash,gearSetHash:u.gearSetHash??null,tuningStat:u.tuningStat,icon:u.icon,watermarkIcon:u.watermarkIcon,name:u.name,energyLevel:u.energyLevel,tier:u.tier,armorSystem:u.armorSystem})),0==a.permutatorArmorItems.length||0==a.permutatorArmorItems.filter(u=>u.slot==O.s.ArmorSlotHelmet).length||0==a.permutatorArmorItems.filter(u=>u.slot==O.s.ArmorSlotGauntlet).length||0==a.permutatorArmorItems.filter(u=>u.slot==O.s.ArmorSlotChest).length||0==a.permutatorArmorItems.filter(u=>u.slot==O.s.ArmorSlotLegs).length)return a.logger.warn("ArmorCalculatorService","updateResults","Incomplete armor items available for permutation, skipping calculation"),void a.status.modifyStatus(u=>u.calculatingResults=!1);i=a.estimateRequiredThreads(e),a.logger.info("ArmorCalculatorService","updateResults","Estimated threads: "+i);const p=[...Array(i).keys()].map(()=>0),f=[...Array(i).keys()].map(()=>0),y=[...Array(i).keys()].map(()=>Array(6).fill(0));let S=0;a.permutatorArmorItems=a.permutatorArmorItems.sort((u,Y)=>(0,W.e8)(Y)-(0,W.e8)(u)),a._calculationProgress.next(0);for(let u=0;u<i;u++)a.workers[u]=new Worker(C.tu(new URL(C.p+C.u(581),C.b)),{name:u.toString()}),a.workers[u].onmessage=function(){var Y=(0,_.A)(function*(j){let N=j.data;f[u]=N.checkedCalculations,p[u]=N.estimatedCalculations,y[u]=N.reachableTiers||N.runtime.maximumPossibleTiers;const et=p.reduce((Ot,ot)=>Ot+ot,0),H=f.reduce((Ot,ot)=>Ot+ot,0),At=y.reduce((Ot,ot)=>Ot.map((Nt,wt)=>Math.max(Nt,ot[wt]))).map(Ot=>Math.min(200,Ot)/10);if(a._reachableTiers.next(At),f[0]>0&&f[1]>0&&f[2]>0){const Ot=H/et*100;Ot>S+.25&&(S=Ot,a._calculationProgress.next(Ot))}if(null!=N.runtime)if(a.results.push(...N.results),1==N.done&&(l++,a.totalPermutationCount+=N.stats.permutationCount,a.resultMaximumTiers.push(N.runtime.maximumPossibleTiers)),1==N.done&&l==i){a.status.modifyStatus(ot=>ot.calculatingResults=!1),a._calculationProgress.next(0),a.endResults=[];for(let ot of a.results){let Nt=ot.armor.map(tt=>a.inventoryArmorItems.find(Ut=>Ut.id==tt)),wt=Nt.find(tt=>tt.isExotic),Xe={loaded:!1,tuningStats:ot.tuning,exotic:null==wt?void 0:{icon:wt?.icon,watermark:wt?.watermarkIcon,name:wt?.name,hash:wt?.hash},artifice:ot.usedArtifice,modCount:ot.usedMods.length,modCost:ot.usedMods.reduce((tt,Ut)=>tt+d.fe[Ut][2],0),mods:ot.usedMods,stats:ot.statsWithMods,statsNoMods:ot.statsWithoutMods,tiers:(0,L.g$)(ot.statsWithMods),waste:(0,L.XW)(ot.statsWithMods),items:Nt.map(tt=>({tuningStat:tt.tuningStat,energyLevel:tt.energyLevel,hash:tt.hash,itemInstanceId:tt.itemInstanceId,name:tt.name,exotic:!!tt.isExotic,masterworked:tt.masterworkLevel==T.cd,archetypeStats:tt.archetypeStats,armorSystem:tt.armorSystem,masterworkLevel:tt.masterworkLevel,slot:tt.slot,perk:tt.perk,transferState:0,tier:tt.tier,stats:[tt.mobility,tt.resilience,tt.recovery,tt.discipline,tt.intellect,tt.strength],source:tt.source,statsNoMods:[]})),usesCollectionRoll:Nt.some(tt=>tt.source===W.h$.Collections),usesVendorRoll:Nt.some(tt=>tt.source===W.h$.Vendor)};a.endResults.push(Xe)}a._armorResults.next({results:a.endResults,totalResults:a.totalPermutationCount,itemCount:N.stats.itemCount,totalTime:Date.now()-m,maximumPossibleTiers:a.resultMaximumTiers.reduce((ot,Nt)=>{for(let wt=0;wt<6;wt++)ot[wt]<Nt[wt]&&(ot[wt]=Nt[wt]);return ot},[0,0,0,0,0,0]).map(ot=>Math.min(200,ot)/10)});const Ot=performance.now();a.logger.info("ArmorCalculatorService","updateResults",`updateResults with WebWorker took ${Ot-s} ms`),a.workers[u].terminate()}else 1==N.done&&l!=i&&a.workers[u].terminate()});return function(j){return Y.apply(this,arguments)}}(),a.workers[u].onerror=Y=>{a.workers[u].terminate()},a.workers[u].postMessage({type:"builderRequest",currentClass:n,config:e,threadSplit:{count:i,current:u},items:a.permutatorArmorItems,selectedExotics:a.selectedExotics})}finally{}}else a.logger.info("ArmorCalculatorService","updateResults","Character class is unknown, probably not loaded yet, skipping updateResults")})()}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(It),t.KVO(V),t.KVO(Gt),t.KVO(E),t.KVO(Q.so),t.KVO(st.Ix))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function Kt(o,r){if(1&o&&(t.j41(0,"mat-icon",32,33),t.nI1(2,"number"),t.EFF(3,"report_problem "),t.k0s()),2&o){const e=t.XpG();t.Mz_("matTooltip","Note: To speed up the whole process, only ",t.bMT(2,1,e.parsedResults)," results are listed in this table.\n                          If you need more entries, disable the limitation in the advanced settings.")}}function ut(o,r){if(1&o&&(t.j41(0,"mat-icon",32,33),t.nI1(2,"number"),t.EFF(3,"report_problem "),t.k0s()),2&o){const e=t.XpG();t.Mz_("matTooltip","Note: To prevent Out-Of-Memory crashes, only ",t.bMT(2,1,e.parsedResults)," results are listed in this table.\n                                  You should narrow down your settings a bit.")}}function Pt(o,r){1&o&&(t.j41(0,"mat-chip-option",34,33),t.EFF(2,"No Exotic "),t.k0s())}function _t(o,r){1&o&&(t.j41(0,"mat-chip-option",35,33),t.EFF(2,"Exotic "),t.k0s())}function Ft(o,r){1&o&&(t.j41(0,"mat-chip-option",36,33),t.EFF(2,"Reduce wasted stats "),t.k0s())}function Xt(o,r){1&o&&(t.j41(0,"mat-chip-option",37,33),t.EFF(2,"Stat Mod Limitation "),t.k0s())}function Qt(o,r){1&o&&(t.j41(0,"mat-chip-option",38,33),t.EFF(2," Armor Perk or Slot "),t.k0s())}function ce(o,r){1&o&&(t.j41(0,"mat-chip-option",39,33),t.EFF(2,"Zero Waste "),t.k0s())}function ke(o,r){1&o&&(t.j41(0,"mat-chip-option",40,33)(2,"mat-icon",41),t.EFF(3,"report_problem"),t.k0s(),t.EFF(4," \xa0Legacy Artifice Assumptions\xa0 "),t.j41(5,"mat-icon",41),t.EFF(6,"report_problem"),t.k0s()())}function P(o,r){1&o&&(t.j41(0,"mat-chip-option",42,33),t.EFF(2," Masterworked Exotics Only "),t.k0s())}function ht(o,r){1&o&&(t.j41(0,"mat-chip-option",43,33),t.EFF(2," Masterworked Legendaries Only "),t.k0s())}function I(o,r){1&o&&(t.j41(0,"mat-chip-option",44,33),t.EFF(2," Masterwork Assumption "),t.k0s())}function q(o,r){1&o&&(t.j41(0,"mat-chip-option",45,33),t.EFF(2," Featured Armor Only "),t.k0s())}function gt(o,r){1&o&&(t.j41(0,"mat-chip-option",46,33),t.EFF(2," Include Collection Rolls "),t.k0s())}function dt(o,r){1&o&&(t.j41(0,"mat-chip-option",47,33),t.EFF(2," Include Vendor Items "),t.k0s())}function ct(o,r){1&o&&(t.j41(0,"div",48)(1,"mat-icon",49),t.EFF(2,"hourglass_top"),t.k0s(),t.j41(3,"h3"),t.EFF(4,"Initializing..."),t.k0s(),t.j41(5,"p"),t.EFF(6,"Please wait while the application is loading your data."),t.k0s(),t.j41(7,"p"),t.EFF(8," This may take a while, depending on your settings and the number of items you have. "),t.nrm(9,"br"),t.EFF(10," Please be patient. "),t.k0s()())}function Ct(o,r){if(1&o){const e=t.RV6();t.j41(0,"div",50)(1,"mat-icon",49),t.EFF(2," hourglass_top "),t.k0s(),t.j41(3,"h3"),t.EFF(4,"Calculating permutations..."),t.k0s(),t.nrm(5,"mat-progress-bar",51),t.j41(6,"p"),t.EFF(7," This may take a while, depending on your settings and the number of items you have. "),t.nrm(8,"br"),t.EFF(9," Please be patient. "),t.k0s(),t.nrm(10,"br"),t.j41(11,"button",52),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.cancelCalculation())}),t.EFF(12," Cancel Calculation "),t.k0s()()}if(2&o){const e=t.XpG();t.R7$(5),t.Y8G("value",e.computationProgress),t.R7$(6),t.Y8G("disabled",!e.isCalculatingPermutations)}}function xt(o,r){1&o&&(t.j41(0,"div",53)(1,"mat-icon"),t.EFF(2,"cancel"),t.k0s(),t.j41(3,"h3"),t.EFF(4,"You cancelled the calculation process"),t.k0s(),t.j41(5,"p"),t.EFF(6," The calculation has been cancelled. You can try again with different settings. "),t.nrm(7,"br"),t.EFF(8," If you want to continue, just change anything in your settings. "),t.k0s()())}function le(o,r){1&o&&(t.j41(0,"li"),t.EFF(1," You enforced that only featured armor is used. Do you have at least one piece of featured armor for each slot? "),t.k0s())}function Zt(o,r){1&o&&(t.j41(0,"li"),t.EFF(1," Maybe you wanted to include legacy (Armor 2.0) armor too? "),t.k0s())}function U(o,r){1&o&&(t.j41(0,"li"),t.EFF(1," Maybe you wanted to include vendor items? "),t.k0s())}function St(o,r){1&o&&(t.j41(0,"li"),t.EFF(1," Maybe you wanted to include exotics in the collection? "),t.k0s())}function jt(o,r){if(1&o&&(t.j41(0,"div",54)(1,"mat-icon"),t.EFF(2,"search_off"),t.k0s(),t.j41(3,"h3"),t.EFF(4,"No results found"),t.k0s(),t.j41(5,"p"),t.EFF(6,"Try adjusting your filters or search criteria."),t.k0s(),t.j41(7,"div",55)(8,"p"),t.EFF(9,"Common issues:"),t.k0s(),t.j41(10,"ul")(11,"li"),t.EFF(12," Desired stats may simply not be possible with your current configuration. "),t.k0s(),t.j41(13,"li"),t.EFF(14,"Make sure that you have at least one legendary item per slot."),t.k0s(),t.DNE(15,le,2,0,"li",31),t.DNE(16,Zt,2,0,"li",31),t.DNE(17,U,2,0,"li",31),t.DNE(18,St,2,0,"li",31),t.k0s()()()),2&o){const e=t.XpG();t.R7$(15),t.Y8G("ngIf",e._config_enforceFeaturedArmor),t.R7$(1),t.Y8G("ngIf",!e._config_legacyArmor),t.R7$(1),t.Y8G("ngIf",!e._config_includeVendorRolls),t.R7$(1),t.Y8G("ngIf",!e._config_includeCollectionRolls)}}function Lt(o,r){if(1&o&&(t.nrm(0,"app-results-card-view",57),t.nI1(1,"async")),2&o){const e=t.XpG(2);let n;t.AVh("loading-blur",null==(n=t.bMT(1,3,e.status.status))?null:n.updatingResultsTable),t.Y8G("results",e._results)}}function de(o,r){if(1&o&&(t.nrm(0,"app-results-table-view",57),t.nI1(1,"async")),2&o){const e=t.XpG(2);let n;t.AVh("loading-blur",null==(n=t.bMT(1,3,e.status.status))?null:n.updatingResultsTable),t.Y8G("results",e._results)}}function kn(o,r){if(1&o&&(t.j41(0,"div"),t.DNE(1,Lt,2,5,"app-results-card-view",56),t.DNE(2,de,2,5,"app-results-table-view",56),t.k0s()),2&o){const e=t.XpG();t.R7$(1),t.Y8G("ngIf","cards"===e.viewMode),t.R7$(1),t.Y8G("ngIf","table"===e.viewMode)}}function wn(o,r){if(1&o){const e=t.RV6();t.j41(0,"mat-card-actions"),t.nrm(1,"span",58),t.j41(2,"button",59),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.saveBuilds())}),t.EFF(3,"Download results as JSON"),t.k0s()()}}var me=function(o){return o[o.TRANSFER_NONE=0]="TRANSFER_NONE",o[o.WAITING_FOR_TRANSFER=1]="WAITING_FOR_TRANSFER",o[o.TRANSFERRING=2]="TRANSFERRING",o[o.TRANSFERRED=3]="TRANSFERRED",o[o.ERROR_DURING_TRANSFER=4]="ERROR_DURING_TRANSFER",o}(me||{});let We=(()=>{class o{constructor(e,n,i,a){this.armorCalculator=e,this.configService=n,this.status=i,this.logger=a,this.ArmorStat=d.uD,this.StatModifier=d.oA,this._results=[],this._config_assumeLegendariesMasterworked=!1,this._config_assumeExoticsMasterworked=!1,this._config_selectedExotics=[],this._config_tryLimitWastedStats=!1,this._config_onlyUseMasterworkedExotics=!1,this._config_onlyUseMasterworkedLegendaries=!1,this._config_includeCollectionRolls=!1,this._config_includeVendorRolls=!1,this._config_onlyShowResultsWithNoWastedStats=!1,this._config_assumeEveryLegendaryIsArtifice=!1,this._config_assumeEveryExoticIsArtifice=!1,this._config_enforceFeaturedArmor=!1,this._config_modslotLimitation=!1,this._config_armorPerkLimitation=!1,this.selectedClass=3,this.totalTime=0,this.itemCount=0,this.totalResults=0,this.parsedResults=0,this.viewMode="table",this.computationProgress=0,this.isCalculatingPermutations=!1,this.initializing=!0,this.cancelledCalculation=!1,this.ngUnsubscribe=new G.B7,this.logger.debug("ResultsComponent","constructor","Component initialized");const s=localStorage.getItem("d2ap-view-mode");s&&(this.viewMode=s)}ngOnInit(){var e=this;this.status.status.pipe((0,x.Q)(this.ngUnsubscribe)).subscribe(n=>{this.isCalculatingPermutations=n.calculatingPermutations||n.calculatingResults,this.isCalculatingPermutations&&(this.initializing=!1),this.cancelledCalculation=n.cancelledCalculation}),this.armorCalculator.calculationProgress.subscribe(n=>{this.computationProgress=n}),this.configService.configuration.pipe((0,x.Q)(this.ngUnsubscribe)).subscribe(n=>{this.selectedClass=n.characterClass,this._config_assumeLegendariesMasterworked=n.assumeLegendariesMasterworked,this._config_assumeExoticsMasterworked=n.assumeExoticsMasterworked,this._config_tryLimitWastedStats=n.tryLimitWastedStats,this._config_legacyArmor=n.allowLegacyLegendaryArmor||n.allowLegacyExoticArmor,this._config_onlyUseMasterworkedExotics=n.onlyUseMasterworkedExotics,this._config_onlyUseMasterworkedLegendaries=n.onlyUseMasterworkedLegendaries,this._config_includeCollectionRolls=n.includeCollectionRolls,this._config_includeVendorRolls=n.includeVendorRolls,this._config_onlyShowResultsWithNoWastedStats=n.onlyShowResultsWithNoWastedStats,this._config_assumeEveryLegendaryIsArtifice=n.assumeEveryLegendaryIsArtifice,this._config_assumeEveryExoticIsArtifice=n.assumeEveryExoticIsArtifice,this._config_enforceFeaturedArmor=n.enforceFeaturedLegendaryArmor||n.enforceFeaturedExoticArmor,this._config_selectedExotics=n.selectedExotics,this._config_armorPerkLimitation=n.armorRequirements.length>0,this._config_modslotLimitation=n.statModLimits.maxMajorMods<T.qO}),this.armorCalculator.armorResults.pipe((0,x.Q)(this.ngUnsubscribe)).subscribe(function(){var n=(0,_.A)(function*(i){i.results.length>0&&e.initializing&&(e.initializing=!1),e._results=i.results,e.itemCount=i.itemCount,e.totalTime=i.totalTime,e.totalResults=i.totalResults,e.parsedResults=e._results.length,e.status.modifyStatus(a=>a.updatingResultsTable=!0),yield e.updateData(),e.status.modifyStatus(a=>a.updatingResultsTable=!1)});return function(i){return n.apply(this,arguments)}}())}cancelCalculation(){this.armorCalculator.cancelCalculation()}updateData(){var e=this;return(0,_.A)(function*(){e.logger.info("ResultsComponent","updateData","Table total results: "+e._results.length);const n=performance.now(),i=performance.now();e.logger.info("ResultsComponent","updateData",`Update Data took ${i-n} ms`)})()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}saveBuilds(){let e={configCompressed:this.configService.getCurrentConfigBase64Compressed(),config:this.configService.readonlyConfigurationSnapshot,results:this._results.map(s=>{let l=Object.assign({},s);return l.items=l.items.map(m=>({hash:m.hash,instance:m.itemInstanceId})),delete l.exotic,l})};document.createElement("a").download="builds.json";const i=window.URL.createObjectURL(new Blob([JSON.stringify(e,null,2)])),a=document.createElement("a");a.href=i,a.setAttribute("download","d2ap_results.json"),document.body.appendChild(a),a.click()}onViewModeChange(e){this.viewMode=e.value,localStorage.setItem("d2ap-view-mode",this.viewMode)}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(Yt),t.rXU(E),t.rXU(V),t.rXU(Q.so))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-results"]],decls:61,vars:32,consts:[["appearance","outlined","id","card-results"],[1,"info-stats-container"],[1,"info-stat-card"],[1,"info-stat-label"],[1,"info-stat-value"],[1,"info-stat-value-container"],["class","report-problem-icon",3,"matTooltip",4,"ngIf"],[1,"view-mode-toggle"],["aria-label","View Mode",3,"value","change"],["value","cards"],["value","table"],[1,"config-summary-container"],[1,"config-summary-title"],["aria-label","Configuration Summary",1,"config-summary-chips",3,"selectable"],["disableRipple","","matTooltip","This setting enforces that all exotics are ignored.",4,"ngIf"],["disableRipple","","matTooltip","This setting enforces that only one specific exotic is used.",4,"ngIf"],["disableRipple","","matTooltip","The tool will add minor stat mods to reduce wasted stats.",4,"ngIf"],["disableRipple","","matTooltip","This setting limits available stat mod types, like major Super or Class.",4,"ngIf"],["disableRipple","","matTooltip","This setting enforces an specific armor perk or modslot for a specific armor slot.",4,"ngIf"],["disableRipple","","matTooltip","This setting means that only builds with no wasted stats are shown.","selected","",4,"ngIf"],["disableRipple","","matTooltip","Some legacy items are assumed to have an artifice slot.","color","warn",4,"ngIf"],["disableRipple","","matTooltip","This setting means that only exotic armor pieces that are already masterworked are used.","selected","",4,"ngIf"],["disableRipple","","matTooltip","This setting means that only legendary armor pieces are already masterworked are used.","selected","",4,"ngIf"],["disableRipple","","matTooltip","Some masterwork assumptions are in place. This means that you may have to masterwork items. Look at your advanced settings to see which ones are activated.",4,"ngIf"],["disableRipple","","matTooltip","This setting enforces that only featured armor pieces (from specific activities or vendors) are used in builds.","selected","",4,"ngIf"],["disableRipple","","matTooltip","Collection Exotic rolls will be included in the search.",4,"ngIf"],["disableRipple","","matTooltip","Currently available Vendor items will be included in the search.",4,"ngIf"],["class","initializing-container",4,"ngIf"],["class","progress-bar-container",4,"ngIf"],["class","cancelled-message",4,"ngIf"],["class","no-results",4,"ngIf"],[4,"ngIf"],[1,"report-problem-icon",3,"matTooltip"],["tooltip","matTooltip"],["disableRipple","","matTooltip","This setting enforces that all exotics are ignored."],["disableRipple","","matTooltip","This setting enforces that only one specific exotic is used."],["disableRipple","","matTooltip","The tool will add minor stat mods to reduce wasted stats."],["disableRipple","","matTooltip","This setting limits available stat mod types, like major Super or Class."],["disableRipple","","matTooltip","This setting enforces an specific armor perk or modslot for a specific armor slot."],["disableRipple","","matTooltip","This setting means that only builds with no wasted stats are shown.","selected",""],["disableRipple","","matTooltip","Some legacy items are assumed to have an artifice slot.","color","warn"],["inline","",2,"height","100%"],["disableRipple","","matTooltip","This setting means that only exotic armor pieces that are already masterworked are used.","selected",""],["disableRipple","","matTooltip","This setting means that only legendary armor pieces are already masterworked are used.","selected",""],["disableRipple","","matTooltip","Some masterwork assumptions are in place. This means that you may have to masterwork items. Look at your advanced settings to see which ones are activated."],["disableRipple","","matTooltip","This setting enforces that only featured armor pieces (from specific activities or vendors) are used in builds.","selected",""],["disableRipple","","matTooltip","Collection Exotic rolls will be included in the search."],["disableRipple","","matTooltip","Currently available Vendor items will be included in the search."],[1,"initializing-container"],[1,"rotate"],[1,"progress-bar-container"],["aria-label","Calculating permutations...",3,"value"],["mat-raised-button","","color","warn","matTooltip","Cancel the current calculation. This is useful if you want to change your settings or if the calculation takes too long.",3,"disabled","click"],[1,"cancelled-message"],[1,"no-results"],["id","common-issues"],[3,"results","loading-blur",4,"ngIf"],[3,"results"],[1,"flex-spacer"],["mat-raised-button","","color","primary",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t.EFF(3,"Results"),t.k0s()(),t.j41(4,"mat-card-content")(5,"div")(6,"div",1)(7,"div",2)(8,"span",3),t.EFF(9,"Items Used"),t.k0s(),t.j41(10,"span",4),t.EFF(11),t.nI1(12,"number"),t.k0s()(),t.j41(13,"div",2)(14,"span",3),t.EFF(15,"Combinations generated"),t.k0s(),t.j41(16,"div",5)(17,"span",4),t.EFF(18),t.nI1(19,"number"),t.k0s(),t.DNE(20,Kt,4,3,"mat-icon",6),t.DNE(21,ut,4,3,"mat-icon",6),t.k0s()(),t.j41(22,"div",2)(23,"span",3),t.EFF(24,"Time required"),t.k0s(),t.j41(25,"span",4),t.EFF(26),t.nI1(27,"number"),t.k0s()(),t.j41(28,"div",7)(29,"mat-button-toggle-group",8),t.bIt("change",function(s){return i.onViewModeChange(s)}),t.j41(30,"mat-button-toggle",9)(31,"mat-icon"),t.EFF(32,"view_module"),t.k0s(),t.EFF(33," Cards "),t.k0s(),t.j41(34,"mat-button-toggle",10)(35,"mat-icon"),t.EFF(36,"table_view"),t.k0s(),t.EFF(37," Table "),t.k0s()()()(),t.j41(38,"div",11)(39,"h4",12),t.EFF(40,"Summary of important configuration choices"),t.k0s(),t.j41(41,"mat-chip-listbox",13),t.DNE(42,Pt,3,0,"mat-chip-option",14),t.DNE(43,_t,3,0,"mat-chip-option",15),t.DNE(44,Ft,3,0,"mat-chip-option",16),t.DNE(45,Xt,3,0,"mat-chip-option",17),t.DNE(46,Qt,3,0,"mat-chip-option",18),t.DNE(47,ce,3,0,"mat-chip-option",19),t.DNE(48,ke,7,0,"mat-chip-option",20),t.DNE(49,P,3,0,"mat-chip-option",21),t.DNE(50,ht,3,0,"mat-chip-option",22),t.DNE(51,I,3,0,"mat-chip-option",23),t.DNE(52,q,3,0,"mat-chip-option",24),t.DNE(53,gt,3,0,"mat-chip-option",25),t.DNE(54,dt,3,0,"mat-chip-option",26),t.k0s()(),t.DNE(55,ct,11,0,"div",27),t.DNE(56,Ct,13,2,"div",28),t.DNE(57,xt,9,0,"div",29),t.DNE(58,jt,19,4,"div",30),t.DNE(59,kn,3,2,"div",31),t.k0s()(),t.DNE(60,wn,4,0,"mat-card-actions",31),t.k0s()),2&n&&(t.R7$(11),t.JRh(t.bMT(12,26,i.itemCount)),t.R7$(7),t.JRh(t.bMT(19,28,i.totalResults)),t.R7$(2),t.Y8G("ngIf",i.parsedResults!==i.totalResults&&5e4===i.parsedResults),t.R7$(1),t.Y8G("ngIf",i.parsedResults!==i.totalResults&&1e6===i.parsedResults),t.R7$(5),t.SpI("",t.bMT(27,30,i.totalTime),"ms"),t.R7$(3),t.Y8G("value",i.viewMode),t.R7$(12),t.Y8G("selectable",!1),t.R7$(1),t.Y8G("ngIf",i._config_selectedExotics.indexOf(-1)>-1),t.R7$(1),t.Y8G("ngIf",i._config_selectedExotics.length>=1&&-1===i._config_selectedExotics.indexOf(-1)),t.R7$(1),t.Y8G("ngIf",i._config_tryLimitWastedStats),t.R7$(1),t.Y8G("ngIf",i._config_modslotLimitation),t.R7$(1),t.Y8G("ngIf",i._config_armorPerkLimitation),t.R7$(1),t.Y8G("ngIf",i._config_onlyShowResultsWithNoWastedStats),t.R7$(1),t.Y8G("ngIf",i._config_assumeEveryLegendaryIsArtifice&&i._config_legacyArmor||i._config_assumeEveryExoticIsArtifice),t.R7$(1),t.Y8G("ngIf",i._config_onlyUseMasterworkedExotics),t.R7$(1),t.Y8G("ngIf",i._config_onlyUseMasterworkedLegendaries),t.R7$(1),t.Y8G("ngIf",!i._config_onlyUseMasterworkedExotics&&!i._config_onlyUseMasterworkedLegendaries&&(i._config_assumeLegendariesMasterworked||i._config_assumeExoticsMasterworked)),t.R7$(1),t.Y8G("ngIf",i._config_enforceFeaturedArmor),t.R7$(1),t.Y8G("ngIf",i._config_includeCollectionRolls),t.R7$(1),t.Y8G("ngIf",i._config_includeVendorRolls),t.R7$(1),t.Y8G("ngIf",i.initializing),t.R7$(1),t.Y8G("ngIf",0===i._results.length&&i.isCalculatingPermutations&&!i.initializing),t.R7$(1),t.Y8G("ngIf",0===i._results.length&&i.cancelledCalculation),t.R7$(1),t.Y8G("ngIf",0===i._results.length&&!i.isCalculatingPermutations&&!i.initializing&&!i.cancelledCalculation),t.R7$(1),t.Y8G("ngIf",i._results.length>0),t.R7$(1),t.Y8G("ngIf",i.totalResults>0))},styles:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.mdc-data-table__cell[_ngcontent-%COMP%], .mdc-data-table__header-cell[_ngcontent-%COMP%]{padding:0}#card-results[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;white-space:normal;width:-moz-fit-content;width:fit-content;margin-left:3px}.report-problem-icon[_ngcontent-%COMP%]{color:#f08080}.hint-text[_ngcontent-%COMP%]{font-size:small;color:#d5d5d5}[_nghost-%COMP%]   .info-box[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:5px!important;cursor:default}.config-summary-container[_ngcontent-%COMP%]{margin:12px 0;padding:8px 12px;background-color:#ffffff0d;border-radius:6px;border:1px solid rgba(255,255,255,.12)}@media (max-width: 768px){.config-summary-container[_ngcontent-%COMP%]{margin:8px 0;padding:6px 10px}}@media (max-width: 480px){.config-summary-container[_ngcontent-%COMP%]{padding:6px 8px}}.config-summary-title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:11px;font-weight:500;color:#fff9;text-transform:uppercase;letter-spacing:.3px;line-height:1.2}@media (max-width: 768px){.config-summary-title[_ngcontent-%COMP%]{font-size:10px;margin:0 0 6px}}@media (max-width: 480px){.config-summary-title[_ngcontent-%COMP%]{font-size:11px;text-transform:none;font-weight:400}}.config-summary-chips[_ngcontent-%COMP%]   .mat-mdc-chip[_ngcontent-%COMP%]{margin:1px 4px 1px 0;font-size:12px;min-height:24px}@media (max-width: 768px){.config-summary-chips[_ngcontent-%COMP%]   .mat-mdc-chip[_ngcontent-%COMP%]{font-size:11px;min-height:22px;margin:1px 3px 1px 0}}@media (max-width: 480px){.config-summary-chips[_ngcontent-%COMP%]   .mat-mdc-chip[_ngcontent-%COMP%]{font-size:10px;min-height:20px;margin:1px 2px 1px 0}}.warning-none-found[_ngcontent-%COMP%]{color:red}.no-found-sadcat-container[_ngcontent-%COMP%]{width:20px;position:relative;display:inline-block}.no-found-sadcat[_ngcontent-%COMP%]{position:absolute;width:18px;top:-1px}.mdc-data-table__cell[_ngcontent-%COMP%], .mdc-data-table__header-cell[_ngcontent-%COMP%]{padding:0 4px}.view-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:16px 0;gap:16px}@media (max-width: 768px){.view-controls[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:8px}}.view-controls[_ngcontent-%COMP%]   .hint-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1}.view-controls[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{flex-shrink:0}.card-view-mode[_ngcontent-%COMP%]   .paginator-container[_ngcontent-%COMP%], .card-view-mode[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%], .card-view-mode[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{display:none!important}.card-view-mode[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]{height:auto!important;max-height:none!important;overflow-y:visible!important;scrollbar-width:none;-ms-overflow-style:none}.card-view-mode[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.card-view-mode[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]{max-height:none!important;overflow:visible!important}.info-stats-container[_ngcontent-%COMP%]{display:flex;gap:8px;margin:12px 0;flex-wrap:wrap}@media (max-width: 768px){.info-stats-container[_ngcontent-%COMP%]{gap:6px;margin:8px 0}}@media (max-width: 480px){.info-stats-container[_ngcontent-%COMP%]{flex-direction:column;gap:4px}}.info-stat-card[_ngcontent-%COMP%]{flex:1;min-width:120px;padding:8px 12px;background-color:#ffffff0d;border:1px solid rgba(255,255,255,.12);border-radius:6px;display:flex;flex-direction:column;gap:2px}@media (max-width: 768px){.info-stat-card[_ngcontent-%COMP%]{min-width:100px;padding:6px 10px}}@media (max-width: 480px){.info-stat-card[_ngcontent-%COMP%]{min-width:auto;padding:6px 8px;flex-direction:row;align-items:center;justify-content:space-between;gap:8px}}.info-stat-label[_ngcontent-%COMP%]{font-size:11px;color:#fff9;font-weight:500;text-transform:uppercase;letter-spacing:.3px;line-height:1.2}@media (max-width: 768px){.info-stat-label[_ngcontent-%COMP%]{font-size:10px}}@media (max-width: 480px){.info-stat-label[_ngcontent-%COMP%]{font-size:11px;text-transform:none;font-weight:400}}.info-stat-value[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#ffffffde;line-height:1.2}@media (max-width: 768px){.info-stat-value[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.info-stat-value[_ngcontent-%COMP%]{font-size:15px}}.info-stat-value-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}@media (max-width: 768px){.info-stat-value-container[_ngcontent-%COMP%]{gap:4px}}.info-stat-value-container[_ngcontent-%COMP%]   .report-problem-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}@media (max-width: 768px){.info-stat-value-container[_ngcontent-%COMP%]   .report-problem-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}}.no-results[_ngcontent-%COMP%], .progress-bar-container[_ngcontent-%COMP%], .cancelled-message[_ngcontent-%COMP%], .initializing-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center;color:var(--mdc-theme-on-surface)}.no-results[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .progress-bar-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .cancelled-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .initializing-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;margin-bottom:1rem;opacity:.6}.no-results[_ngcontent-%COMP%]   mat-icon.rotate[_ngcontent-%COMP%], .progress-bar-container[_ngcontent-%COMP%]   mat-icon.rotate[_ngcontent-%COMP%], .cancelled-message[_ngcontent-%COMP%]   mat-icon.rotate[_ngcontent-%COMP%], .initializing-container[_ngcontent-%COMP%]   mat-icon.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate-icon 2s linear infinite}@keyframes _ngcontent-%COMP%_rotate-icon{to{transform:rotate(360deg)}}.no-results[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%], .progress-bar-container[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%], .cancelled-message[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%], .initializing-container[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{margin-bottom:1.5rem}.no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .progress-bar-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .cancelled-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .initializing-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.5rem;font-weight:500}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .progress-bar-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .cancelled-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .initializing-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.7;font-size:1rem}.no-results[_ngcontent-%COMP%]   #common-issues[_ngcontent-%COMP%], .progress-bar-container[_ngcontent-%COMP%]   #common-issues[_ngcontent-%COMP%], .cancelled-message[_ngcontent-%COMP%]   #common-issues[_ngcontent-%COMP%], .initializing-container[_ngcontent-%COMP%]   #common-issues[_ngcontent-%COMP%]{margin-top:1rem;font-size:.875rem;color:#ffffffb3;text-align:left;max-width:600px;width:100%}.no-results[_ngcontent-%COMP%]   #common-issues[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .progress-bar-container[_ngcontent-%COMP%]   #common-issues[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .cancelled-message[_ngcontent-%COMP%]   #common-issues[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .initializing-container[_ngcontent-%COMP%]   #common-issues[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px;list-style-type:disc}.no-results[_ngcontent-%COMP%]   #common-issues[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .progress-bar-container[_ngcontent-%COMP%]   #common-issues[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .cancelled-message[_ngcontent-%COMP%]   #common-issues[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .initializing-container[_ngcontent-%COMP%]   #common-issues[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem}"]})}}return o})();var J=function(o){return o[o.SpiritOfTheSwarm=183430246]="SpiritOfTheSwarm",o[o.SpiritOfTheClaw=183430247]="SpiritOfTheClaw",o[o.SpiritOfTheStag=183430248]="SpiritOfTheStag",o[o.SpiritOfStarfire=183430249]="SpiritOfStarfire",o[o.SpiritOfApotheosis=183430250]="SpiritOfApotheosis",o[o.SpiritOfVesper=183430251]="SpiritOfVesper",o[o.SpiritOfTheNecrotic=183430252]="SpiritOfTheNecrotic",o[o.SpiritOfOsmiomancy=183430253]="SpiritOfOsmiomancy",o[o.SpiritOfHarmony=183430254]="SpiritOfHarmony",o[o.SpiritOfTheFilaments=183430255]="SpiritOfTheFilaments",o[o.SpiritOfCompetition=302488496]="SpiritOfCompetition",o[o.SpiritOfTheAssassin=1476923952]="SpiritOfTheAssassin",o[o.SpiritOfInmostLight=1476923953]="SpiritOfInmostLight",o[o.SpiritOfTheOphidian=1476923954]="SpiritOfTheOphidian",o[o.SpiritOfTheStarEater=1476923955]="SpiritOfTheStarEater",o[o.SpiritOfSynthoceps=1476923956]="SpiritOfSynthoceps",o[o.SpiritOfVerity=1476923957]="SpiritOfVerity",o[o.SpiritOfTheArmamentarium=3573490500]="SpiritOfTheArmamentarium",o[o.SpiritOfAlphaLupi=3573490501]="SpiritOfAlphaLupi",o[o.SpiritOfContact=3573490504]="SpiritOfContact",o[o.SpiritOfTheBear=3573490505]="SpiritOfTheBear",o[o.SpiritOfTheHorn=3573490506]="SpiritOfTheHorn",o[o.SpiritOfScars=3573490507]="SpiritOfScars",o[o.SpiritOfHoarfrost=3573490508]="SpiritOfHoarfrost",o[o.SpiritOfSeverance=3573490509]="SpiritOfSeverance",o[o.SpiritOfTheAbeyant=3573490510]="SpiritOfTheAbeyant",o[o.SpiritOfTheEternalWarrior=3573490511]="SpiritOfTheEternalWarrior",o[o.SpiritOfTheCoyote=3751917990]="SpiritOfTheCoyote",o[o.SpiritOfTheWormhusk=3751917991]="SpiritOfTheWormhusk",o[o.SpiritOfTheLiar=3751917992]="SpiritOfTheLiar",o[o.SpiritOfTheGyrfalcon=3751917993]="SpiritOfTheGyrfalcon",o[o.SpiritOfTheCyrtarachne=3751917994]="SpiritOfTheCyrtarachne",o[o.SpiritOfRenewal=3751917995]="SpiritOfRenewal",o[o.SpiritOfCaliban=3751917996]="SpiritOfCaliban",o[o.SpiritOfTheFoetracer=3751917997]="SpiritOfTheFoetracer",o[o.SpiritOfGalanor=3751917998]="SpiritOfGalanor",o[o.SpiritOfTheDragon=3751917999]="SpiritOfTheDragon",o}(J||{});const De={[J.SpiritOfTheSwarm]:"Spirit of the Swarm",[J.SpiritOfTheClaw]:"Spirit of the Claw",[J.SpiritOfTheStag]:"Spirit of the Stag",[J.SpiritOfStarfire]:"Spirit of Starfire",[J.SpiritOfApotheosis]:"Spirit of Apotheosis",[J.SpiritOfVesper]:"Spirit of Vesper",[J.SpiritOfTheNecrotic]:"Spirit of the Necrotic",[J.SpiritOfOsmiomancy]:"Spirit of Osmiomancy",[J.SpiritOfHarmony]:"Spirit of Harmony",[J.SpiritOfTheFilaments]:"Spirit of the Filaments",[J.SpiritOfCompetition]:"Spirit of Competition",[J.SpiritOfTheAssassin]:"Spirit of the Assassin",[J.SpiritOfInmostLight]:"Spirit of Inmost Light",[J.SpiritOfTheOphidian]:"Spirit of the Ophidian",[J.SpiritOfTheStarEater]:"Spirit of the Star-Eater",[J.SpiritOfSynthoceps]:"Spirit of Synthoceps",[J.SpiritOfVerity]:"Spirit of Verity",[J.SpiritOfTheArmamentarium]:"Spirit of the Armamentarium",[J.SpiritOfAlphaLupi]:"Spirit of Alpha Lupi",[J.SpiritOfContact]:"Spirit of Contact",[J.SpiritOfTheBear]:"Spirit of the Bear",[J.SpiritOfTheHorn]:"Spirit of the Horn",[J.SpiritOfScars]:"Spirit of Scars",[J.SpiritOfHoarfrost]:"Spirit of Hoarfrost",[J.SpiritOfSeverance]:"Spirit of Severance",[J.SpiritOfTheAbeyant]:"Spirit of the Abeyant",[J.SpiritOfTheEternalWarrior]:"Spirit of the Eternal Warrior",[J.SpiritOfTheCoyote]:"Spirit of the Coyote",[J.SpiritOfTheWormhusk]:"Spirit of the Wormhusk",[J.SpiritOfTheLiar]:"Spirit of the Liar",[J.SpiritOfTheGyrfalcon]:"Spirit of the Gyrfalcon",[J.SpiritOfTheCyrtarachne]:"Spirit of the Cyrtarachne",[J.SpiritOfRenewal]:"Spirit of Renewal",[J.SpiritOfCaliban]:"Spirit of Caliban",[J.SpiritOfTheFoetracer]:"Spirit of the Foetracer",[J.SpiritOfGalanor]:"Spirit of Galanor",[J.SpiritOfTheDragon]:"Spirit of the Dragon"};var qe=C(7783),Le=C(6443);let ne=(()=>{class o{constructor(e,n,i,a,s){this.authService=e,this.http=n,this.status=i,this.logger=a,this.ngZone=s,this.logger.debug("HttpClientService","constructor","Initializing HttpClientService")}ngOnDestroy(){this.logger.debug("HttpClientService","ngOnDestroy","Destroying HttpClientService")}get refreshTokenExpired(){return this.refreshTokenExpiringAt<Date.now()}get authCode(){return localStorage.getItem("code")}set authCode(e){e?(this.logger.info("HttpClientService","authCode","Setting new auth code"),localStorage.setItem("code",""+e)):(this.logger.info("HttpClientService","authCode","Clearing auth code from storage"),localStorage.removeItem("code"))}get accessToken(){return localStorage.getItem("auth-accessToken")}set accessToken(e){e?(this.logger.info("HttpClientService","auth-accessToken","Setting new access token: [REDACTED]"),localStorage.setItem("auth-accessToken",""+e)):(this.logger.info("HttpClientService","auth-accessToken","Clearing access token"),localStorage.removeItem("auth-accessToken"))}get refreshToken(){return localStorage.getItem("auth-refreshToken")}set refreshToken(e){e?(this.logger.info("HttpClientService","auth-refreshToken","Setting new refresh token: [REDACTED]"),localStorage.setItem("auth-refreshToken",""+e)):(this.logger.info("HttpClientService","auth-refreshToken","Clearing refresh token"),localStorage.removeItem("auth-refreshToken"))}get refreshTokenExpiringAt(){let e=localStorage.getItem("auth-refreshToken-expireDate")||"0";return e?Number.parseInt(e):0}set refreshTokenExpiringAt(e){e?(this.logger.info("HttpClientService","auth-refreshToken-expireDate","Setting new refresh token"),localStorage.setItem("auth-refreshToken-expireDate",""+e)):(this.logger.info("HttpClientService","auth-refreshToken-expireDate","Clearing refresh token"),localStorage.removeItem("auth-refreshToken-expireDate"))}get lastAuthRefresh(){let e=localStorage.getItem("auth-refreshToken-lastRefreshDate")||"0";return e?Number.parseInt(e):0}set lastAuthRefresh(e){e?localStorage.setItem("auth-refreshToken-lastRefreshDate",e.toString()):localStorage.removeItem("auth-refreshToken-lastRefreshDate")}isAuthenticated(){return!!this.accessToken}autoRegenerateTokens(){var e=this;return(0,_.A)(function*(){return!(e.refreshToken&&Date.now()<e.refreshTokenExpiringAt&&Date.now()>e.lastAuthRefresh+18e5)||(yield e.generateTokens(!0))})()}generateTokens(e=!1){var n=this;return(0,_.A)(function*(){n.logger.info("HttpClientService","generateTokens",`Generate auth tokens, refresh based on refresh_token: ${e}`);const i=K.c.clientId,a=K.c.client_secret;let m=`grant_type=authorization_code&code=${n.authCode}&client_id=${i}&client_secret=${a}`;return e&&(m=`grant_type=refresh_token&refresh_token=${n.refreshToken}&client_id=${i}&client_secret=${a}`),yield n.http.post("https://www.bungie.net/Platform/App/OAuth/Token/",m,{headers:{"Content-Type":"application/x-www-form-urlencoded","X-API-Key":K.c.apiKey}}).toPromise().then(p=>(n.logger.info("HttpClientService","generateTokens",`generateTokens: {"access_token":"[REDACTED]","token_type":"${p.token_type}","expires_in":${p.expires_in},"refresh_token":"[REDACTED]","refresh_expires_in":${p.refresh_expires_in},"membership_id":"${p.membership_id}"}`),n.accessToken=p.access_token,n.refreshToken=p.refresh_token,n.refreshTokenExpiringAt=Date.now()+1e3*p.refresh_expires_in-1e4,n.lastAuthRefresh=Date.now(),n.ngZone.run(()=>{n.status.modifyStatus(f=>f.authError=!1)}),!0)).catch(function(){var p=(0,_.A)(function*(f){return n.logger.error("HttpClientService","generateTokens",JSON.stringify({err:f})),n.ngZone.run(()=>{n.status.modifyStatus(y=>y.authError=!0)}),!1});return function(f){return p.apply(this,arguments)}}())})()}clearLoginInfo(){this.lastAuthRefresh=null,this.refreshTokenExpiringAt=null,this.authCode=null,this.accessToken=null,this.refreshToken=null}$httpWithoutBearerToken(e){var n=this;return(0,_.A)(function*(){return n.$http(e,!1,!0,!1,2)})()}$httpWithoutApiKey(e){var n=this;return(0,_.A)(function*(){return n.$http(e,!1,!1,!1,2)})()}$httpPost(e){var n=this;return(0,_.A)(function*(){return n.http.post(e.url,e.body,{params:e.params,headers:{"X-API-Key":K.c.apiKey,Authorization:"Bearer "+n.accessToken}}).pipe((0,qe.L)(2)).toPromise().catch(function(){var i=(0,_.A)(function*(a){n.logger.error("HttpClientService","$httpPost",a)});return function(a){return i.apply(this,arguments)}}())})()}$http(e,n,i=!0,a=!0,s=2){var l=this;return(0,_.A)(function*(){if(a&&(l.refreshTokenExpired||!(yield l.autoRegenerateTokens())))return l.isAuthenticated()?(l.logger.warn("HttpClientService","$http","Refresh token expired or token generation failed, user should be logged out"),l.status.setAuthError(),n&&(l.clearLoginInfo(),l.authService.logout()),null):(l.logger.warn("HttpClientService","$http","User is not authenticated"),null);let m={params:e.params,headers:{}};return i&&(m.headers["X-API-Key"]=K.c.apiKey),a&&(l.accessToken?m.headers.Authorization="Bearer "+l.accessToken:l.logger.error("HttpClientService","$http","No access token available for authenticated request")),l.http.get(e.url,m).pipe((0,qe.L)(s)).toPromise().then(p=>(l.status.clearApiError(),p)).catch(function(){var p=(0,_.A)(function*(f){return console.error("HTTP Error: ",e.url,"Options: ",m),l.logger.error("HttpClientService","$http",f),K.c.offlineMode?l.logger.debug("HttpClientService","$http","Offline mode, ignoring API error"):"SystemDisabled"==f.error?.ErrorStatus?(l.logger.info("HttpClientService","$http","System is disabled. Not revoking auth, system is probably down for maintenance."),l.status.setApiError()):500==f.status?(l.logger.info("HttpClientService","$http","Auth Error, probably expired token"),n&&(l.status.setAuthError(),l.clearLoginInfo(),l.authService.logout())):401==f.status?(l.logger.info("HttpClientService","$http","Invalid credentials error, probably expired token"),n&&(l.status.setAuthError(),l.clearLoginInfo(),l.authService.logout())):"Internal Server Error"!=f.ErrorStatus?l.logger.info("HttpClientService","$http","API-Error"):(l.logger.info("HttpClientService","$http","Generic API-Error"),l.status.setApiError()),null});return function(f){return p.apply(this,arguments)}}())})()}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(Vt),t.KVO(Le.Qq),t.KVO(V),t.KVO(Q.so),t.KVO(t.SKi))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var Mn=C(4999);let He=(()=>{class o{constructor(e,n,i,a){this.http=e,this.status=n,this.auth=i,this.logger=a,this.logger.debug("MembershipService","constructor","Initializing MembershipService"),this.auth.logoutEvent.subscribe(s=>this.clearCachedData())}ngOnDestroy(){this.logger.debug("MembershipService","ngOnDestroy","Destroying MembershipService")}clearCachedData(){this.logger.debug("MembershipService","clearCachedData","Clearing cached membership data"),localStorage.removeItem("user-membershipInfo"),localStorage.removeItem("user-membershipInfo-lastDate")}getMembershipDataForCurrentUser(){var e=this;return(0,_.A)(function*(){if(!e.http.isAuthenticated())return void e.logger.warn("MembershipService","getMembershipDataForCurrentUser","User is not authenticated");var n=JSON.parse(localStorage.getItem("user-membershipInfo")||"null"),i=JSON.parse(localStorage.getItem("user-membershipInfo-lastDate")||"0");if(n&&Date.now()-i<864e5)return ze(n),n;e.logger.info("MembershipService","getMembershipDataForCurrentUser","Fetching membership data for current user");let a=yield(0,Mn.S2)(s=>e.http.$http(s,!0));if(a){let s=a?.Response.destinyMemberships;e.logger.info("MembershipService","getMembershipDataForCurrentUser",`Memberships: ${JSON.stringify(s)}`),s=s.filter(m=>0==m.crossSaveOverride&&5!=m.membershipType||m.crossSaveOverride==m.membershipType),e.logger.info("MembershipService","getMembershipDataForCurrentUser",`Filtered Memberships: ${JSON.stringify(s)}`);let l=null;if(1==s?.length)l=s?.[0];else{let m=s.findIndex(f=>f.membershipId==a?.Response.primaryMembershipId),p=0;for(let f in s){const y=s?.[f],S=yield(0,v.E$)(u=>e.http.$http(u,!1),{components:[100],membershipType:y.membershipType,destinyMembershipId:y.membershipId});if(S&&S.Response?.profile.data?.dateLastPlayed){let u=Date.parse(S.Response?.profile.data?.dateLastPlayed);u>p&&(p=u,m=f)}}m<0&&(e.logger.error("MembershipService","getMembershipDataForCurrentUser","PrimaryMembershipId was not found"),m=0,e.status.setAuthError()),l=s?.[m],e.logger.info("MembershipService","getMembershipDataForCurrentUser","Selected membership data for the last logged in membership.")}return localStorage.setItem("user-membershipInfo",JSON.stringify(l)),localStorage.setItem("user-membershipInfo-lastDate",JSON.stringify(Date.now())),ze(l),l}return e.logger.error("MembershipService","getMembershipDataForCurrentUser","Failed to fetch membership data for current user"),void(e.status.getStatus().apiError||e.status.setApiError())})()}getCharacters(){var e=this;return(0,_.A)(function*(){let n=yield e.getMembershipDataForCurrentUser();if(!n)return e.status.getStatus().apiError||e.status.setApiError(),[];e.status.clearAuthError(),e.status.clearApiError();const i=yield(0,v.E$)(a=>e.http.$http(a,!0),{components:[200],membershipType:n.membershipType,destinyMembershipId:n.membershipId});return i?.Response.characters.data&&e.status.clearApiError(),Object.values(i?.Response.characters.data||{}).map(a=>({characterId:a.characterId,clazz:a.classType,emblemUrl:a.emblemBackgroundPath,lastPlayed:Date.parse(a.dateLastPlayed)}))||[]})()}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(ne),t.KVO(V),t.KVO(Vt),t.KVO(Q.so))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function Je(o,r,e,n){const i={2996146975:0,392767087:0,1943323491:0,1735777505:0,144602215:0,4244567218:0};for(let p of r)p.statTypeHash in i&&(i[p.statTypeHash]+=p.value);const a=[e[6],e[7],e[8],e[9]];o.isExotic&&o.slot===O.s.ArmorSlotClass&&(a.push(e[10]),a.push(e[11])),o.statPlugHashes=a;var s=a.map(p=>n[p||""]).filter(p=>null!=p);for(let p of s)for(let f of p.investmentStats)f.statTypeHash in i&&(i[f.statTypeHash]+=f.value);(0,W.lq)(o,i);const l=Object.entries(i).filter(([p,f])=>f>0);if(l.length>3)return;o.archetypeStats=[];const m=[d.uD.StatWeapon,d.uD.StatHealth,d.uD.StatClass,d.uD.StatGrenade,d.uD.StatSuper,d.uD.StatMelee];for(let p=0;p<m.length;p++){const y=d.A2[m[p]];l.find(([S,u])=>parseInt(S)==y)&&o.archetypeStats.push(p)}}let we=(()=>{class o{get manifestUpdated$(){return this.manifestUpdatedSubject.asObservable()}constructor(e,n,i,a,s,l){this.status=e,this.http=n,this.db=i,this.config=a,this.membership=s,this.logger=l,this.manifestUpdatedSubject=new G.B7,this.manifestAlreadyUpdated=!1,this.logger.debug("BungieApiService","constructor","Initializing BungieApiService")}ngOnDestroy(){this.logger.debug("BungieApiService","ngOnDestroy","Destroying BungieApiService")}transferItem(e,n,i=!1){var a=this;return(0,_.A)(function*(){let s=yield a.membership.getMembershipDataForCurrentUser();if(!s)return a.status.getStatus().apiError||a.status.setAuthError(),!1;a.status.clearAuthError(),a.status.clearApiError();let l=yield(0,v.Gq)(p=>a.http.$http(p,!1),{membershipType:s.membershipType,destinyMembershipId:s.membershipId,itemInstanceId:e,components:[307]}),m=!1;if(!l)return!1;if(l.Response.characterId!=n){2!=l.Response.item.data?.location&&(yield a.moveItemToVault(l.Response.item.data?.itemInstanceId||""),l=yield(0,v.Gq)(f=>a.http.$http(f,!1),{membershipType:s.membershipType,destinyMembershipId:s.membershipId,itemInstanceId:e,components:[307]}));const p={characterId:n,membershipType:s.membershipType,itemId:l?.Response.item.data?.itemInstanceId||"",itemReferenceHash:l?.Response.item.data?.itemHash||0,stackSize:1,transferToVault:!1};m=!!(yield(0,v.LF)(f=>a.http.$httpPost(f),p))}if(i){let p={characterId:n,membershipType:s.membershipType,stackSize:1,itemId:l?.Response.item.data?.itemInstanceId||"",itemReferenceHash:l?.Response.item.data?.itemHash||0};m=!!(yield(0,v.Ci)(f=>a.http.$httpPost(f),p))}return m})()}moveItemToVault(e){var n=this;return(0,_.A)(function*(){n.logger.info("BungieApiService","moveItemToVault",`itemInstanceId: ${e}`);let i=yield n.membership.getMembershipDataForCurrentUser();if(!i)return void(n.status.getStatus().apiError||n.status.setAuthError());n.status.clearAuthError(),n.status.clearApiError();const a=yield(0,v.Gq)(l=>n.http.$http(l,!1),{membershipType:i.membershipType,destinyMembershipId:i.membershipId,itemInstanceId:e,components:[307]}),s={characterId:a?.Response.characterId||"",membershipType:i.membershipType,itemId:a?.Response.item.data?.itemInstanceId||"",itemReferenceHash:a?.Response.item.data?.itemHash||0,stackSize:1,transferToVault:!0};yield(0,v.LF)(l=>n.http.$httpPost(l),s)})()}getUnlockedExoticArmor(e){var n=this;return(0,_.A)(function*(){const i=(yield n.db.manifestCollectibles.toArray()).reduce((s,l)=>(s[l.hash]=l.itemHash,s),{}),a=Object.values(e).flatMap(s=>Object.entries(s.collectibles??{})).filter(([s,{state:l}])=>0==(1&l)&&i[parseInt(s)]).map(([s,l])=>i[parseInt(s)]);return new Set(a)})()}updateInventory(e=!1){var n=this;return(0,_.A)(function*(){if(!n.http.isAuthenticated())return n.logger.warn("BungieApiService","updateInventory","User is not authenticated"),null;if(K.c.offlineMode)return n.logger.info("BungieApiService","updateInventory","offline mode, skipping"),null;if(!e&&localStorage.getItem("d2ap-inventory-lastDate")&&localStorage.getItem("d2ap-db-lastName")==n.db.inventoryArmor.db.name&&Date.now()-Number.parseInt(localStorage.getItem("d2ap-inventory-lastDate")||"0")<18e5)return n.logger.info("BungieApiService","updateInventory","Inventory recently updated, skipping"),null;let i=yield n.membership.getMembershipDataForCurrentUser();if(!i)return n.status.getStatus().apiError||n.status.setAuthError(),null;n.status.clearAuthError(),n.status.clearApiError(),n.logger.info("BungieApiService","updateInventory","Requesting Profile");let a=yield(0,v.E$)(H=>n.http.$http(H,!0),{components:[205,201,103,102,304,300,302,305,308,310,800],membershipType:i.membershipType,destinyMembershipId:i.membershipId});const s=yield n.getUnlockedExoticArmor(a.Response.characterCollectibles.data??{});let l=a.Response.profileInventory.data?.items||[];for(let H in a.Response.characterEquipment.data)l=l.concat(a.Response.characterEquipment.data[H].items);for(let H in a.Response.characterInventories.data)l=l.concat(a.Response.characterInventories.data[H].items);n.updateMaterials(l,a);const m=new Set(l.map(H=>H.itemHash));s.forEach(H=>m.add(H));const p=Array.from(m).sort().join(","),f=localStorage.getItem("user-armorItems")||"";if(!e&&p===f&&p.length>0)return n.logger.info("BungieApiService","updateInventory","Item hashes unchanged, and items are present, skipping armor processing"),localStorage.setItem("d2ap-inventory-lastDate",Date.now().toString()),n.status.clearApiError(),n.logger.info("BungieApiService","updateInventory","No changes in inventory detected, skipping processing"),null;let y=yield n.db.manifestArmor.toArray();const S=y.filter(H=>m.has(H.hash)),u=y.filter(H=>19==H.itemType),Y=Object.fromEntries(S.map(H=>[H.hash,H])),j=Object.fromEntries(u.map(H=>[H.hash,H]));let N=n.updateArmor(l,a,Y,j);const et=n.updateCollectionRolls(s,Y,j);return N=N.concat(et),yield n.updateDatabaseItems(N),localStorage.setItem("user-armorItems",p),localStorage.setItem("d2ap-inventory-lastDate",Date.now().toString()),n.status.clearApiError(),N})()}updateMaterials(e,n){var i=e.filter(s=>[3853748946,4257549984,4257549985,3467984096].indexOf(s.itemHash)>-1).reduce((s,l)=>(l.itemHash.toString()in s||(s[l.itemHash]=0),s[l.itemHash]+=l.quantity,s),{});let a=n.Response.profileCurrencies.data?.items.filter(s=>3159615086==s.itemHash)||[];i[3159615086]=a.length>0?a[0].quantity:0,localStorage.setItem("user-materials",JSON.stringify(i))}updateArmor(e,n,i,a){return e.filter(s=>!!s.itemInstanceId).filter(s=>3284755031!==s.bucketHash).filter(s=>!!((n.Response.itemComponents.stats.data||{})[s.itemInstanceId||""]?.stats||{})[392767087]).filter(s=>!!((n.Response.itemComponents.instances.data||{})[s.itemInstanceId||""]||{}).energy).map(s=>{let m=(n.Response.itemComponents.instances.data||{})[s.itemInstanceId||""]||{};if(!i[s.itemHash])return this.logger.warn("BungieApiService","updateInventory",`Missing manifest item for item hash: ${s.itemHash}`),null;let p=(0,W.be)(i[s.itemHash],s.itemInstanceId||"",W.h$.Inventory);if(this.processArmorSystemAndTuning(p,m,n,s,a),p.isExotic&&p.slot===O.s.ArmorSlotClass){p.exoticPerkHash=[];const f=n.Response.itemComponents.sockets.data?.[s.itemInstanceId]?.sockets||[];for(const y of f)y.plugHash&&Object.keys(De).map(Number).includes(y.plugHash)&&p.exoticPerkHash.push(y.plugHash)}return p.energyLevel=m.energy?m.energy.energyCapacity:0,this.processStatsAndPerks(p,s,n,i,a),p}).filter(Boolean)}processArmorSystemAndTuning(e,n,i,a,s){if(n.gearTier){e.armorSystem=nt.V.Armor3,e.tier=n.gearTier;try{const l=i.Response.itemComponents.reusablePlugs.data?.[a.itemInstanceId]?.plugs;if(l){const m=Object.values(l).find(p=>p.length>1&&p.some(f=>3122197216==f.plugItemHash));if(m&&m.length>1){const p=m.find(f=>3122197216!=f.plugItemHash);if(p){const f=p.plugItemHash,S=s[f]?.investmentStats.find(u=>u.value>0)?.statTypeHash;S&&(e.tuningStat=d.C5[S])}}}}catch(l){this.logger.error("BungieApiService","updateInventory",`Error while getting tuning stat for item ${a.itemInstanceId}: ${l}`)}}else e.armorSystem=e.isExotic&&e.slot===O.s.ArmorSlotClass?nt.V.Armor3:nt.V.Armor2}processStatsAndPerks(e,n,i,a,s){const l=i.Response.itemComponents.sockets.data||{},m=l[n.itemInstanceId]?.sockets.map(p=>p.plugHash)??[];if(Je(e,a[n.itemHash]?.investmentStats??[],m,s),e.isExotic&&e.slot===O.s.ArmorSlotClass){let f=(i.Response.itemComponents.stats.data||{})[n.itemInstanceId||""]?.stats||{};for(let S=0;S<7;S++){const u=l[n.itemInstanceId]?.sockets[S];if(!u||!u.plugHash)continue;const Y=s[u.plugHash];if(Y&&0!=Y.investmentStats.length)for(const j of Y.investmentStats)j.statTypeHash in f&&(f[j.statTypeHash].value-=j.value)}const y=Object.entries(f).map(([S,u])=>({hash:parseInt(S),value:u.value})).sort((S,u)=>u.value-S.value);if(y.length>=3){const S=y[2].hash;e.archetypeStats.push(Object.values(d.A2).indexOf(S));const u=(0,W.DN)(e);u[S]+=13,(0,W.lq)(e,u)}}for(let p of m){if(!p)continue;const f=s[p];if(!f||"Upgrade Armor"!==f.name)continue;const y=f.investmentStats.find(S=>S.statTypeHash==d.A2[d.uD.StatWeapon]);y&&(e.armorSystem==nt.V.Armor3?e.masterworkLevel=y.value:e.armorSystem==nt.V.Armor2&&(e.masterworkLevel=2==y.value?5:0))}e.perk==d.dm.SlotArtifice&&((((i.Response.itemComponents.perks.data||{})[n.itemInstanceId||""]||{}).perks||[]).filter(S=>229248542==S.perkHash).length>0||(e.perk=d.dm.None),e.isExotic&&e.slot!==O.s.ArmorSlotClass&&m.filter(u=>720825311==u).length>0&&(e.perk=d.dm.SlotArtifice))}updateCollectionRolls(e,n,i){return Array.from(e).map(a=>{const s=n[a];if(!s)return this.logger.error("BungieApiService","updateInventory",`Couldn't find manifest item for exotic: ${a}`),null;const l=(0,W.be)(s,`c${s.hash}`,W.h$.Collections);return Je(l,s.investmentStats,s.socketEntries.map(m=>m.singleInitialItemHash),i),l}).filter(Boolean)}updateDatabaseItems(e){var n=this;return(0,_.A)(function*(){yield n.db.inventoryArmor.filter(s=>s.source==W.h$.Inventory).delete(),yield n.db.inventoryArmor.filter(s=>s.source==W.h$.Collections).delete();const a=(yield n.db.inventoryArmor.toArray()).filter(s=>null==s.source||null==s.source).map(s=>s.id);yield n.db.inventoryArmor.bulkDelete(a),yield n.db.inventoryArmor.bulkAdd(e)})()}getArmorPerk(e){if(K.c.featureFlags.enableGuardianGamesFeatures&&(1013401891===e.hash||366019830===e.hash||537041732==e.hash))return d.dm.GuardianGamesClassItem;const n=e.sockets?.socketEntries??[];if(n.find(i=>1402==i.reusablePlugSetHash)||n.find(i=>1403==i.reusablePlugSetHash)||n.find(i=>1460==i.reusablePlugSetHash))return d.dm.SlotArtifice;for(const i of n){let a=i.singleInitialItemHash;if(!a)continue;a=d.B0[a]||a;const s=Object.entries(d.zJ).find(l=>l[1]==a);if(s)return parseInt(s[0])}for(const i of n){let a=i.socketTypeHash;if(!a)continue;let s=d.q7[a]||d.dm.None;if(s!=d.dm.None)return s}return d.dm.None}updateVendorNames(e){var n=this;return(0,_.A)(function*(){const a=Object.values(e.DestinyVendorDefinition).map(s=>({vendorId:s.hash,vendorName:s.displayProperties.name,vendorDescription:s.displayProperties.description,vendorIdentifier:s.vendorIdentifier}));n.logger.info("BungieApiService","updateVendorNames",`Storing ${a.length} vendor names in localStorage`),yield n.db.vendorNames.clear(),yield n.db.vendorNames.bulkAdd(a)})()}updateVendorItemSubScreens(e){var n=this;return(0,_.A)(function*(){let a=Object.values(e.DestinyInventoryItemDefinition).filter(s=>null!=s.preview?.previewVendorHash&&0!=s.preview?.previewVendorHash).map(s=>({itemHash:s.hash,vendorHash:s.preview.previewVendorHash}));yield n.db.vendorItemSubscreen.clear(),n.logger.info("BungieApiService","updateVendorItemSubScreens",`Storing ${a.length} vendor item subscreens in localStorage`),yield n.db.vendorItemSubscreen.bulkPut(a)})()}updateAbilities(e){var n=this;return(0,_.A)(function*(){const i=Object.values(e.DestinyInventoryItemDefinition).filter(a=>a.plug?.plugCategoryIdentifier?.match(/\.(supers|grenades|class_abilities|melee|aspects|fragments)$/));n.logger.info("BungieApiService","updateAbilities",`Storing ${i.length} ability hashes in database`),yield n.db.writeCharacterAbilities(i)})()}updateExoticCollectibles(e){var n=this;return(0,_.A)(function*(){const i=Object.entries(e.DestinyCollectibleDefinition).filter(([a,s])=>{const l=e.DestinyInventoryItemDefinition[s.itemHash];return 6==l?.inventory?.tierType&&2==l?.itemType}).map(([a,s])=>({hash:parseInt(a),itemHash:s.itemHash}));n.logger.info("BungieApiService","updateExoticCollectibles",`Storing ${i.length} exotic armor hashes`),yield n.db.manifestCollectibles.clear(),yield n.db.manifestCollectibles.bulkPut(i)})()}isManifestCacheValid(e){return K.c.offlineMode?(this.logger.info("BungieApiService","isManifestCacheValid","marking manifest cache as valid due to offline mode"),!0):Date.now()-e.updatedAt<864e5&&(this.logger.info("BungieApiService","isManifestCacheValid","marking manifest cache as valid, Manifest is less than a day old"),!0)}isCharacterCacheValid(e){return K.c.offlineMode?(this.logger.info("BungieApiService","isCharacterCacheValid","marking character cache as valid due to offline mode"),!0):e&&e.characters&&0!==e.characters.length?Date.now()-e.updatedAt<864e5&&(this.logger.info("BungieApiService","isCharacterCacheValid","marking character cache as valid, Character data is less than a day old"),!0):(this.logger.info("BungieApiService","isCharacterCacheValid","no character data in cache, marking as invalid"),!1)}updateManifest(e=!1){var n=this;return(0,_.A)(function*(){const i=n.db.lastManifestUpdate();let a=null;if(i&&!e){let y=n.isManifestCacheValid(i);if(!y){n.logger.info("BungieApiService","updateManifest","Manifest Cache is considered invalid, Checking manifest version"),a=yield(0,v.Ym)(u=>n.http.$httpWithoutBearerToken(u));const S=a.Response.version;i.version==S?(n.logger.info("BungieApiService","updateManifest","Manifest is last version"),y=!0):n.logger.info("BungieApiService","updateManifest",`Manifest version has changed. Cache version: ${i.version}, Current version: ${S}`)}if(y)return n.logger.info("BungieApiService","updateManifest","Manifest cache is valid, skipping update"),n.manifestAlreadyUpdated||(n.manifestAlreadyUpdated=!0,n.manifestUpdatedSubject.next()),null}n.logger.info("BungieApiService","updateManifest","Requesting manifest"),null==a&&(a=yield(0,v.Ym)(y=>n.http.$httpWithoutBearerToken(y))),n.logger.info("BungieApiService","updateManifest",`Manifest version: ${a.Response.version}`);const s=yield(0,B.eW)(y=>n.http.$httpWithoutApiKey(y),{destinyManifest:a.Response,tableNames:["DestinyInventoryItemDefinition","DestinyCollectibleDefinition"],language:"en"});n.logger.info("BungieApiService","updateManifest",`Fetched manifest tables: ${Object.keys(s).join(", ")}`),yield n.updateAbilities(s);const l=yield(0,B.eW)(y=>n.http.$httpWithoutApiKey(y),{destinyManifest:a.Response,tableNames:["DestinyVendorDefinition","DestinySocketTypeDefinition","DestinyEquipableItemSetDefinition","DestinySandboxPerkDefinition"],language:"en"});n.logger.info("BungieApiService","updateManifest",`Fetched manifest tables: ${Object.keys(l).join(", ")}`),yield n.updateVendorNames(l),yield n.updateEquipableItemSetDefinitions(l),yield n.updateSandboxPerks(l);const m={...s,...l};yield n.updateExoticCollectibles(m),yield n.updateVendorItemSubScreens(m);const p=a.Response.version;let f=yield n.extractArmorDataFromManifest(a,m);return yield n.db.writeManifestArmor(f,p),n.manifestUpdatedSubject.next(),m})()}extractArmorDataFromManifest(e,n){var i=this;return(0,_.A)(function*(){const a=yield(0,B.eW)(l=>i.http.$httpWithoutApiKey(l),{destinyManifest:e.Response,tableNames:["DestinyCollectibleDefinition","DestinyPresentationNodeDefinition"],language:"en"});return Object.entries(n.DestinyInventoryItemDefinition).filter(([l,m])=>!!(19==m.itemType||16==m.itemType&&m.itemCategoryHashes&&m.itemCategoryHashes.indexOf(50)>-1||2==m.itemType||3448274439==m.inventory?.bucketTypeHash||3551918588==m.inventory?.bucketTypeHash||14239492==m.inventory?.bucketTypeHash||20886954==m.inventory?.bucketTypeHash||1585787867==m.inventory?.bucketTypeHash&&6==m.inventory.tierType)).map(([l,m])=>{let p=O.s.ArmorSlotNone;(3448274439==m.inventory?.bucketTypeHash||(m.itemCategoryHashes?.indexOf(45)||-1)>-1)&&(p=O.s.ArmorSlotHelmet),(3551918588==m.inventory?.bucketTypeHash||(m.itemCategoryHashes?.indexOf(46)||-1)>-1)&&(p=O.s.ArmorSlotGauntlet),(14239492==m.inventory?.bucketTypeHash||(m.itemCategoryHashes?.indexOf(47)||-1)>-1)&&(p=O.s.ArmorSlotChest),(20886954==m.inventory?.bucketTypeHash||(m.itemCategoryHashes?.indexOf(48)||-1)>-1)&&(p=O.s.ArmorSlotLegs),(1585787867==m.inventory?.bucketTypeHash||(m.itemCategoryHashes?.indexOf(49)||-1)>-1)&&(p=O.s.ArmorSlotClass);const f=(m.sockets?.socketEntries.filter(et=>2512726577==et.socketTypeHash||1108765570==et.socketTypeHash||959256494==et.socketTypeHash||2512726577==et.socketTypeHash||3219375296==et.socketTypeHash||968742181==et.socketTypeHash)||[]).length>0,y=6==m.inventory?.tierType;let S=[];y&&(S=(m.sockets?.socketEntries.filter(H=>965959289==H.socketTypeHash).map(H=>H.singleInitialItemHash)||[]).filter(H=>null!=H));var u=[1862490585,1862490584,1862490584,1862490583,2471437758],Y=m.quality?.versions.filter(et=>u.includes(et.powerCapHash)).length==m.quality?.versions.length,j=m.classType;if(3==j&&f){if(null!=m.collectibleHash){let et=a.DestinyCollectibleDefinition[m.collectibleHash].parentNodeHashes;void 0!==et&&(-1!=et.findIndex(H=>"Warlock"==a.DestinyPresentationNodeDefinition[H].displayProperties.name)&&(j=2),-1!=et.findIndex(H=>"Titan"==a.DestinyPresentationNodeDefinition[H].displayProperties.name)&&(j=0),-1!=et.findIndex(H=>"Hunter"==a.DestinyPresentationNodeDefinition[H].displayProperties.name)&&(j=1))}3==j&&f&&m.sockets?.socketEntries.forEach(et=>{let H=n.DestinySocketTypeDefinition[et.socketTypeHash];if(void 0!==H){if(-1!=H.plugWhitelist.findIndex(At=>At.categoryIdentifier.includes("warlock")))return void(j=2);if(-1!=H.plugWhitelist.findIndex(At=>At.categoryIdentifier.includes("titan")))return void(j=0);if(-1!=H.plugWhitelist.findIndex(At=>At.categoryIdentifier.includes("hunter")))return void(j=1)}})}const N=!!m?.isFeaturedItem;return{hash:m.hash,icon:m.displayProperties.icon,watermarkIcon:N?m.iconWatermarkFeatured:m.iconWatermark,name:m.displayProperties.name,description:m.displayProperties.description,clazz:j,armorSystem:f?2:1,slot:p,isExotic:y?1:0,isSunset:Y,rarity:m.inventory?.tierType,exoticPerkHash:S,itemType:m.itemType,itemSubType:m.itemSubType,investmentStats:m.investmentStats,perk:i.getArmorPerk(m),gearSetHash:i.getGearSet(m,n.DestinyEquipableItemSetDefinition),socketEntries:m.sockets?.socketEntries??[],isFeatured:N}})})()}getGearSet(e,n){for(const i of Object.values(n))if(i.setItems.indexOf(e.hash)>-1)return i.hash;return null}updateSandboxPerks(e){const n=e.DestinySandboxPerkDefinition;if(!n)return void this.logger.warn("BungieApiService","updateSandboxPerks","No sandbox perks found in manifest");const i=Object.entries(n).map(([a,s])=>s);this.db.sandboxPerkDefinition.clear(),this.logger.info("BungieApiService","updateSandboxPerks",`Storing ${i.length} sandbox perks in localStorage`),this.db.sandboxPerkDefinition.bulkPut(i)}updateEquipableItemSetDefinitions(e){const n=e.DestinyEquipableItemSetDefinition;if(!n)return void this.logger.warn("BungieApiService","updateEquipableItemSetDefinitions","No equipable item set definitions found in manifest");this.db.equipableItemSetDefinition.clear();const i=Object.entries(n).map(([a,s])=>s);this.logger.info("BungieApiService","updateEquipableItemSetDefinitions",`Storing ${i.length} equipable item set definitions in localStorage`),this.db.equipableItemSetDefinition.bulkPut(i)}moveItem(e,n,i){var a=this;return(0,_.A)(function*(){let s=yield a.membership.getMembershipDataForCurrentUser();if(!s)return a.status.getStatus().apiError||a.status.setAuthError(),!1;a.status.clearAuthError(),a.status.clearApiError();const l=yield(0,v.Gq)(m=>a.http.$http(m,!1),{membershipType:s.membershipType,destinyMembershipId:s.membershipId,itemInstanceId:e,components:[307]});return!!l&&(l.Response.characterId===i||(2!==l.Response.item.data?.location&&(yield a.moveItemToVault(e)),a.transferItem(e,i)))})()}swapItems(e,n,i){var a=this;return(0,_.A)(function*(){let s=yield a.membership.getMembershipDataForCurrentUser();if(!s)return a.status.getStatus().apiError||a.status.setAuthError(),!1;a.status.clearAuthError(),a.status.clearApiError();const l=yield(0,v.Gq)(p=>a.http.$http(p,!1),{membershipType:s.membershipType,destinyMembershipId:s.membershipId,itemInstanceId:e,components:[307]}),m=yield(0,v.Gq)(p=>a.http.$http(p,!1),{membershipType:s.membershipType,destinyMembershipId:s.membershipId,itemInstanceId:n,components:[307]});return!(!l||!m)&&(l.Response.characterId===m.Response.characterId?(yield a.moveItemToVault(e),!0):(yield a.moveItemToVault(e),a.transferItem(n,l.Response.characterId||"")))})()}equipItemById(e,n){var i=this;return(0,_.A)(function*(){let a=yield i.membership.getMembershipDataForCurrentUser();if(!a)return i.status.getStatus().apiError||i.status.setAuthError(),!1;i.status.clearAuthError(),i.status.clearApiError();const s=yield(0,v.Gq)(m=>i.http.$http(m,!1),{membershipType:a.membershipType,destinyMembershipId:a.membershipId,itemInstanceId:e,components:[307]});if(!s)return!1;const l={characterId:n,membershipType:a.membershipType,stackSize:1,itemId:s.Response.item.data?.itemInstanceId||"",itemReferenceHash:s.Response.item.data?.itemHash||0};return!!(yield(0,v.Ci)(m=>i.http.$httpPost(m),l))})()}getCharacterIdForCurrentClass(){var e=this;return(0,_.A)(function*(){const n=e.config.readonlyConfigurationSnapshot;let i=yield e.membership.getCharacters();return i=i.filter(a=>a.clazz==n.characterClass),0==i.length?null:i[0].characterId})()}moveResultItems(e,n=!1){var i=this;return(0,_.A)(function*(){for(let m of(e?.items||[]).flat())m.transferState=me.WAITING_FOR_TRANSFER;const a=yield i.getCharacterIdForCurrentClass();if(!a){for(let m of(e?.items||[]).flat())m.transferState=me.ERROR_DURING_TRANSFER;return{success:!1,allSuccessful:!1}}let s=!0;const l=(e?.items||[]).flat().sort(m=>m.exotic?1:-1);for(let m of l){m.transferState=me.TRANSFERRING;const p=yield i.transferItem(m.itemInstanceId,a,n);m.transferState=p?me.TRANSFERRED:me.ERROR_DURING_TRANSFER,p||(s=!1)}return{success:!0,allSuccessful:s}})()}importCurrentlyEquippedExotic(){var e=this;return(0,_.A)(function*(){if(K.c.offlineMode)return e.logger.info("BungieApiService","importCurrentlyEquippedExotic","offline mode, skipping"),!1;let n=yield e.membership.getMembershipDataForCurrentUser();if(!n)return e.status.getStatus().apiError||e.status.setAuthError(),!1;e.status.clearAuthError(),e.status.clearApiError();const i=yield e.getCharacterIdForCurrentClass();if(!i)return e.logger.warn("BungieApiService","importCurrentlyEquippedExotic","No character found for current class"),!1;e.logger.info("BungieApiService","importCurrentlyEquippedExotic",`Importing equipped exotic for character ${i}`);let a=yield(0,v.E$)(y=>e.http.$http(y,!0),{components:[205,305,300],membershipType:n.membershipType,destinyMembershipId:n.membershipId});const s=a.Response.characterEquipment.data?.[i];if(!s)return e.logger.warn("BungieApiService","importCurrentlyEquippedExotic","No equipment data found for character"),!1;const l=yield e.db.manifestArmor.toArray(),m=Object.fromEntries(l.map(y=>[y.hash,y]));let p=!1;const f=s.items.find(y=>{const S=m[y.itemHash];return S&&1===S.isExotic&&2===S.itemType});if(f){const y=m[f.itemHash];if(y){const S=l.filter(u=>1===u.isExotic&&2===u.itemType&&u.name===y.name&&u.clazz===y.clazz&&u.slot===y.slot).map(u=>u.hash);if(e.config.modifyConfiguration(u=>{u.selectedExotics=S}),p=!0,y.slot===O.s.ArmorSlotClass){const u=a.Response.itemComponents.sockets.data?.[f.itemInstanceId];if(u){const Y=e.extractExoticClassItemPerks(u.sockets);Y.length>0&&e.config.modifyConfiguration(j=>{j.selectedExoticPerks=[Y[0]||d.dm.Any,Y[1]||d.dm.Any]})}}}}return p})()}importCurrentlyEquippedSubclass(){var e=this;return(0,_.A)(function*(){if(K.c.offlineMode)return e.logger.info("BungieApiService","importCurrentlyEquippedSubclass","offline mode, skipping"),!1;let n=yield e.membership.getMembershipDataForCurrentUser();if(!n)return e.status.getStatus().apiError||e.status.setAuthError(),!1;e.status.clearAuthError(),e.status.clearApiError();const i=yield e.getCharacterIdForCurrentClass();if(!i)return e.logger.warn("BungieApiService","importCurrentlyEquippedSubclass","No character found for current class"),!1;e.logger.info("BungieApiService","importCurrentlyEquippedSubclass",`Importing equipped subclass for character ${i}`);let a=yield(0,v.E$)(p=>e.http.$http(p,!0),{components:[205,305,300],membershipType:n.membershipType,destinyMembershipId:n.membershipId});const s=a.Response.characterEquipment.data?.[i];if(!s)return e.logger.warn("BungieApiService","importCurrentlyEquippedSubclass","No equipment data found for character"),!1;let l=!1;const m=s.items.find(p=>3284755031===p.bucketHash);if(m){const p=e.config.readonlyConfigurationSnapshot.characterClass;let f=null;if(d.Bx[p])for(const[y,S]of Object.entries(d.Bx[p]))if(S===m.itemHash){f=y;break}f&&(e.config.modifyConfiguration(y=>{y.selectedModElement=Number(f),y.enabledMods=[]}),l=!0)}if(m&&m.itemInstanceId){const p=a.Response.itemComponents.sockets.data?.[m.itemInstanceId];if(p){const f=p.sockets.filter(y=>y.plugHash&&0!==y.plugHash).map(y=>y.plugHash).map(y=>{const S=Object.entries(F.v).find(([u,Y])=>Y.hash===y)?.[0];return S?Number(S):void 0}).filter(Boolean);f&&f.length>0&&(e.config.modifyConfiguration(y=>{e.logger.debug("BungieApiService","importCurrentlyEquippedSubclass",`Importing fragments: ${JSON.stringify(f)}`),y.enabledMods=f}),l=!0)}}return l})()}extractExoticClassItemPerks(e){const n=[];for(const i of e)i.plugHash&&Object.keys(De).map(Number).includes(i.plugHash)&&n.push(i.plugHash);return n}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(V),t.KVO(ne),t.KVO(It),t.KVO(E),t.KVO(He),t.KVO(Q.so))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();const Ue="user-vendor-nextRefreshTime";let En=(()=>{class o{constructor(e,n,i,a,s){this.membership=e,this.http=n,this.db=i,this.auth=a,this.logger=s,this.logger.debug("VendorsService","constructor","Initializing VendorsService"),this.auth.logoutEvent.subscribe(l=>this.clearCachedData())}ngOnDestroy(){this.logger.debug("VendorsService","ngOnDestroy","Destroying VendorsService")}clearCachedData(){localStorage.removeItem(Ue)}getVendorArmorItemsForCharacter(e,n,i){var a=this;return(0,_.A)(function*(){const s=yield(0,v.YQ)(j=>a.http.$http(j,!1),{components:[400,402],characterId:i,membershipType:n.membershipType,destinyMembershipId:n.membershipId,filter:0}),l=Object.entries(s.Response.vendors.data),m=new Map(l);let p=(yield Promise.all(Object.entries(s.Response.sales.data).map(function(){var j=(0,_.A)(function*([N,et]){let H=Object.values(et.saleItems).map(ot=>ot.itemHash);return(yield a.db.vendorItemSubscreen.bulkGet(H)).filter(ot=>null!=ot).map(ot=>({vendorHash:ot.vendorHash,parentHash:parseInt(N)}))});return function(N){return j.apply(this,arguments)}}()))).flat();const y=l.filter(([j,N])=>N.enabled&&N.canPurchase).filter(([j,N])=>{const et=p.find(H=>H.vendorHash.toString()==j)?.parentHash;return null==et||(m.get(et.toString())?.enabled??!1)}).filter(([j,N])=>void 0!==Object.entries(s.Response.sales.data?.[j]?.saleItems??{}).find(([et,H])=>e[H.itemHash]?.armorSystem==nt.V.Armor2||e[H.itemHash]?.armorSystem==nt.V.Armor3)).map(([j,N])=>({vendorHash:j,refreshDate:new Date(N.nextRefreshDate).getTime()})),S=[],u=Math.min(...y.map(j=>j.refreshDate)),Y=y.map(j=>{let N=j.vendorHash;return(0,v.f7)(et=>a.http.$http(et,!1),{components:[304],characterId:i,membershipType:n.membershipType,destinyMembershipId:n.membershipId,vendorHash:parseInt(N)}).then(et=>{const H=s.Response.sales.data?.[N]?.saleItems??{},At=et.Response.itemComponents.stats.data??{};for(const[Ot,ot]of Object.entries(H)){const Nt=e[ot.itemHash],wt=At[parseInt(Ot)];if(128==(128&ot.augments)||!Nt||!wt)continue;const Xe=Object.values(wt.stats).reduce((be,{statHash:Kl,value:Ql})=>(be[Kl]=Ql,be),{});let tt=N,Ut=p.find(be=>be.vendorHash.toString()==tt)?.parentHash?.toString();for(;null!=Ut&&tt!=Ut;)tt=Ut,Ut=p.find(be=>be.vendorHash.toString()==tt)?.parentHash?.toString();Ut=tt;const Sn=(0,W.be)(Nt,`v-${Ut}-${ot.itemHash}`,W.h$.Vendor);(0,W.lq)(Sn,Xe),S.push(Sn)}},et=>{a.logger.error("VendorsService","getVendorArmorItemsForCharacter",`Failed to get vendor: ${et}`)})});return yield Promise.all(Y),a.logger.info("VendorsService","getVendorArmorItemsForCharacter",`Collected ${S.length} vendor armor items for character ${i}`),{items:S,nextRefreshDate:u}})()}isVendorCacheValid(){const e=localStorage.getItem(Ue);if(!e)return!1;const n=new Date(e);return!!isFinite(n.getTime())&&(this.logger.debug("VendorsService","isVendorCacheValid",`Vendor Cache: nextVendorRefresh=${n}, now=${new Date}, shouldRefresh=${n>new Date}`),n>new Date)}writeVendorCache(e,n){var i=this;return(0,_.A)(function*(){i.logger.info("VendorsService","writeVendorCache",`Writing new vendor cache (${e.length} items), valid until ${n.toISOString()}`),yield i.db.inventoryArmor.where({source:W.h$.Vendor}).delete(),yield i.db.inventoryArmor.bulkPut(e),localStorage.setItem(Ue,n.toISOString())})()}updateVendorArmorItemsCache(){var e=this;return(0,_.A)(function*(){if(e.isVendorCacheValid())return e.logger.info("VendorsService","updateVendorArmorItemsCache","Using vendor items cache"),!1;const n=yield e.membership.getMembershipDataForCurrentUser(),i=yield e.membership.getCharacters(),a=(yield e.db.manifestArmor.toArray()).filter(s=>2==s.itemType).reduce((s,l)=>(s[l.hash]=l,s),{});try{const s=yield Promise.all(i.map(({characterId:f})=>n?e.getVendorArmorItemsForCharacter(a,n,f):(e.logger.error("VendorsService","updateVendorArmorItemsCache","No destiny membership found, cannot fetch vendor items"),{items:[],nextRefreshDate:Date.now()}))),l=s.flatMap(({items:f})=>f),m=Math.min(...s.map(({nextRefreshDate:f})=>f));if(m<=0||m===1/0)return e.logger.warn("VendorsService","updateVendorArmorItemsCache","No vendor items found"),!1;const p=Math.max(m,Date.now()+6e5);return yield e.writeVendorCache(l,new Date(p)).catch(f=>{e.logger.error("VendorsService","updateVendorArmorItemsCache",`Failed to write vendor cache: ${f}`)}),!0}catch(s){e.logger.error("VendorsService","updateVendorArmorItemsCache",`Failed to update vendor armor items cache: ${s}`);const l=new Date;return l.setMinutes(l.getMinutes()+5),yield e.writeVendorCache([],new Date(l)).catch(m=>{e.logger.error("VendorsService","updateVendorArmorItemsCache",`Failed to write vendor cache after error: ${m}`)}),!1}})()}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(He),t.KVO(ne),t.KVO(It),t.KVO(Vt),t.KVO(Q.so))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),Gt=(()=>{class o{constructor(e,n,i,a,s,l,m,p,f){var y=this;this.db=e,this.config=n,this.status=i,this.api=a,this.auth=s,this.httpClient=l,this.vendors=m,this.membership=p,this.logger=f,this.initialized=!1,this._config=Bt.buildEmptyConfiguration(),this.previouslyFetchedManifest=!1,this.refreshing=!1,f.debug("UserInformationService","constructor","Initializing UserInformationService"),this._characters=new A.m(1),this.characters=this._characters.asObservable(),this._inventory=new A.m(1),this.inventory=this._inventory.asObservable(),this._manifest=new A.m(1),this.manifest=this._manifest.asObservable(),this.auth.logoutEvent.subscribe(S=>this.clearCachedCharacterData()),this.loadCachedCharacterData(),this.httpClient.isAuthenticated()&&this.updateCharacterData(),this.config.configuration.pipe((0,Dt.B)(1e3)).subscribe(function(){var S=(0,_.A)(function*(u){y.logger.debug("UserInformationService","Configuration changed, requesting manifest/inventory refresh if needed"),y.requestRefreshManifestAndInventoryOnUserInteraction(u)});return function(u){return S.apply(this,arguments)}}()),f.debug("UserInformationService","constructor","Finished initializing UserInformationService")}initializeForAuthenticatedUser(){this.logger.debug("UserInformationService","initializeForAuthenticatedUser","Starting initialization for authenticated user"),this.updateCharacterData()}requestRefreshManifestAndInventoryOnUserInteraction(e){var n=this;return(0,_.A)(function*(){if(n.httpClient.isAuthenticated()){if(e){if((0,Jt.isEqual)(e,n._config))return;n.logger.debug("UserInformationService","Build configuration changed: "+ve(n._config,e)),n._config=structuredClone(e)}n.initialized=!0,yield n.refreshManifestAndInventory(!n.previouslyFetchedManifest),n.previouslyFetchedManifest=!0}else n.logger.info("UserInformationService","User is not authenticated, skipping router event handling")})()}refreshManifestAndInventory(e=!1,n=!1){var i=this;return(0,_.A)(function*(){if(i.refreshing)i.logger.warn("UserInformationService","refreshManifestAndInventory","Refresh already in progress, skipping new refresh request");else{i.refreshing=!0,i.logger.debug("UserInformationService","refreshManifestAndInventory","Refreshing inventory and manifest");try{let a=!1;try{a=yield i.updateManifestItems(n),yield i.updateInventoryItems(a||e),i.updateVendorsAsync()}catch(s){i.logger.error("UserInformationService","refreshManifestAndInventory","Error: "+s)}}finally{i.refreshing=!1}}})()}triggerInventoryUpdate(e=!1,n=!0){var i=this;return(0,_.A)(function*(){try{e&&(i.logger.debug("UserInformationService","triggerInventoryUpdate","Inventory update triggered, refreshing inventory observable"),i._inventory.next(null))}catch(a){i.logger.error("UserInformationService","triggerInventoryUpdate","Error: "+a)}})()}updateVendorsAsync(){if(!this.status.getStatus().updatingVendors&&!this.vendors.isVendorCacheValid()){if(!this.httpClient.isAuthenticated())return void this.logger.debug("UserInformationService","updateVendorsAsync","User is not authenticated, skipping vendor cache update");this.status.modifyStatus(e=>e.updatingVendors=!0),this.vendors.updateVendorArmorItemsCache().then(e=>{e&&this._config.includeVendorRolls&&this.triggerInventoryUpdate(e)}).catch(e=>{this.logger.error("UserInformationService","updateVendorsAsync","Error updating vendor cache: "+e)}).finally(()=>{this.status.modifyStatus(e=>e.updatingVendors=!1)})}}getItemCountForClass(e,n){var i=this;return(0,_.A)(function*(){let a=yield i.db.inventoryArmor.where("clazz").equals(e).toArray();return n&&(a=a.filter(s=>s.slot==n)),a=a.filter(s=>s.source==W.h$.Inventory),a.length})()}getExoticsForClass(e,n){var i=this;return(0,_.A)(function*(){let a=yield i.db.inventoryArmor.where("isExotic").equals(1).toArray();a=a.filter(l=>!(l.clazz!=e||l.armorSystem!=nt.V.Armor2&&l.armorSystem!=nt.V.Armor3||n&&l.slot!=n));let s=yield i.db.manifestArmor.where("isExotic").equals(1).toArray();return s=s.filter(l=>!(l.clazz!=e||l.armorSystem!=nt.V.Armor2&&l.armorSystem!=nt.V.Armor3||n&&l.slot!=n)),s.map(l=>{const m=a.filter(p=>p.hash==l.hash);return{items:[l],instances:m,inCollection:void 0!==m.find(p=>p.source===W.h$.Collections),inInventory:void 0!==m.find(p=>p.source===W.h$.Inventory),inVendor:void 0!==m.find(p=>p.source===W.h$.Vendor)}}).reduce((l,m)=>{const p=l.find(f=>f.items[0].name===m.items[0].name);return p?(p.items.push(m.items[0]),p.instances.push(...m.instances),p.inCollection=p.inCollection||m.inCollection,p.inInventory=p.inInventory||m.inInventory,p.inVendor=p.inVendor||m.inVendor):l.push({...m,items:[m.items[0]]}),l},[]).sort((l,m)=>l.items[0].name.localeCompare(m.items[0].name))})()}updateManifestItems(e=!1){var n=this;return(0,_.A)(function*(){if(n.status.getStatus().updatingManifest)return n.logger.error("UserInformationService","executeUpdateManifest","Already updating the manifest - abort"),!1;n.status.modifyStatus(i=>i.updatingManifest=!0);try{const i=yield n.api.updateManifest(e);return i&&n._manifest.next(null),!!i}finally{n.status.modifyStatus(i=>i.updatingManifest=!1)}})()}clearCachedCharacterData(){this.logger.debug("UserInformationService","clearCachedCharacterData","Clearing cached character data"),localStorage.removeItem("user-characters"),localStorage.removeItem("user-characters-lastDate"),localStorage.removeItem("user-materials"),this._characters.next([])}isCharacterCacheValid(){const e=this.getCharacterCache();return!!e&&this.api.isCharacterCacheValid(e)}loadCachedCharacterData(){const e=this.getCharacterCache();e&&this.api.isCharacterCacheValid(e)?(this._characters.next(e.characters),this.logger.info("UserInformationService","loadCachedCharacterData","Loaded valid cached character data")):(this._characters.next([]),this.logger.info("UserInformationService","loadCachedCharacterData","No valid cached character data found"))}getCharacterCache(){const e=localStorage.getItem("user-characters"),n=localStorage.getItem("user-characters-lastDate");if(!e||!n)return null;try{return{updatedAt:parseInt(n),characters:JSON.parse(e)}}catch(i){return this.logger.warn("UserInformationService","getCharacterCache","Failed to parse cached character data: "+i),null}}updateCharacterData(){var e=this;return(0,_.A)(function*(){if(!e.httpClient.isAuthenticated())return void e.logger.debug("UserInformationService","updateCharacterData","User not authenticated, skipping character data update");const n=e.getCharacterCache();if(n&&e.api.isCharacterCacheValid(n))return e.logger.info("UserInformationService","updateCharacterData","Character cache is still valid, skipping update"),void e._characters.next(n.characters);e.logger.info("UserInformationService","updateCharacterData","Fetching fresh character data");const i=yield e.membership.getCharacters();e._characters.next(i),e.config.modifyConfiguration(a=>{3==a.characterClass&&i.length>0&&(a.characterClass=i[0].clazz)}),localStorage.setItem("user-characters",JSON.stringify(i)),localStorage.setItem("user-characters-lastDate",Date.now().toString())})()}forceUpdateCharacterData(){var e=this;return(0,_.A)(function*(){if(!e.httpClient.isAuthenticated())return void e.logger.debug("UserInformationService","forceUpdateCharacterData","User not authenticated, skipping forced character data update");e.logger.info("UserInformationService","forceUpdateCharacterData","Forcing character data refresh");const n=yield e.membership.getCharacters();e._characters.next(n),e.config.modifyConfiguration(i=>{3==i.characterClass&&n.length>0&&(i.characterClass=n[0].clazz)}),localStorage.setItem("user-characters",JSON.stringify(n)),localStorage.setItem("user-characters-lastDate",Date.now().toString())})()}updateInventoryItems(e=!1,n=0){var i=this;return(0,_.A)(function*(){if(!i.httpClient.isAuthenticated())return i.logger.debug("UserInformationService","updateInventoryItems","User not authenticated, skipping inventory update"),!1;i.status.modifyStatus(a=>a.updatingInventory=!0);try{let a=yield i.api.updateInventory(e).finally(()=>{i.status.modifyStatus(s=>s.updatingInventory=!1)});return a&&(i.logger.info("UserInformationService","updateInventoryItems","Inventory updated successfully"),i._inventory.next(null)),!!a}catch(a){return n>3?(alert("You encountered a strange error with the inventory update. Please log out and log in again. If that does not fix it, please message Mijago."),!1):(i.status.modifyStatus(s=>s.updatingInventory=!1),i.logger.error("UserInformationService","updateInventoryItems","Error: "+a),yield i.status.setApiError(),!1)}})()}get isInitialized(){return this.initialized}ngOnDestroy(){this.logger.debug("UserInformationService","ngOnDestroy","Destroying UserInformationService")}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(It),t.KVO(E),t.KVO(V),t.KVO(we),t.KVO(Vt),t.KVO(ne),t.KVO(En),t.KVO(He),t.KVO(Q.so))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var R=C(316),Me=C(9552);function On(o,r){1&o&&(t.j41(0,"mat-toolbar",5),t.nrm(1,"span",2),t.EFF(2," You are using the "),t.j41(3,"b"),t.EFF(4,"\xa0unstable\xa0"),t.k0s(),t.EFF(5," canary build. Some features may be unfinished, vanish or have breaking bugs. Please report any issues you encounter. "),t.nrm(6,"span",2),t.k0s())}let In=(()=>{class o{constructor(e,n,i){this.userInformationService=e,this.logger=n,this.authService=i,this.title="D2ArmorPicker",this.is_beta=K.c.beta,this.is_canary=K.c.canary}ngOnInit(){this.logger.debug("AppComponent","ngOnInit","Application initialized"),window.addEventListener("unhandledrejection",e=>{this.logger.error("AppV2CoreComponent","Unhandled Promise Rejection",JSON.stringify(e))}),window.onerror=(e,n,i)=>(this.logger.error("AppV2CoreComponent","Unhandled Error",JSON.stringify({errorMsg:e,url:n,lineNumber:i})),!1)}ngAfterViewInit(){setTimeout(()=>{this.userInformationService.isInitialized||(this.logger.warn("AppComponent","ngAfterViewInit","UserInformationService is not initialized after 10 seconds, triggering initial refreshManifestAndArmor."),this.userInformationService.refreshManifestAndInventory(!0,!0).catch(e=>{this.logger.error("AppComponent","ngAfterViewInit","Error during initial refreshManifestAndArmor:",e)}))},1e4)}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(Gt),t.rXU(Q.so),t.rXU(Vt))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-root"]],decls:8,vars:1,consts:[["class","canary-warning","color","primary",4,"ngIf"],["color","accent",1,"bungie-day",2,"display","none"],[1,"header-spacer"],["fxHide.xs","","src","../assets/bungie_foundation.png",1,"donordrive"],["href","https://tiltify.com/@mijago/d2armorpicker","target","_blank","title","Support the Bungie Foundation!"],["color","primary",1,"canary-warning"]],template:function(n,i){1&n&&(t.DNE(0,On,7,0,"mat-toolbar",0),t.j41(1,"mat-toolbar",1),t.nrm(2,"span",2)(3,"img",3),t.j41(4,"a",4),t.EFF(5," Please support us at the Bungie Foundation 2024 \u2764 "),t.k0s(),t.nrm(6,"span",2),t.k0s(),t.nrm(7,"router-outlet")),2&n&&t.Y8G("ngIf",i.is_canary)},dependencies:[R.bT,Me.KQ,st.n3],styles:['\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.bungie-day[_ngcontent-%COMP%], .canary-warning[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;position:relative;max-width:100vw;word-break:break-all;flex-wrap:wrap;justify-content:center}.canary-warning[_ngcontent-%COMP%]{font-size:13pt;font-weight:700;color:#111;background:linear-gradient(90deg,#fffb00 0%,#ffae00 100%);text-shadow:0 0 2px #fff,0 0 4px #ffae00;box-shadow:0 0 8px 2px #fff700,0 0 16px 4px #ffae00;border:2px solid #fff700;animation:_ngcontent-%COMP%_canary-glow 1.2s infinite alternate,canary-shake 1s infinite;position:relative;overflow-x:hidden;overflow-y:visible}@keyframes _ngcontent-%COMP%_canary-glow{0%{box-shadow:0 0 8px 2px #fff700,0 0 16px 4px #ffae00}to{box-shadow:0 0 16px 4px #fff700,0 0 32px 8px #ffae00}}@keyframes _ngcontent-%COMP%_canary-shake{0%{transform:translate(0) scale(1.01)}20%{transform:translate(-1px) rotate(-.5deg) scale(1.01)}50%{transform:translate(1px) rotate(.5deg) scale(1.01)}80%{transform:translate(-.5px) rotate(-.25deg) scale(1.01)}to{transform:translate(0) scale(1.01)}}.canary-warning[_ngcontent-%COMP%]:after{content:"";pointer-events:none;position:absolute;inset:0;background:repeating-linear-gradient(135deg,rgba(255,255,255,.3) 0 2px,transparent 2px 8px),radial-gradient(circle,#fff .5px,transparent 1.5px) 0 0/10px 10px repeat;opacity:.7;mix-blend-mode:lighten;animation:_ngcontent-%COMP%_canary-glitter 1.5s linear infinite;z-index:2}@keyframes _ngcontent-%COMP%_canary-glitter{0%{background-position:0 0,0 0}to{background-position:40px 40px,10px 10px}}.bungie-day[_ngcontent-%COMP%]   img.donordrive[_ngcontent-%COMP%]{height:30px;margin-left:2px;margin-right:2px}.bungie-day[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .bungie-day[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#fff}.header-spacer[_ngcontent-%COMP%]{flex:1 1 auto}']})}}return o})();var lt=C(4175),z=C(3777);function Fn(o,r){if(1&o&&(t.j41(0,"div",13),t.nrm(1,"img",14),t.j41(2,"div",15)(3,"h3"),t.EFF(4),t.k0s(),t.j41(5,"p"),t.EFF(6),t.k0s()()()),2&o){const e=r.$implicit;t.R7$(1),t.Y8G("src",e.image,t.B4B)("alt",e.title),t.R7$(3),t.JRh(e.title),t.R7$(2),t.JRh(e.subtitle)}}function Pn(o,r){if(1&o){const e=t.RV6();t.j41(0,"button",16),t.bIt("click",function(){const a=t.eBV(e).index,s=t.XpG();return t.Njj(s.goToSlide(a))}),t.k0s()}if(2&o){const e=r.index,n=t.XpG();t.AVh("active",e===n.currentSlide)}}let Tn=(()=>{class o{constructor(){this.currentSlide=0,this.autoScrollDelay=4e3,this.carouselItems=[{image:"/assets/carousel/stat-select.png",title:"Stat Optimization",subtitle:"Optimize your Guardian's stats as you see fit."},{image:"/assets/carousel/result-overview.png",title:"Result Overview",subtitle:"Get a clear overview of the possible results with your gear."},{image:"/assets/carousel/result-detail.png",title:"Detailed Breakdown",subtitle:"See a detailed breakdown of how a specific combination can reach your desired stats."}]}ngOnInit(){this.startAutoScroll();const e=localStorage.getItem("__openreplay_uuid"),n=localStorage.getItem("clarity-character-stats"),i=localStorage.getItem("clarity-character-stats-version"),a=localStorage.getItem("d2ap-changelogVersion-lastRead"),s=localStorage.getItem("d2ap-db-lastName"),l=localStorage.getItem("d2ap-manifest-lastDate"),m=localStorage.getItem("d2ap-manifest-lastVersion");localStorage.clear(),e&&localStorage.setItem("__openreplay_uuid",e),n&&localStorage.setItem("clarity-character-stats",n),i&&localStorage.setItem("clarity-character-stats-version",i),a&&localStorage.setItem("d2ap-changelogVersion-lastRead",a),s&&localStorage.setItem("d2ap-db-lastName",s),l&&localStorage.setItem("d2ap-manifest-lastDate",l),m&&localStorage.setItem("d2ap-manifest-lastVersion",m)}ngOnDestroy(){this.stopAutoScroll()}startAutoScroll(){this.autoScrollInterval=setInterval(()=>{this.nextSlide()},this.autoScrollDelay)}stopAutoScroll(){this.autoScrollInterval&&(clearInterval(this.autoScrollInterval),this.autoScrollInterval=null)}pauseCarousel(){this.stopAutoScroll()}resumeCarousel(){this.startAutoScroll()}nextSlide(){this.currentSlide=(this.currentSlide+1)%this.carouselItems.length}goToSlide(e){this.currentSlide=e}startLogin(){window.location.href=`https://www.bungie.net/en/OAuth/Authorize?client_id=${K.c.clientId}&response_type=code&reauth=true`}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-login"]],decls:22,vars:4,consts:[[1,"login-container"],[1,"login-card"],["mat-card-avatar","",1,"header-image"],[1,"carousel-container",3,"mouseenter","mouseleave"],[1,"carousel-track"],["class","carousel-slide",4,"ngFor","ngForOf"],[1,"carousel-indicators"],["class","indicator",3,"active","click",4,"ngFor","ngForOf"],[1,"login-actions"],["mat-raised-button","","color","primary",1,"login-button",3,"click"],[1,"login-footer"],[1,"privacy-link"],["routerLink","/privacy-policy","target","_blank","rel","noopener"],[1,"carousel-slide"],[1,"carousel-image",3,"src","alt"],[1,"carousel-caption"],[1,"indicator",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header"),t.nrm(3,"div",2),t.j41(4,"mat-card-title"),t.EFF(5,"D2 Armor Picker"),t.k0s(),t.j41(6,"mat-card-subtitle"),t.EFF(7,"Find the best possible armor combination for your desired stats."),t.k0s()(),t.j41(8,"mat-card-content")(9,"div",3),t.bIt("mouseenter",function(){return i.pauseCarousel()})("mouseleave",function(){return i.resumeCarousel()}),t.j41(10,"div",4),t.DNE(11,Fn,7,4,"div",5),t.k0s(),t.j41(12,"div",6),t.DNE(13,Pn,1,2,"button",7),t.k0s()(),t.j41(14,"div",8)(15,"button",9),t.bIt("click",function(){return i.startLogin()}),t.EFF(16," Sign in with Bungie "),t.k0s()(),t.j41(17,"div",10)(18,"p",11),t.EFF(19," By signing in, you agree to our "),t.j41(20,"a",12),t.EFF(21,"Privacy Policy"),t.k0s()()()()()()),2&n&&(t.R7$(10),t.xc7("transform","translateX("+100*-i.currentSlide+"%)"),t.R7$(1),t.Y8G("ngForOf",i.carouselItems),t.R7$(2),t.Y8G("ngForOf",i.carouselItems))},dependencies:[R.Sq,lt.$z,z.RN,z.QG,z.m2,z.MM,z.Lc,z.dh,st.Wk],styles:["mat-card[_ngcontent-%COMP%]{max-width:600px;margin-bottom:4px;margin-left:auto;margin-right:auto}.example-header-image[_ngcontent-%COMP%]{background-image:url(superGreatLogo.5307f2494314b5e1.png);background-size:cover}.image-example[_ngcontent-%COMP%]{max-width:100%}.armor-image-container[_ngcontent-%COMP%]{overflow:auto}.armor-image-container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-height:300px}.login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;background:linear-gradient(135deg,#1e1e1e 0%,#2d2d2d 100%)}.login-card[_ngcontent-%COMP%]{max-width:800px;width:100%;margin:0;border-radius:16px;box-shadow:0 20px 40px #0000004d}.header-image[_ngcontent-%COMP%]{background-image:url(superGreatLogo.5307f2494314b5e1.png);background-size:contain;background-repeat:no-repeat;background-position:center;width:40px;height:40px;border-radius:4px}.carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;height:400px;overflow:hidden;border-radius:12px;margin:20px 0;box-shadow:0 8px 24px #0003}.carousel-track[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;transition:transform .6s cubic-bezier(.4,0,.2,1)}.carousel-slide[_ngcontent-%COMP%]{min-width:100%;height:100%;position:relative;display:flex;align-items:center;justify-content:center}.carousel-image[_ngcontent-%COMP%]{width:100%;height:400px;object-fit:cover;object-position:center}.carousel-caption[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(transparent,rgba(0,0,0,.8));color:#fff;padding:40px 30px 30px;text-align:center}.carousel-caption[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.8rem;font-weight:600;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.carousel-caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;opacity:.9;text-shadow:1px 1px 2px rgba(0,0,0,.7)}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:15px;left:50%;transform:translate(-50%);display:flex;gap:8px;z-index:10}.indicator[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;border:2px solid rgba(255,255,255,.6);background:transparent;cursor:pointer;transition:all .3s ease;position:relative;display:block}.indicator[_ngcontent-%COMP%]:hover{border-color:#ffffffe6;transform:scale(1.1)}.indicator.active[_ngcontent-%COMP%]{background:white;border-color:#fff}.login-actions[_ngcontent-%COMP%]{text-align:center;margin-top:30px}.login-button[_ngcontent-%COMP%]{padding:12px 40px;font-size:1.1rem;font-weight:500;border-radius:8px;text-transform:none;position:relative}.login-footer[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding-top:15px;border-top:1px solid rgba(0,0,0,.1)}.privacy-link[_ngcontent-%COMP%]{font-size:.9rem;color:#0009;margin:0}.privacy-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1976d2;text-decoration:none}.privacy-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.login-container[_ngcontent-%COMP%]{padding:10px}.login-card[_ngcontent-%COMP%]{max-width:100%}.carousel-container[_ngcontent-%COMP%], .carousel-image[_ngcontent-%COMP%]{height:300px}.carousel-caption[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}.carousel-caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.carousel-caption[_ngcontent-%COMP%]{padding:30px 20px 20px}}@media (max-width: 480px){.carousel-container[_ngcontent-%COMP%], .carousel-image[_ngcontent-%COMP%]{height:250px}.carousel-caption[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.carousel-caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}\n\n/*# sourceMappingURL=login.component.css.map*/"]})}}return o})();var An=C(2552);let Dn=(()=>{class o{constructor(e,n,i,a,s){this.activatedRoute=e,this.router=n,this.httpClient=i,this.userInfo=a,this.logger=s}ngOnInit(){var e=this;this.activatedRoute.queryParams.subscribe(function(){var n=(0,_.A)(function*(i){let a=i.code;if(window.location.search.indexOf("?code=")>-1&&(a=window.location.search.substr(6)),!a)return e.logger.warn("HandleBungieLoginComponent","ngAfterViewInit","No OAuth code found, redirecting to login"),void(yield e.router.navigate(["/login"]));e.logger.info("HandleBungieLoginComponent","ngAfterViewInit","Code: "+a.replace(/./g,"*")),e.httpClient.authCode=a,e.logger.info("HandleBungieLoginComponent","ngAfterViewInit","Generate tokens with the new code");try{(yield e.httpClient.generateTokens())&&e.httpClient.isAuthenticated()?(e.logger.info("HandleBungieLoginComponent","ngAfterViewInit","Authentication successful, initializing user data"),e.userInfo.initializeForAuthenticatedUser(),e.httpClient.authCode=null,yield e.router.navigate(["/"],{replaceUrl:!0})):(e.logger.error("HandleBungieLoginComponent","ngAfterViewInit","Token generation failed, navigating to login"),yield e.router.navigate(["/login"]))}catch(s){e.logger.error("HandleBungieLoginComponent","ngAfterViewInit","Error during token generation",s),yield e.router.navigate(["/login"])}});return function(i){return n.apply(this,arguments)}}())}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(st.nX),t.rXU(st.Ix),t.rXU(ne),t.rXU(Gt),t.rXU(Q.so))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-handle-bungie-login"]],decls:0,vars:0,template:function(n,i){}})}}return o})(),Rn=(()=>{class o{constructor(e,n,i){this.auth=e,this.httpClient=n,this.router=i}canActivate(e,n){return!!this.httpClient.isAuthenticated()||(n.url.includes("?code=")||e.queryParams.code?this.router.navigate(["authenticate"],{queryParams:e.queryParams}):this.router.navigate(["login"]),!1)}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(Vt),t.KVO(ne),t.KVO(st.Ix))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),jn=(()=>{class o{constructor(e,n,i){this.auth=e,this.httpClient=n,this.router=i}canActivate(e,n){return!this.httpClient.isAuthenticated()||(this.router.navigate(["/"]),!1)}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(Vt),t.KVO(ne),t.KVO(st.Ix))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var Ee=C(7912),Gn=C(5443),Vn=C(7841);const Ke="https://Database-Clarity.github.io/Character-Stats",$n=`${Ke}/versions/1.9/CharacterStatInfo-NI.json`,Nn=`${Ke}/update.json`,Ze="clarity-character-stats-version",tn="clarity-character-stats";let Bn=(()=>{class o{constructor(e,n,i){this.http=e,this.userInfo=n,this.logger=i,this._characterStats=new b.t(null),this.characterStats=this._characterStats.asObservable(),this.logger.debug("ClarityService","constructor","Initializing ClarityService"),this.userInfo.manifest.subscribe(a=>this.load())}ngOnDestroy(){this.logger.debug("ClarityService","ngOnDestroy","Destroying ClarityService")}load(){var e=this;return(0,_.A)(function*(){try{yield e.loadCharacterStats()}catch(n){e.logger.warn("Error loading Clarity data",n)}})()}fetchUpdateData(){var e=this;return(0,_.A)(function*(){try{return yield e.http.get(Nn).toPromise()}catch(n){return e.logger.warn("ClarityService","fetchUpdateData","Failed to fetch update data",n),null}})()}loadCharacterStats(){var e=this;return(0,_.A)(function*(){const n=localStorage.getItem(tn);n&&e._characterStats.next(JSON.parse(n));const i=yield e.fetchUpdateData(),a=parseInt(localStorage.getItem(Ze)||"0");if(i&&i.lastUpdate>a)if("1.9"!==i.schemaVersion)e.logger.warn("Unsupported live character stats schema version",i.schemaVersion);else if(i&&void 0!==i.lastUpdate)try{const s=yield e.fetchLiveCharacterStats();localStorage.setItem(tn,JSON.stringify(s)),localStorage.setItem(Ze,i.lastUpdate.toString()),e._characterStats.next(s)}catch(s){e.logger.warn("ClarityService","loadCharacterStats","Failed to load live character stats",s)}})()}fetchLiveCharacterStats(){var e=this;return(0,_.A)(function*(){try{return yield e.http.get($n).toPromise()}catch(n){throw e.logger.warn("ClarityService","fetchLiveCharacterStats","Failed to fetch live character stats",n),n}})()}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(Le.Qq),t.KVO(Gt),t.KVO(Q.so))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var kt=function(o){return o[o.Speed=1]="Speed",o[o.Percentage=2]="Percentage",o[o.Time=3]="Time",o[o.TimeMMSS=4]="TimeMMSS",o[o.PercentagePerSecond=5]="PercentagePerSecond",o}(kt||{});let en=(()=>{class o{constructor(e,n,i){var a=this;this.clarity=e,this.db=n,this.logger=i,this.allStatEntries={},this.overrides=[],this.logger.debug("CharacterStatsService","constructor","Initializing CharacterStatsService"),this.clarity.characterStats.subscribe(function(){var s=(0,_.A)(function*(l){l&&(yield a.updateCharacterStats(l))});return function(l){return s.apply(this,arguments)}}())}ngOnDestroy(){this.logger.debug("CharacterStatsService","ngOnDestroy","Destroying CharacterStatsService")}loadCharacterStats(){this.clarity.load()}updateCharacterStats(e){var n=this;return(0,_.A)(function*(){const a=(yield n.db.getCharacterAbilities()).reduce((s,l)=>(s.set(l.hash,l),s),new Map);n.overrides=Object.values(e).map(s=>s.Overrides).flat(),n.allStatEntries={Mobility:n.generateEntries(e.Mobility,a,[{key:"WalkSpeed",name:"Walk Speed",valueType:kt.Speed},{key:"StrafeSpeed",name:"Strafe Speed",valueType:kt.Speed},{key:"CrouchSpeed",name:"Crouch Speed",valueType:kt.Speed}]),Resilience:n.generateEntries(e.Resilience,a,[{key:"ShieldHP",name:"Shield HP"},{key:"PvEDamageResistance",name:"PvE Damage Resistance",valueType:kt.Percentage},{key:"FlinchResistance",name:"Flinch Resistance",valueType:kt.Percentage}]),Recovery:n.generateEntries(e.Recovery,a,[{key:"TotalRegenTime",name:"Total Regen Time",valueType:kt.Time},{key:"HealthRegenDelay",name:"Health Regen Delay",valueType:kt.Time},{key:"HealthRegenSpeed",name:"Health Regen Speed",valueType:kt.PercentagePerSecond},{key:"ShieldRegenDelay",name:"Shield Regen Delay",valueType:kt.Time},{key:"ShieldRegenSpeed",name:"Shield Regen Speed",valueType:kt.PercentagePerSecond}]),Discipline:n.generateEntries(e.Discipline,a),Intellect:n.generateEntries(e.Intellect,a),Strength:n.generateEntries(e.Strength,a)}})()}get(e,n,i,a=[]){const s=this.allStatEntries[e]??[],l=this.overrides.filter(m=>a.includes(m.Hash));return s.filter(m=>!(void 0!==n&&void 0!==m.characterClass&&m.characterClass!==n||void 0!==i&&void 0!==m.element&&m.element!==i)).map(m=>l.reduce((p,f)=>function Ln(o,r){if(!o.hash||!r.Requirements.includes(o.hash))return o;const e={...o,overrideIcons:[...o.overrideIcons??[],r.Hash]};if(r.CooldownOverride)return{...e,values:r.CooldownOverride};if(r.Scalar){const n=r.Requirements.indexOf(o.hash),i=r.Scalar[n];return{...e,values:e.values.map(a=>a*i)}}return o}(p,f),m))}generateEntries(e,n,i=[]){const a=i.map(({key:l,...m})=>({values:e[l].Array,...m}));return("Abilities"in e?e.Abilities:"SuperAbilities"in e?e.SuperAbilities:[]).forEach(l=>{const m=n.get(l.Hash);if(!m)return;const{characterClass:p,element:f}=function Yn(o){let r,e;const n=o.plug?.plugCategoryIdentifier?.split(".");if(3!==n?.length)return{characterClass:r,element:e};const[i,a,s]=n;return"warlock"===i?r=2:"hunter"===i?r=1:"titan"===i&&(r=0),"arc"===a?e=X.w.Arc:"solar"===a?e=X.w.Solar:"void"===a?e=X.w.Void:"stasis"===a?e=X.w.Stasis:"strand"===a?e=X.w.Strand:"prism"===a&&(e=X.w.Prismatic),{characterClass:r,element:e}}(m);a.push({hash:m.hash,name:m.displayProperties.name,icon:m.displayProperties.icon,values:l.Cooldowns,valueType:kt.TimeMMSS,characterClass:p,element:f})}),a}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(Bn),t.KVO(It),t.KVO(Q.so))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var pt=C(640),Re=C(6354),Tt=C(3840),te=C(8327),Oe=C(8223),Ie=C(7049);let pe=(()=>{class o{set ngVar(e){this.context.$implicit=this.context.ngVar=e,this.hasView||(this.vcRef.createEmbeddedView(this.templateRef,this.context),this.hasView=!0)}constructor(e,n){this.templateRef=e,this.vcRef=n,this.context={$implicit:null,ngVar:null},this.hasView=!1}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(t.C4Q),t.rXU(t.c1b))}}static{this.\u0275dir=t.FsC({type:o,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"}})}}return o})();function Hn(o,r){1&o&&(t.j41(0,"mat-toolbar",31),t.nrm(1,"span",10),t.EFF(2," The API is unavailable. The app will work with the data it has available right now. "),t.nrm(3,"span",10),t.k0s())}function Un(o,r){1&o&&(t.j41(0,"mat-toolbar",31),t.nrm(1,"span",10),t.EFF(2," There was an error with the authentication. The API may be down, or your session timed out. "),t.nrm(3,"span",10),t.k0s())}function zn(o,r){if(1&o&&(t.j41(0,"div"),t.DNE(1,Un,4,0,"mat-toolbar",1),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e.authError)}}function Xn(o,r){if(1&o){const e=t.RV6();t.j41(0,"button",32),t.bIt("click",function(){t.eBV(e),t.XpG();const i=t.sdS(44);return t.Njj(i.toggle())}),t.j41(1,"mat-icon"),t.EFF(2,"menu"),t.k0s()()}}function Wn(o,r){if(1&o&&(t.j41(0,"a",33),t.EFF(1),t.k0s()),2&o){const e=r.$implicit,n=r.index,i=t.XpG(2);t.Y8G("active",i.activeLinkIndex===n)("routerLink",e.link),t.R7$(1),t.SpI(" ",e.name," ")}}function qn(o,r){1&o&&t.nrm(0,"mat-progress-bar",35)}function Jn(o,r){if(1&o&&(t.j41(0,"span"),t.DNE(1,qn,1,0,"mat-progress-bar",34),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e.updatingResultsTable||e.calculatingResults||e.calculatingPermutations||e.updatingInventory||e.updatingVendors||e.updatingManifest)}}function Kn(o,r){1&o&&(t.j41(0,"mat-card",42)(1,"mat-card-content"),t.EFF(2,"Updating vendor information inventory in the background."),t.k0s()())}function Qn(o,r){1&o&&(t.j41(0,"mat-card",43)(1,"mat-card-content"),t.EFF(2,"Please wait:"),t.nrm(3,"br"),t.EFF(4," Updating the cached manifest. "),t.k0s()())}function Zn(o,r){1&o&&(t.j41(0,"mat-card",44)(1,"mat-card-content"),t.EFF(2," Please wait:"),t.nrm(3,"br"),t.EFF(4," Updating the cached inventory. "),t.k0s()())}function to(o,r){if(1&o&&(t.j41(0,"mat-card",45)(1,"mat-card-content"),t.EFF(2,"Please wait:"),t.nrm(3,"br"),t.EFF(4," Calculating possible results. "),t.nrm(5,"mat-progress-bar",46),t.k0s()()),2&o){const e=t.XpG(3);t.R7$(5),t.Y8G("value",e.computationProgress)}}function eo(o,r){1&o&&(t.j41(0,"mat-card",47)(1,"mat-card-content"),t.EFF(2,"Please wait:"),t.nrm(3,"br"),t.EFF(4,"Updating the result display table. "),t.k0s()())}function no(o,r){if(1&o&&(t.j41(0,"div",36),t.DNE(1,Kn,3,0,"mat-card",37),t.DNE(2,Qn,5,0,"mat-card",38),t.DNE(3,Zn,5,0,"mat-card",39),t.DNE(4,to,6,1,"mat-card",40),t.DNE(5,eo,5,0,"mat-card",41),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e.updatingVendors),t.R7$(1),t.Y8G("ngIf",e.updatingManifest),t.R7$(1),t.Y8G("ngIf",e.updatingInventory),t.R7$(1),t.Y8G("ngIf",e.calculatingResults),t.R7$(1),t.Y8G("ngIf",e.updatingResultsTable)}}function oo(o,r){if(1&o){const e=t.RV6();t.j41(0,"a",48),t.bIt("click",function(){t.eBV(e),t.XpG();const i=t.sdS(44);return t.Njj(i.toggle())}),t.EFF(1),t.k0s()}if(2&o){const e=r.$implicit,n=r.index,i=t.XpG(2);t.AVh("active",i.activeLinkIndex===n),t.Y8G("routerLink",e.link),t.R7$(1),t.SpI(" ",e.name," ")}}function io(o,r){if(1&o){const e=t.RV6();t.j41(0,"div"),t.DNE(1,Hn,4,0,"mat-toolbar",1),t.DNE(2,zn,2,1,"div",0),t.nI1(3,"async"),t.j41(4,"mat-toolbar",2),t.DNE(5,Xn,3,0,"button",3),t.nI1(6,"async"),t.j41(7,"span"),t.EFF(8," D2ArmorPicker "),t.j41(9,"small"),t.EFF(10,"by Mijago"),t.k0s(),t.j41(11,"a",4),t.nrm(12,"img",5),t.k0s(),t.j41(13,"a",6),t.nrm(14,"img",7),t.k0s(),t.j41(15,"a",8),t.nrm(16,"img",9),t.k0s()(),t.nrm(17,"span",10),t.j41(18,"div",11)(19,"nav",12),t.DNE(20,Wn,2,3,"a",13),t.k0s(),t.nrm(21,"mat-tab-nav-panel",null,14),t.k0s(),t.nrm(23,"span",10),t.j41(24,"div",15)(25,"a",16),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.changelog.openChangelogDialog())}),t.EFF(26),t.k0s(),t.j41(27,"a",17)(28,"mat-icon",18),t.EFF(29,"attach_money"),t.k0s(),t.EFF(30," Buy me a coffee! "),t.k0s(),t.j41(31,"button",19),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.refreshAll(!0))}),t.j41(32,"mat-icon"),t.EFF(33,"refresh"),t.k0s()(),t.j41(34,"button",20),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.logout())}),t.j41(35,"mat-icon"),t.EFF(36,"logout"),t.k0s()()()(),t.DNE(37,Jn,2,1,"span",0),t.nI1(38,"async"),t.nrm(39,"router-outlet"),t.DNE(40,no,6,5,"div",21),t.nI1(41,"async"),t.j41(42,"mat-sidenav-container")(43,"mat-sidenav",22,23),t.nI1(45,"async"),t.j41(46,"mat-sidenav-content")(47,"mat-toolbar")(48,"button",24),t.bIt("click",function(){t.eBV(e);const i=t.sdS(44);return t.Njj(i.toggle())}),t.j41(49,"mat-icon",25),t.EFF(50,"menu"),t.k0s(),t.EFF(51," Close Menu "),t.k0s()(),t.nrm(52,"hr"),t.j41(53,"mat-nav-list"),t.DNE(54,oo,2,4,"a",26),t.nrm(55,"hr"),t.j41(56,"a",27)(57,"a",28)(58,"mat-icon",18),t.EFF(59,"attach_money"),t.k0s(),t.EFF(60," Buy me a coffee! "),t.k0s()(),t.j41(61,"a",29),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.changelog.openChangelogDialog())}),t.j41(62,"a",30),t.EFF(63,"Open changelog"),t.k0s()(),t.nrm(64,"hr"),t.k0s()()()()()}if(2&o){const e=r.ngVar,n=t.sdS(22),i=t.XpG();t.R7$(1),t.Y8G("ngIf",e.apiError),t.R7$(1),t.Y8G("ngVar",t.bMT(3,11,i.status.status)),t.R7$(3),t.Y8G("ngIf",t.bMT(6,13,i.isHandset$)),t.R7$(14),t.Y8G("tabPanel",n),t.R7$(1),t.Y8G("ngForOf",i.navLinks),t.R7$(6),t.SpI(" v",i.version," "),t.R7$(11),t.Y8G("ngVar",t.bMT(38,15,i.status.status)),t.R7$(3),t.Y8G("ngVar",t.bMT(41,17,i.status.status)),t.R7$(3),t.Y8G("opened",!1),t.BMQ("role",t.bMT(45,19,i.isHandset$)?"dialog":"navigation"),t.R7$(11),t.Y8G("ngForOf",i.navLinks)}}let ao=(()=>{class o{constructor(e,n,i,a,s,l,m,p,f){this.status=e,this.breakpointObserver=n,this.inv=i,this.armorCalculator=a,this.auth=s,this.router=l,this.characterStats=m,this.changelog=p,this.logger=f,this.version=K.c.version,this.activeLinkIndex=0,this.computationProgress=0,this.navLinks=[{link:"/",name:"Home"},{link:"/cluster",name:"Clustering"},{link:"/help",name:"Help"},{link:"/account",name:"Account"},{link:"/privacy-policy",name:"Privacy Policy"}],this.isHandset$=this.breakpointObserver.observe([Ee.Rp.Handset,Ee.Rp.Small,Ee.Rp.XSmall]).pipe((0,Gn.T)(y=>y.matches),(0,Vn.t)()),this.logger.debug("AppV2CoreComponent","constructor","Component initialized")}ngOnInit(){this.activeLinkIndex=this.navLinks.indexOf(this.navLinks.find(e=>e.link===this.router.url)),this.router.events.subscribe(e=>{e instanceof st.wF&&(this.activeLinkIndex=this.navLinks.indexOf(this.navLinks.find(n=>n.link===this.router.url)))})}ngAfterViewInit(){this.logger.debug("AppV2CoreComponent","ngAfterViewInit","Component after view initialized"),this.changelog.checkAndShowChangelog(),this.characterStats.loadCharacterStats(),this.armorCalculator.calculationProgress.subscribe(e=>{this.computationProgress=e})}refreshAll(e){var n=this;return(0,_.A)(function*(){n.logger.debug("AppV2CoreComponent","refreshAll","Trigger refreshAll due to button press");try{yield n.inv.refreshManifestAndInventory(e)}catch(i){n.logger.error("AppV2CoreComponent","refreshAll","Failed to refresh manifest and inventory",i)}})()}logout(){var e=this;return(0,_.A)(function*(){try{yield e.auth.logout(),e.logger.debug("AppV2CoreComponent","logout","Logout successful, navigating to login"),yield e.router.navigate(["login"])}catch(n){e.logger.error("AppV2CoreComponent","logout","Failed during logout process",n);try{yield e.router.navigate(["login"])}catch(i){e.logger.error("AppV2CoreComponent","logout","Failed to navigate to login",i)}}})()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(V),t.rXU(Ee.QP),t.rXU(Gt),t.rXU(Yt),t.rXU(Vt),t.rXU(st.Ix),t.rXU(en),t.rXU(se),t.rXU(Q.so))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-app-v2-core"]],decls:2,vars:3,consts:[[4,"ngVar"],["color","warn","class","bar-api-warn",4,"ngIf"],["id","header","role","heading"],["aria-label","Toggle sidenav","mat-icon-button","","type","button",3,"click",4,"ngIf"],["href","https://twitter.com/MijagoCoding/","matTooltip","Follow me on Twitter","target","_blank","rel","noopener noreferrer"],["alt","Twitter logo","src","assets/logo-twitter.png",1,"logo-twitter"],["href","https://ko-fi.com/mijago","matTooltip","Buy me a coffee on Ko-Fi!","target","_blank","rel","noopener noreferrer"],["alt","Ko-Fi logo","src","assets/logo-kofi.png",1,"logo-kofi"],["href","http://discord.d2armorpicker.com/","matTooltip","Join the Discord for support and development!","target","_blank","rel","noopener noreferrer"],["alt","Discord logo","src","assets/logo-discord.png",1,"logo-discord"],[1,"header-spacer"],[1,"hide-sm"],["id","navbar","mat-tab-nav-bar","",3,"tabPanel"],["mat-tab-link","",3,"active","routerLink",4,"ngFor","ngForOf"],["tabPanel",""],["id","buttonContainer"],["matTooltip","View the changelog dialog.",1,"changelogText","hide-sm",2,"color","white",3,"click"],["color","accent","href","https://ko-fi.com/mijago","mat-stroked-button","","matTooltip","Support me on Ko-Fi!","target","_blank","rel","noopener noreferrer",1,"hide-sm"],["inline",""],["aria-label","Refresh","mat-icon-button","","matTooltip","Reload all items from the API.",1,"example-icon",3,"click"],["aria-label","Logout","color","warn","mat-icon-button","","matTooltip","Logout",1,"example-icon",3,"click"],["class","info-container",4,"ngVar"],["fixedInViewport","","mode","over",1,"sidenav",3,"opened"],["drawer",""],["aria-label","Toggle sidenav","mat-stroked-button","","type","button",3,"click"],["aria-label","Side nav toggle icon"],["mat-list-item","",3,"active","routerLink","click",4,"ngFor","ngForOf"],["href","https://ko-fi.com/mijago","mat-list-item",""],["color","primary","mat-raised-button","","matTooltip","You like my work? This leads you to ko-fi.com, where you can easily support me!","target","_blank"],["mat-list-item","",3,"click"],["mat-raised-button",""],["color","warn",1,"bar-api-warn"],["aria-label","Toggle sidenav","mat-icon-button","","type","button",3,"click"],["mat-tab-link","",3,"active","routerLink"],["id","loading","mode","indeterminate",4,"ngIf"],["id","loading","mode","indeterminate"],[1,"info-container"],["appearance","outlined","class","info info-updating-vendor",4,"ngIf"],["appearance","outlined","class","info info-updating-manifest",4,"ngIf"],["appearance","outlined","class","info info-updating-inventory",4,"ngIf"],["appearance","outlined","class","info info-calculating-results",4,"ngIf"],["appearance","outlined","class","info info-updating-results",4,"ngIf"],["appearance","outlined",1,"info","info-updating-vendor"],["appearance","outlined",1,"info","info-updating-manifest"],["appearance","outlined",1,"info","info-updating-inventory"],["appearance","outlined",1,"info","info-calculating-results"],[3,"value"],["appearance","outlined",1,"info","info-updating-results"],["mat-list-item","",3,"routerLink","click"]],template:function(n,i){1&n&&(t.DNE(0,io,65,21,"div",0),t.nI1(1,"async")),2&n&&t.Y8G("ngVar",t.bMT(1,1,i.status.status))},dependencies:[R.Sq,R.bT,lt.It,lt.$z,lt.iY,z.RN,z.m2,pt.oV,Re.HM,Tt.An,Me.KQ,te._L,te.YE,Oe.Bu,Oe.hQ,Oe.Ql,Ie.LG,Ie.US,Ie.El,st.n3,st.Wk,pe,R.Jj],styles:[".loading[_ngcontent-%COMP%]{cursor:progress}.info-container[_ngcontent-%COMP%]{z-index:1000;position:fixed;top:37px;right:0;display:flex;flex-direction:column;justify-content:center;align-items:center;flex-wrap:wrap;padding:10px;overflow:auto;pointer-events:none}@media (min-width: 1650px){.info-container[_ngcontent-%COMP%]{left:1380px;right:auto}}.info[_ngcontent-%COMP%]{width:200px;margin-bottom:5px;border:antiquewhite 1px solid}.info.info-updating-manifest[_ngcontent-%COMP%]{border-color:#f09c4e}.info.info-updating-inventory[_ngcontent-%COMP%]{border-color:#f0ad4e}.info.info-updating-vendor[_ngcontent-%COMP%]{border-color:#f0e54e}.info.info-calculating-permutations[_ngcontent-%COMP%]{border-color:#5cb85c}.info.info-calculating-results[_ngcontent-%COMP%]{border-color:#89b85c}.info.info-updating-results[_ngcontent-%COMP%]{border-color:#5cb85c}.sidenav-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100%;z-index:20}.sidenav[_ngcontent-%COMP%]{width:200px;position:fixed;top:0;left:0;height:100%;z-index:20}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.sidenav[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#ffffff12;color:#b8c4dc}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}#header[_ngcontent-%COMP%]{position:relative;height:42px;margin-bottom:5px}.header-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.changelogText[_ngcontent-%COMP%]{cursor:pointer}#loading[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:1000}.d2ap-router-link[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]     .mat-mdc-tab-link{min-width:75px;opacity:1}.bar-api-warn[_ngcontent-%COMP%]{background-color:#f0894e;position:relative;height:20px;margin-bottom:2px;font-size:16px}#buttonContainer[_ngcontent-%COMP%]{display:flex}#buttonContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:auto}"],changeDetection:0})}}return o})(),nn=(()=>{class o{constructor(){}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-settings"]],decls:76,vars:0,consts:[["id","card-config"],["appearance","outlined"],["id","content-char-selection"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4,"Character Selection"),t.k0s()(),t.j41(5,"mat-card-content",2),t.nrm(6,"app-desired-class-selection"),t.k0s()(),t.j41(7,"mat-card",1)(8,"mat-card-header")(9,"mat-card-title"),t.EFF(10,"Select your desired stat distribution"),t.k0s(),t.j41(11,"mat-card-subtitle"),t.EFF(12," Select the stats one by one using the sliders below. "),t.k0s()(),t.j41(13,"mat-card-content"),t.nrm(14,"app-desired-stat-selection"),t.k0s()(),t.j41(15,"mat-card",1)(16,"mat-card-header")(17,"mat-card-title"),t.EFF(18,"Armor Selection"),t.k0s(),t.j41(19,"mat-card-subtitle"),t.EFF(20," This section allows you to limit the armor pieces that are used in the buildcrafting process."),t.nrm(21,"br"),t.EFF(22," If you want, limit all results to one exotic. "),t.nrm(23,"br"),t.EFF(24," Exotics you do not have in the inventory or vault are grayed out. "),t.k0s()(),t.j41(25,"mat-card-content"),t.nrm(26,"app-desired-exotic-selection"),t.k0s()(),t.j41(27,"mat-card",1)(28,"mat-card-header")(29,"mat-card-title"),t.EFF(30,"Gearset selection and Mod limitation"),t.k0s(),t.j41(31,"mat-card-subtitle"),t.EFF(32," This section allows you to further specify what kind of armor and mods you want. "),t.k0s()(),t.j41(33,"mat-card-content"),t.nrm(34,"app-desired-mod-selection"),t.k0s()(),t.j41(35,"mat-card",1)(36,"mat-card-header")(37,"mat-card-title"),t.EFF(38,"Stat-Boost Selection"),t.k0s(),t.j41(39,"mat-card-subtitle"),t.EFF(40," Select Mods and Skills that affect your overall stats."),t.nrm(41,"br"),t.EFF(42," Please note that D2AP also allows theoretical, but impossible input."),t.nrm(43,"br"),t.j41(44,"b"),t.EFF(45,"Only fragments that affect stats are shown."),t.k0s()()(),t.j41(46,"mat-card-content"),t.nrm(47,"app-desired-mods-selection"),t.k0s()(),t.j41(48,"mat-card",1)(49,"mat-card-header")(50,"mat-card-title"),t.EFF(51,"Advanced Settings"),t.k0s(),t.j41(52,"mat-card-subtitle"),t.EFF(53," More settings! Use them to fine-tune your buildcrafting process. "),t.k0s()(),t.j41(54,"mat-card-content"),t.nrm(55,"app-advanced-settings"),t.k0s()(),t.j41(56,"mat-card",1)(57,"mat-card-header")(58,"mat-card-title"),t.EFF(59,"Disabled Armor Pieces"),t.k0s(),t.j41(60,"mat-card-subtitle"),t.EFF(61," These armor pieces are disabled. Click them to enable them again."),t.nrm(62,"br"),t.EFF(63," They won't show up in any results."),t.nrm(64,"br"),t.EFF(65," You can disable items in the detailed result overview. "),t.k0s()(),t.j41(66,"mat-card-content"),t.nrm(67,"app-ignored-items-list"),t.k0s()(),t.j41(68,"mat-card",1)(69,"mat-card-header")(70,"mat-card-title"),t.EFF(71,"Configuration Management"),t.k0s(),t.j41(72,"mat-card-subtitle"),t.EFF(73," Save and load your buildcrafting settings for another day! "),t.k0s()(),t.j41(74,"mat-card-content"),t.nrm(75,"app-load-and-save-settings"),t.k0s()()())},styles:["#card-config[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:inline-block;vertical-align:top;white-space:normal;margin-bottom:20px;margin-left:3px;margin-right:3px}#card-config[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]{margin-bottom:4px}#content-char-selection[_ngcontent-%COMP%]{margin-bottom:0}\n\n/*# sourceMappingURL=settings.component.css.map*/"]})}}return o})();var ft=C(4456),$t=C(9864);const ro=["valueInput"];function so(o,r){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"div",20),t.bIt("click",function(){const a=t.eBV(e).$implicit,s=t.XpG();return t.Njj(a<=10*s.maximumAvailableTier&&s.setValueMob(a))})("mouseenter",function(){const a=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.handleHover(a))})("mouseleave",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.clearHover())}),t.k0s(),t.bVm()}if(2&o){const e=r.$implicit,n=t.XpG();t.R7$(1),t.xc7("height",0===e||50===e||100===e||150===e||200===e?"16px":"8px"),t.AVh("zero-line",0===e)("milestone-line",50===e||100===e||150===e||200===e)("selected",e===n.selectedValue)("lower-than-selected",e<n.selectedValue)("lower-than-hovered",null!==n.hoveredValue&&e<n.hoveredValue)("higher-than-hovered",null!==n.hoveredValue&&e>=n.hoveredValue)("disabled",e>n.currentAnimatedMaxValue),t.Y8G("matTooltip","Value: "+e+(e%50==0?" (Tier "+e/10+")":""))("matTooltipDisabled",e>n.currentAnimatedMaxValue)("matTooltipShowDelay",0)}}function co(o,r){if(1&o){const e=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.setValueMob(0))}),t.EFF(1,"0"),t.k0s()}if(2&o){const e=t.XpG();t.BMQ("tabindex",e.tabIndexOffset+1)}}function lo(o,r){1&o&&(t.j41(0,"div",22),t.EFF(1,"50"),t.k0s())}function mo(o,r){1&o&&(t.j41(0,"div",23),t.EFF(1,"100"),t.k0s())}function po(o,r){1&o&&(t.j41(0,"div",24),t.EFF(1,"150"),t.k0s())}function uo(o,r){if(1&o){const e=t.RV6();t.j41(0,"button",25),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.setValueMob(10*i.maximumAvailableTier))}),t.j41(1,"span",26),t.EFF(2,"MAX"),t.k0s()()}if(2&o){const e=t.XpG();t.BMQ("tabindex",e.tabIndexOffset+2)}}function go(o,r){if(1&o){const e=t.RV6();t.j41(0,"span",27),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.startValueEdit())}),t.EFF(1),t.k0s()}if(2&o){const e=t.XpG();t.BMQ("tabindex",e.tabIndexOffset+3),t.R7$(1),t.SpI(" ",e.selectedValue," ")}}function ho(o,r){if(1&o){const e=t.RV6();t.j41(0,"input",28,29),t.bIt("blur",function(){t.eBV(e);const i=t.sdS(1),a=t.XpG();return t.Njj(a.commitValueEdit(i.value))})("keydown.enter",function(){t.eBV(e);const i=t.sdS(1),a=t.XpG();return t.Njj(a.commitValueEdit(i.value))})("keydown.escape",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.cancelValueEdit())}),t.k0s()}if(2&o){const e=t.XpG();t.Y8G("min",0)("max",10*e.maximumAvailableTier)("value",e.selectedValue),t.BMQ("tabindex",e.tabIndexOffset+3)}}function fo(o,r){1&o&&(t.j41(0,"mat-icon"),t.EFF(1,"lock_open"),t.k0s())}function _o(o,r){1&o&&(t.j41(0,"mat-icon",30),t.EFF(1,"lock"),t.k0s())}let yo=(()=>{class o{constructor(e){this.logger=e,this.TierRange=new Array(11),this.stat=d.uD.StatWeapon,this.statsByMods=0,this.maximumAvailableTier=20,this.selectedTier=0,this.locked=!1,this.tabIndexOffset=0,this.selectedTierChange=new t.bkB,this.lockedChange=new t.bkB,this.selectedValue=0,this.hoveredValue=null,this.statValues=[],this.editingValue=!1,this.shouldSelectText=!1,this.currentAnimatedMaxValue=0,this.animationTimeouts=new Set}ngOnInit(){this.statValues=Array.from({length:201},(e,n)=>n),this.currentAnimatedMaxValue=10*this.maximumAvailableTier}ngOnChanges(){this.selectedValue=10*this.selectedTier,this.animateMaxTierChange()}ngOnDestroy(){this.clearAnimationTimeouts()}ngAfterViewChecked(){if(this.editingValue&&this.valueInput){this.valueInput.nativeElement.focus();const e=this.valueInput.nativeElement;if(this.shouldSelectText)e.select(),this.shouldSelectText=!1;else{const n=e.value.length;e.setSelectionRange(n,n)}}}setValue(e){e<=this.maximumAvailableTier&&(this.logger.debug("StatTierSelectionComponent","setValue","Setting value to: "+e),this.selectedTier=e,this.selectedTierChange.emit(e))}setValueMob(e){let n=parseInt(e);n=Math.min(Math.max(n,0),200),this.setValue(n/10)}isAddedByConfigMods(e){return e>0&&(this.selectedTier-e>=0&&this.selectedTier-e<this.statsByMods||this.selectedTier<this.statsByMods&&e<=this.statsByMods)}toggleLockState(){this.locked=!this.locked,this.lockedChange.emit(this.locked)}handleHover(e){e<=10*this.maximumAvailableTier&&requestAnimationFrame(()=>{this.hoveredValue=e})}clearHover(){this.hoveredValue=null}commitValueEdit(e){let n=Number(e);isNaN(n)&&(n=this.selectedValue),n=Math.round(n),n=Math.max(0,Math.min(n,10*this.maximumAvailableTier)),this.selectedValue=n,this.selectedTier=n/10,this.selectedTierChange.emit(this.selectedTier),this.editingValue=!1,this.shouldSelectText=!1}cancelValueEdit(){this.editingValue=!1,this.shouldSelectText=!1}startValueEdit(){this.editingValue=!0,this.shouldSelectText=!0}isSixthStat(){return this.stat===d.uD.StatMelee}getSelectedValuePosition(){return this.selectedValue/200*100}animateMaxTierChange(){this.clearAnimationTimeouts();const e=10*this.maximumAvailableTier,n=this.currentAnimatedMaxValue;if(n===e)return;if(0===n)return void(this.currentAnimatedMaxValue=e);const i=e>n?1:-1,a=Math.abs(e-n);for(let l=1;l<=a;l++){const m=window.setTimeout(()=>{this.currentAnimatedMaxValue=n+i*l},10*l);this.animationTimeouts.add(m)}}clearAnimationTimeouts(){this.animationTimeouts.forEach(e=>window.clearTimeout(e)),this.animationTimeouts.clear()}isStatValueAnimating(e){const n=this.currentAnimatedMaxValue,i=10*this.maximumAvailableTier;if(n===i)return!1;const a=Math.min(n,i),s=Math.max(n,i);return e>a&&e<=s}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(Q.so))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-stat-tier-selection"]],viewQuery:function(n,i){if(1&n&&t.GBs(ro,5),2&n){let a;t.mGM(a=t.lsd())&&(i.valueInput=a.first)}},inputs:{stat:"stat",statsByMods:"statsByMods",maximumAvailableTier:"maximumAvailableTier",selectedTier:"selectedTier",locked:"locked",tabIndexOffset:"tabIndexOffset"},outputs:{selectedTierChange:"selectedTierChange",lockedChange:"lockedChange"},features:[t.OA$],decls:23,vars:15,consts:[[2,"display","flex","align-items","center","gap","12px"],[1,"custom-stat-slider",2,"width","350px","height","30px"],[2,"display","flex","align-items","center","height","100%","width","100%","gap","0"],[4,"ngFor","ngForOf"],[1,"milestone-labels"],["class","milestone-button zero-button","style","left: 0%","mat-flat-button","",3,"click",4,"ngIf"],["class","milestone-label","style","left: 25%",4,"ngIf"],["class","milestone-label","style","left: 50%",4,"ngIf"],["class","milestone-label","style","left: 75%",4,"ngIf"],["class","milestone-button max-button","style","left: 100%","mat-flat-button","",3,"click",4,"ngIf"],[1,"selected-value-label"],[1,"stat-tier-value"],[1,"value-section"],["class","clickable-value","style","cursor: pointer; display: inline-block",3,"click",4,"ngIf"],["type","number","class","value-input",3,"min","max","value","blur","keydown.enter","keydown.escape",4,"ngIf"],[1,"separator-section"],[1,"max-value-section"],["mat-icon-button","","matTooltip","Locking a stat enforces this stat to have exactly this value. Use this for example to get exact T3 of Mobility on a Titan.",3,"click"],[4,"ngIf"],["class","lock-locked",4,"ngIf"],["matTooltipPosition","above",1,"stat-line",3,"matTooltip","matTooltipDisabled","matTooltipShowDelay","click","mouseenter","mouseleave"],["mat-flat-button","",1,"milestone-button","zero-button",2,"left","0%",3,"click"],[1,"milestone-label",2,"left","25%"],[1,"milestone-label",2,"left","50%"],[1,"milestone-label",2,"left","75%"],["mat-flat-button","",1,"milestone-button","max-button",2,"left","100%",3,"click"],[1,"max-text"],[1,"clickable-value",2,"cursor","pointer","display","inline-block",3,"click"],["type","number",1,"value-input",3,"min","max","value","blur","keydown.enter","keydown.escape"],["valueInput",""],[1,"lock-locked"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.DNE(3,so,2,19,"ng-container",3),t.k0s(),t.j41(4,"div",4),t.DNE(5,co,2,1,"button",5),t.DNE(6,lo,2,0,"div",6),t.DNE(7,mo,2,0,"div",7),t.DNE(8,po,2,0,"div",8),t.DNE(9,uo,3,1,"button",9),t.k0s(),t.j41(10,"div",10),t.EFF(11),t.k0s()(),t.j41(12,"div",11)(13,"div",12),t.DNE(14,go,2,2,"span",13),t.DNE(15,ho,2,4,"input",14),t.k0s(),t.j41(16,"div",15),t.EFF(17,"/"),t.k0s(),t.j41(18,"div",16),t.EFF(19),t.k0s()(),t.j41(20,"button",17),t.bIt("click",function(){return i.toggleLockState()}),t.DNE(21,fo,2,0,"mat-icon",18),t.DNE(22,_o,2,0,"mat-icon",19),t.k0s()()),2&n&&(t.R7$(3),t.Y8G("ngForOf",i.statValues),t.R7$(2),t.Y8G("ngIf",i.selectedValue<-12||i.selectedValue>12),t.R7$(1),t.Y8G("ngIf",i.isSixthStat()&&(i.selectedValue<38||i.selectedValue>62)),t.R7$(1),t.Y8G("ngIf",i.isSixthStat()&&(i.selectedValue<88||i.selectedValue>112)),t.R7$(1),t.Y8G("ngIf",i.isSixthStat()&&(i.selectedValue<138||i.selectedValue>162)),t.R7$(1),t.Y8G("ngIf",i.selectedValue<188||i.selectedValue>212),t.R7$(1),t.xc7("left",i.getSelectedValuePosition(),"%"),t.R7$(1),t.SpI(" ",i.selectedValue," "),t.R7$(3),t.Y8G("ngIf",!i.editingValue),t.R7$(1),t.Y8G("ngIf",i.editingValue),t.R7$(4),t.JRh(10*i.maximumAvailableTier),t.R7$(1),t.BMQ("tabindex",i.tabIndexOffset+4),t.R7$(1),t.Y8G("ngIf",!i.locked),t.R7$(1),t.Y8G("ngIf",i.locked))},dependencies:[R.Sq,R.bT,lt.$z,lt.iY,pt.oV,Tt.An],styles:['\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.stat-tier-value[_ngcontent-%COMP%]{min-width:90px;text-align:right;position:relative;display:flex;align-items:center}.stat-tier-value[_ngcontent-%COMP%]   .value-section[_ngcontent-%COMP%]{width:40px;text-align:center;display:flex;justify-content:center;align-items:center}.stat-tier-value[_ngcontent-%COMP%]   .separator-section[_ngcontent-%COMP%]{width:10px;text-align:center}.stat-tier-value[_ngcontent-%COMP%]   .max-value-section[_ngcontent-%COMP%]{width:40px;text-align:center;display:flex;justify-content:center;align-items:center}.stat-tier-value[_ngcontent-%COMP%]   .hover-value-indicator[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;font-size:.8em;color:#2196f3;white-space:nowrap;transition:opacity .05s linear;font-weight:700}.stat-tier-value[_ngcontent-%COMP%]   .value-input[_ngcontent-%COMP%]{width:45px;text-align:center;border:none;border-bottom:1px solid #888;outline:none;background:transparent;font:inherit;color:#fff}.stat-tier-value[_ngcontent-%COMP%]   .clickable-value[_ngcontent-%COMP%]{transition:all .2s ease;border:1px solid rgba(255,255,255,.3);background:rgba(255,255,255,.05);padding:4px 8px;border-radius:4px;cursor:pointer;display:inline-block;min-width:35px;text-align:center}.stat-tier-value[_ngcontent-%COMP%]   .clickable-value[_ngcontent-%COMP%]:hover{color:#2196f3;border-color:#2196f3;background:rgba(33,150,243,.1);box-shadow:0 0 4px #2196f34d;transform:translateY(-1px)}.stat-tier-value[_ngcontent-%COMP%]   .clickable-value[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 0 2px #2196f380}.select-button[_ngcontent-%COMP%]{min-width:38px}.stat-button-content[_ngcontent-%COMP%]{width:100%}.custom-stat-slider[_ngcontent-%COMP%]{position:relative}.custom-stat-slider[_ngcontent-%COMP%]   .milestone-labels[_ngcontent-%COMP%]{position:absolute;top:100%;width:100%;height:20px;pointer-events:none;margin-top:-2px}.custom-stat-slider[_ngcontent-%COMP%]   .milestone-label[_ngcontent-%COMP%]{position:absolute;transform:translate(-50%);font-size:.75em;color:#fffc;margin-top:0}.custom-stat-slider[_ngcontent-%COMP%]   .milestone-button[_ngcontent-%COMP%]{position:absolute;transform:translate(-50%);font-size:.65em;min-width:unset!important;height:18px!important;line-height:1!important;padding:0!important;pointer-events:auto;margin-top:1px}.custom-stat-slider[_ngcontent-%COMP%]   .milestone-button.zero-button[_ngcontent-%COMP%]{width:24px}.custom-stat-slider[_ngcontent-%COMP%]   .milestone-button.max-button[_ngcontent-%COMP%]{width:16px}.custom-stat-slider[_ngcontent-%COMP%]   .milestone-button.max-button[_ngcontent-%COMP%]   .max-text[_ngcontent-%COMP%]{transform:rotate(90deg);display:inline-block;white-space:nowrap;font-size:.8em}.custom-stat-slider[_ngcontent-%COMP%]   .selected-value-label[_ngcontent-%COMP%]{position:absolute;top:100%;transform:translate(-50%);font-size:.75em;color:#2196f3;margin-top:-2px;font-weight:700;pointer-events:none}.custom-stat-slider[_ngcontent-%COMP%]   .stat-line[_ngcontent-%COMP%]{width:1px;min-width:1px;flex-grow:1;background-color:#ffffff4d;cursor:pointer;position:relative;align-self:center}.custom-stat-slider[_ngcontent-%COMP%]   .stat-line[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-8px -2px -8px -1px;opacity:0;pointer-events:auto}.custom-stat-slider[_ngcontent-%COMP%]   .stat-line[_ngcontent-%COMP%]:hover{background-color:#fffc;box-shadow:0 0 6px 2px #4caf5040}.custom-stat-slider[_ngcontent-%COMP%]   .stat-line.lower-than-hovered[_ngcontent-%COMP%]{background-color:#add8ff4d}.custom-stat-slider[_ngcontent-%COMP%]   .stat-line.lower-than-selected[_ngcontent-%COMP%]{background-color:#2196f340}.custom-stat-slider[_ngcontent-%COMP%]   .stat-line.higher-than-hovered[_ngcontent-%COMP%]{background-color:#ffffff4d}.custom-stat-slider[_ngcontent-%COMP%]   .stat-line.zero-line[_ngcontent-%COMP%]{background-color:red}.custom-stat-slider[_ngcontent-%COMP%]   .stat-line.zero-line[_ngcontent-%COMP%]:hover{background-color:#8b0000}.custom-stat-slider[_ngcontent-%COMP%]   .stat-line.milestone-line[_ngcontent-%COMP%]{background-color:#ffffffb3}.custom-stat-slider[_ngcontent-%COMP%]   .stat-line.milestone-line[_ngcontent-%COMP%]:hover{background-color:#fff}.custom-stat-slider[_ngcontent-%COMP%]   .stat-line.selected[_ngcontent-%COMP%]{background-color:#2196f3;width:2px;min-width:2px}.custom-stat-slider[_ngcontent-%COMP%]   .stat-line.selected[_ngcontent-%COMP%]:hover{background-color:#1565c0}.custom-stat-slider[_ngcontent-%COMP%]   .stat-line.disabled[_ngcontent-%COMP%]{opacity:.3;cursor:not-allowed}.custom-stat-slider[_ngcontent-%COMP%]   .stat-line.disabled[_ngcontent-%COMP%]:hover{background-color:#ffffff4d}.lock-locked[_ngcontent-%COMP%]{color:#f44336}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}']})}}return o})(),ue=(()=>{class o{constructor(){this.ArmorStatNames=d.wy,this.ArmorStatIconUrls=d.BU,this.stat=d.uD.StatWeapon}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-stat-icon"]],inputs:{stat:"stat"},decls:2,vars:2,consts:[[1,"statContainerWrapper"],[1,"dialogStatIcon",3,"src","alt"]],template:function(n,i){1&n&&(t.j41(0,"span",0),t.nrm(1,"img",1),t.k0s()),2&n&&(t.R7$(1),t.Y8G("src",i.ArmorStatIconUrls[i.stat],t.B4B)("alt",i.ArmorStatNames[i.stat]))},styles:[".dialogStatIcon[_ngcontent-%COMP%]{position:relative;width:25px;margin-right:3px;top:0}\n\n/*# sourceMappingURL=stat-icon.component.css.map*/"]})}}return o})();function bo(o,r){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.nrm(4,"app-stat-icon",8),t.k0s(),t.j41(5,"td")(6,"app-stat-tier-selection",9),t.bIt("selectedTierChange",function(i){const s=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.setSelectedTier(s.value,i))})("lockedChange",function(i){const s=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.setLockState(s.value,i))}),t.k0s()()()}if(2&o){const e=r.$implicit,n=r.index,i=t.XpG();t.R7$(2),t.SpI(" ",e.name," "),t.R7$(2),t.Y8G("stat",e.value),t.R7$(2),t.Y8G("stat",e.value)("statsByMods",i.statsByMods[e.value])("maximumAvailableTier",i.maximumPossibleTiers[e.value])("selectedTier",i.minimumStatTiers[e.value].value)("locked",i.minimumStatTiers[e.value].fixed)("tabIndexOffset",10*n)}}let Co=(()=>{class o{constructor(e,n){this.config=e,this.armorCalculator=n,this.minimumStatTiers=zt(1),this.maximumPossibleTiers=[20,20,20,20,20,20],this.statsByMods=[0,0,0,0,0,0],this.config_zero_waste=!1,this.config_mod_strategy=Rt.P.None,this.config_reduce_waste=!1,this.ngUnsubscribe=new G.B7,this.stats=d.Hz.map(i=>({name:d.wy[+i],value:+i}))}ngOnInit(){this.config.configuration.pipe((0,x.Q)(this.ngUnsubscribe)).subscribe(e=>{const n=[0,0,0,0,0,0];for(let i of e.enabledMods)for(let a of F.v[i].bonus)n[a.stat]+=a.value/10;this.statsByMods=n,this.minimumStatTiers=e.minimumStatTiers,this.config_zero_waste=e.onlyShowResultsWithNoWastedStats,this.config_mod_strategy=e.modOptimizationStrategy,this.config_reduce_waste=e.tryLimitWastedStats}),this.armorCalculator.reachableTiers.pipe((0,x.Q)(this.ngUnsubscribe)).subscribe(e=>{const n=e||[20,20,20,20,20,20];n.filter(i=>0==i).length<6&&(this.maximumPossibleTiers=n)}),this.armorCalculator.armorResults.pipe((0,x.Q)(this.ngUnsubscribe)).subscribe(e=>{const n=e.maximumPossibleTiers||[20,20,20,20,20,20];n.filter(i=>0==i).length<6&&(this.maximumPossibleTiers=n)})}setSelectedTier(e,n){this.config.modifyConfiguration(i=>{i.minimumStatTiers[e].value=n})}clearStatSelection(){this.config.modifyConfiguration(e=>{for(let n of d.Hz)e.minimumStatTiers[n]={fixed:!1,value:0}})}useStatPreset(e){0!=e.filter(n=>10!=this.config.readonlyConfigurationSnapshot.minimumStatTiers[n].value).length&&this.config.modifyConfiguration(n=>{for(let i of e)n.minimumStatTiers[i].value=10})}setLockState(e,n){this.config.modifyConfiguration(i=>{i.minimumStatTiers[e].fixed=n})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}setModOptimizationStrategy(){this.config.modifyConfiguration(e=>{e.modOptimizationStrategy=this.config_mod_strategy})}toggleReduceWaste(){this.config.modifyConfiguration(e=>{e.tryLimitWastedStats=!this.config_reduce_waste})}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(E),t.rXU(Yt))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-desired-stat-selection"]],decls:23,vars:5,consts:[[4,"ngFor","ngForOf"],["id","tierSelectButtonContainer"],[1,"tierSelectButton"],["mat-stroked-button","","color","warn","id","clearStatButton",3,"click"],[3,"ngModel","ngModelChange","change"],["matTooltip","Fast. Will result in good and fast results. Some better results *may* be skipped.",3,"value"],["matTooltip","Slower. Reduces the amount of used mods. This means that it will try to give you 4 mods instead of 5 whenever possible.",3,"value"],["matTooltip","Slower. Reduces the total cost of mods. This will result in less Super mods, for example.",3,"value"],[3,"stat"],[3,"stat","statsByMods","maximumAvailableTier","selectedTier","locked","tabIndexOffset","selectedTierChange","lockedChange"]],template:function(n,i){1&n&&(t.j41(0,"table"),t.DNE(1,bo,7,8,"tr",0),t.k0s(),t.j41(2,"span",1)(3,"span",2)(4,"button",3),t.bIt("click",function(){return i.clearStatSelection()}),t.EFF(5,"Clear"),t.k0s()()(),t.nrm(6,"br")(7,"br"),t.j41(8,"div")(9,"div")(10,"b"),t.EFF(11,"Mod optimization strategy:"),t.k0s()(),t.j41(12,"div"),t.EFF(13,"You can choose if the algorithm should keep an eye on amount or the cost of mods."),t.k0s(),t.j41(14,"div"),t.EFF(15,"These settings are extremely expensive when paired with the reduced waste feature."),t.k0s(),t.j41(16,"mat-button-toggle-group",4),t.bIt("ngModelChange",function(s){return i.config_mod_strategy=s})("change",function(){return i.setModOptimizationStrategy()}),t.j41(17,"mat-button-toggle",5),t.EFF(18,"No extra logic (fast)"),t.k0s(),t.j41(19,"mat-button-toggle",6),t.EFF(20,"Fewer mods, high cost (slow)"),t.k0s(),t.j41(21,"mat-button-toggle",7),t.EFF(22,"Many mods, low cost (slow)"),t.k0s()()()),2&n&&(t.R7$(1),t.Y8G("ngForOf",i.stats),t.R7$(15),t.Y8G("ngModel",i.config_mod_strategy),t.R7$(1),t.Y8G("value",0),t.R7$(2),t.Y8G("value",1),t.R7$(2),t.Y8G("value",2))},dependencies:[R.Sq,ft.BC,ft.vS,lt.$z,pt.oV,$t.ec,$t.pc,yo,ue],styles:["#tierSelectButtonContainer[_ngcontent-%COMP%] > .tierSelectButton[_ngcontent-%COMP%]:not(:last-child){margin-right:5px}.warn[_ngcontent-%COMP%]{background-color:#8b0000;padding-left:15px;padding-right:15px}\n\n/*# sourceMappingURL=desired-stat-selection.component.css.map*/"]})}}return o})();var Et=C(7172);function vo(o,r){if(1&o){const e=t.RV6();t.j41(0,"img",13,14),t.bIt("click",function(i){t.eBV(e);const a=t.XpG(2);return t.Njj(a.selectExotic([-2],i))}),t.k0s()}if(2&o){const e=t.XpG(2);t.ZvI("exoticIcon ",e.selectedExotics.indexOf(-2)>-1?"selected":"","")}}function xo(o,r){if(1&o){const e=t.RV6();t.j41(0,"img",15,14),t.bIt("click",function(i){t.eBV(e);const a=t.XpG(2);return t.Njj(a.selectExotic([-1],i))}),t.k0s()}if(2&o){const e=t.XpG(2);t.ZvI("exoticIcon ",e.selectedExotics.indexOf(-1)>-1?"selected":"","")}}function So(o,r){if(1&o&&t.nrm(0,"div",19),2&o){const e=t.XpG().$implicit,n=t.XpG(2);t.AVh("vendor-item",n.includeVendorRolls&&e.inVendor)("collection-item",n.includeCollectionRolls&&e.inCollection)}}const ko=function(o,r,e,n){return{exoticIcon:!0,selected:o,"vendor-item":r,"collection-item":e,disabled:n}};function wo(o,r){if(1&o){const e=t.RV6();t.j41(0,"span",16)(1,"app-item-icon",17),t.bIt("click",function(i){const s=t.eBV(e).$implicit,l=t.XpG(2);return t.Njj((s.inInventory||l.includeCollectionRolls&&s.inCollection)&&l.selectExotic(l.getHashesForExotic(s),i))}),t.k0s(),t.DNE(2,So,1,4,"div",18),t.k0s()}if(2&o){const e=r.$implicit,n=t.XpG(2);t.R7$(1),t.Y8G("itemHash",e.items[0].hash)("ngClass",t.ziG(6,ko,n.selectedExotics.indexOf(e.items[0].hash)>-1,!e.inInventory&&n.includeVendorRolls&&e.inVendor,!e.inInventory&&n.includeCollectionRolls&&e.inCollection,!(e.inInventory||n.includeCollectionRolls&&e.inCollection||n.includeVendorRolls&&e.inVendor)))("exoticTooltip",e.items[0])("exoticTooltipInVendor",!e.inInventory&&n.includeVendorRolls&&e.inVendor)("exoticTooltipInCollection",!e.inInventory&&n.includeCollectionRolls&&e.inCollection),t.R7$(1),t.Y8G("ngIf",!e.inInventory)}}function Mo(o,r){if(1&o&&(t.j41(0,"div"),t.DNE(1,vo,2,3,"img",10),t.DNE(2,xo,2,3,"img",11),t.DNE(3,wo,3,11,"span",12),t.k0s()),2&o){const e=r.$implicit,n=r.index;t.Y8G("@listAnimation",e.length),t.R7$(1),t.Y8G("ngIf",0===n),t.R7$(1),t.Y8G("ngIf",0===n),t.R7$(1),t.Y8G("ngForOf",e)}}function Eo(o,r){if(1&o&&(t.j41(0,"mat-option",24),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.Y8G("value",e.value),t.R7$(1),t.SpI(" ",e.name," ")}}function Oo(o,r){if(1&o&&(t.j41(0,"mat-option",24),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.Y8G("value",e.value),t.R7$(1),t.SpI(" ",e.name," ")}}function Io(o,r){if(1&o){const e=t.RV6();t.j41(0,"div",20)(1,"h4"),t.EFF(2,"Exotic Class Item Perks"),t.k0s(),t.j41(3,"div",21)(4,"mat-form-field",22)(5,"mat-label"),t.EFF(6,"First Perk"),t.k0s(),t.j41(7,"mat-select",23),t.bIt("selectionChange",function(i){t.eBV(e);const a=t.XpG();return t.Njj(a.setExoticPerk(0,i.value))}),t.j41(8,"mat-option",24),t.EFF(9,"Any"),t.k0s(),t.DNE(10,Eo,2,2,"mat-option",25),t.k0s()(),t.j41(11,"mat-form-field",22)(12,"mat-label"),t.EFF(13,"Second Perk"),t.k0s(),t.j41(14,"mat-select",23),t.bIt("selectionChange",function(i){t.eBV(e);const a=t.XpG();return t.Njj(a.setExoticPerk(1,i.value))}),t.j41(15,"mat-option",24),t.EFF(16,"Any"),t.k0s(),t.DNE(17,Oo,2,2,"mat-option",25),t.k0s()()()()}if(2&o){const e=t.XpG();t.R7$(7),t.Y8G("value",e.selectedExoticPerks[0]),t.R7$(1),t.Y8G("value",e.anyPerkValue),t.R7$(2),t.Y8G("ngForOf",e.availableFirstPerks),t.R7$(4),t.Y8G("value",e.selectedExoticPerks[1]),t.R7$(1),t.Y8G("value",e.anyPerkValue),t.R7$(2),t.Y8G("ngForOf",e.availableSecondPerks)}}function Fo(o,r){if(1&o){const e=t.RV6();t.j41(0,"button",26),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.refreshAll())}),t.EFF(1," Manually refresh manifest and inventory "),t.k0s()}}function Po(o,r){1&o&&t.nrm(0,"mat-spinner",27)}const To=(0,Et.hZ)("listAnimation",[(0,Et.kY)("* <=> *",[(0,Et.P)(":enter",[(0,Et.iF)({opacity:0}),(0,Et.yc)("30ms",(0,Et.i0)("350ms ease-out",(0,Et.iF)({opacity:1})))],{optional:!0})])]);let on=(()=>{class o{constructor(e,n,i,a){this.inventory=e,this.config=n,this.bungieApi=i,this.logger=a,this.selectedExotics=[],this.selectedExoticPerks=[d.dm.Any,d.dm.Any],this.includeCollectionRolls=!1,this.includeVendorRolls=!1,this.ignoreSunsetArmor=!1,this.allowBlueArmorPieces=!1,this.allowLegacyLegendaryArmor=!1,this.allowLegacyExoticArmor=!1,this.enforceFeaturedLegendaryArmor=!1,this.enforceFeaturedExoticArmor=!1,this.currentClass=3,this.exotics=[],this.importEquippedExoticInProgress=!1,this.anyPerkValue=d.dm.Any,this.availableFirstPerks=[],this.availableSecondPerks=[],this.ngUnsubscribe=new G.B7}ngOnInit(){var e=this;this.config.configuration.pipe((0,x.Q)(this.ngUnsubscribe)).subscribe(function(){var n=(0,_.A)(function*(i){(i.characterClass!=e.currentClass||0==e.exotics.length)&&(e.currentClass=i.characterClass,yield e.updateExoticsForClass()),e.includeCollectionRolls=i.includeCollectionRolls,e.includeVendorRolls=i.includeVendorRolls,e.selectedExotics=i.selectedExotics,e.selectedExoticPerks=i.selectedExoticPerks,e.ignoreSunsetArmor=i.ignoreSunsetArmor,e.allowBlueArmorPieces=i.allowBlueArmorPieces,e.allowLegacyLegendaryArmor=i.allowLegacyLegendaryArmor,e.allowLegacyExoticArmor=i.allowLegacyExoticArmor,e.enforceFeaturedLegendaryArmor=i.enforceFeaturedLegendaryArmor,e.enforceFeaturedExoticArmor=i.enforceFeaturedExoticArmor});return function(i){return n.apply(this,arguments)}}()),this.inventory.manifest.pipe((0,Dt.B)(10),(0,x.Q)(this.ngUnsubscribe)).subscribe((0,_.A)(function*(){yield e.updateExoticsForClass()})),this.inventory.inventory.pipe((0,Dt.B)(10),(0,x.Q)(this.ngUnsubscribe)).subscribe((0,_.A)(function*(){yield e.updateExoticsForClass()}))}updateExoticsForClass(){var e=this;return(0,_.A)(function*(){e.logger.debug("DesiredExoticSelectionComponent","updateExoticsForClass","Updating exotics for class: "+e.currentClass);const n=yield e.inventory.getExoticsForClass(e.currentClass);e.exotics=[n.filter(i=>i.items[0].slot==O.s.ArmorSlotHelmet),n.filter(i=>i.items[0].slot==O.s.ArmorSlotGauntlet),n.filter(i=>i.items[0].slot==O.s.ArmorSlotChest),n.filter(i=>i.items[0].slot==O.s.ArmorSlotLegs),n.filter(i=>i.items[0].slot==O.s.ArmorSlotClass)],e.updateAvailableExoticClassItemPerks()})()}updateAvailableExoticClassItemPerks(){const e=this.exotics[4],n=new Set,i=new Set;e.forEach(a=>{a.instances.forEach(s=>{s.exoticPerkHash&&s.exoticPerkHash.length>=2&&(n.add(s.exoticPerkHash[0]),i.add(s.exoticPerkHash[1]))})}),this.availableFirstPerks=Array.from(n).map(a=>({name:De[a]||`Unknown Perk ${a}`,value:a})).sort((a,s)=>a.name.localeCompare(s.name)),this.availableSecondPerks=Array.from(i).map(a=>({name:De[a]||`Unknown Perk ${a}`,value:a})).sort((a,s)=>a.name.localeCompare(s.name)),this.logger.debug("DesiredExoticSelectionComponent","updateAvailableExoticClassItemPerks","Available first perks: "+JSON.stringify(this.availableFirstPerks)),this.logger.debug("DesiredExoticSelectionComponent","updateAvailableExoticClassItemPerks","Available second perks: "+JSON.stringify(this.availableSecondPerks))}hasSelectedExoticClassItem(){return(this.exotics[4]||[]).some(n=>n.items.some(i=>this.selectedExotics.includes(i.hash)))}setExoticPerk(e,n){this.config.modifyConfiguration(i=>{i.selectedExoticPerks[e]=n})}setAllowCollectionRolls(e){this.config.modifyConfiguration(n=>{n.includeCollectionRolls=e})}setAllowVendorItems(e){this.config.modifyConfiguration(n=>{n.includeVendorRolls=e})}setAllowBlueArmorPieces(e){this.config.modifyConfiguration(n=>{n.allowBlueArmorPieces=e})}setAllowLegacyLegendaryArmor(e){this.config.modifyConfiguration(n=>{n.allowLegacyLegendaryArmor=e})}setAllowLegacyExoticArmor(e){this.config.modifyConfiguration(n=>{n.allowLegacyExoticArmor=e})}setIgnoreSunsetArmor(e){this.config.modifyConfiguration(n=>{n.ignoreSunsetArmor=e})}setEnforceFeaturedLegendaryArmor(e){this.config.modifyConfiguration(n=>{n.enforceFeaturedLegendaryArmor=e})}setEnforceFeaturedExoticArmor(e){this.config.modifyConfiguration(n=>{n.enforceFeaturedExoticArmor=e})}getHashesForExotic(e){return 0==e.items.length?[]:e.items[0].hash==T.Bi?[T.Bi]:e.items.map(n=>n.hash)}selectExotic(e,n){this.selectedExotics=e.some(a=>this.selectedExotics.indexOf(a)>-1)?this.selectedExotics.filter(a=>-1==e.indexOf(a)):e,this.config.modifyConfiguration(a=>{a.selectedExotics=this.selectedExotics,this.hasSelectedExoticClassItem()||(a.selectedExoticPerks=[d.dm.Any,d.dm.Any],this.selectedExoticPerks=[d.dm.Any,d.dm.Any])})}refreshAll(){var e=this;return(0,_.A)(function*(){yield e.inventory.refreshManifestAndInventory(!0,!0)})()}importEquippedExotic(){var e=this;return(0,_.A)(function*(){e.importEquippedExoticInProgress=!0;try{yield e.bungieApi.importCurrentlyEquippedExotic()}catch(n){e.logger.error("DesiredExoticSelectionComponent","importEquippedExotic","Error importing equipped exotic: "+n)}finally{e.importEquippedExoticInProgress=!1}})()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(Gt),t.rXU(E),t.rXU(we),t.rXU(Q.so))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-desired-exotic-selection"]],decls:53,vars:13,consts:[[4,"ngFor","ngForOf"],["class","exotic-class-item-perks",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"],["diameter","20","class","inline-spinner",4,"ngIf"],["color","warn",3,"checked","change"],[1,"legendary-label"],[1,"exotic-label"],[1,"minispace"],["color","primary",3,"checked","change"],["src","assets/icons/exotic_helmet.jpg","matTooltip","Force to use ANY exotic (that is NOT a class item)",3,"class","click",4,"ngIf"],["src","assets/icons/empty_modslot.png","matTooltip","Force to use NO exotic at all",3,"class","click",4,"ngIf"],["class","container",4,"ngFor","ngForOf"],["src","assets/icons/exotic_helmet.jpg","matTooltip","Force to use ANY exotic (that is NOT a class item)",3,"click"],["tooltip","matTooltip"],["src","assets/icons/empty_modslot.png","matTooltip","Force to use NO exotic at all",3,"click"],[1,"container"],[3,"itemHash","ngClass","exoticTooltip","exoticTooltipInVendor","exoticTooltipInCollection","click"],["class","item-source-overlay",3,"vendor-item","collection-item",4,"ngIf"],[1,"item-source-overlay"],[1,"exotic-class-item-perks"],[1,"perk-selectors"],["appearance","outline"],[3,"value","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","warn",3,"click"],["diameter","20",1,"inline-spinner"]],template:function(n,i){1&n&&(t.DNE(0,Mo,4,4,"div",0),t.DNE(1,Io,18,6,"div",1),t.j41(2,"div"),t.DNE(3,Fo,2,0,"button",2),t.k0s(),t.j41(4,"div")(5,"button",3),t.bIt("click",function(){return i.importEquippedExotic()}),t.EFF(6," Import Equipped Exotic "),t.k0s(),t.DNE(7,Po,1,0,"mat-spinner",4),t.k0s(),t.nrm(8,"br"),t.j41(9,"div")(10,"mat-slide-toggle",5),t.bIt("change",function(s){return i.setEnforceFeaturedLegendaryArmor(s.checked)}),t.EFF(11," Enforce featured "),t.j41(12,"span",6),t.EFF(13,"legendary"),t.k0s(),t.EFF(14," armor only "),t.k0s()(),t.j41(15,"div")(16,"mat-slide-toggle",5),t.bIt("change",function(s){return i.setEnforceFeaturedExoticArmor(s.checked)}),t.EFF(17," Enforce featured "),t.j41(18,"span",7),t.EFF(19,"exotic"),t.k0s(),t.EFF(20," armor only "),t.k0s()(),t.nrm(21,"div",8),t.j41(22,"div")(23,"mat-slide-toggle",9),t.bIt("change",function(s){return i.setAllowCollectionRolls(s.checked)}),t.EFF(24," Include "),t.j41(25,"u"),t.EFF(26,"exotic"),t.k0s(),t.EFF(27," collection rolls "),t.k0s()(),t.j41(28,"div")(29,"mat-slide-toggle",9),t.bIt("change",function(s){return i.setAllowVendorItems(s.checked)}),t.EFF(30," Include "),t.j41(31,"u"),t.EFF(32,"legendary and exotic"),t.k0s(),t.EFF(33," vendor armor (slower) "),t.k0s()(),t.nrm(34,"div",8),t.j41(35,"div")(36,"mat-slide-toggle",9),t.bIt("change",function(s){return i.setAllowLegacyLegendaryArmor(s.checked)}),t.EFF(37," Include legacy (Armor 2.0) "),t.j41(38,"span",6),t.EFF(39,"legendary"),t.k0s(),t.EFF(40," armor "),t.k0s()(),t.j41(41,"div")(42,"mat-slide-toggle",9),t.bIt("change",function(s){return i.setAllowLegacyExoticArmor(s.checked)}),t.EFF(43," Include legacy (Armor 2.0) "),t.j41(44,"span",7),t.EFF(45,"exotic"),t.k0s(),t.EFF(46," armor "),t.k0s()(),t.j41(47,"div")(48,"mat-slide-toggle",9),t.bIt("change",function(s){return i.setAllowBlueArmorPieces(s.checked)}),t.EFF(49," Include white, blue and green items "),t.k0s()(),t.j41(50,"div")(51,"mat-slide-toggle",9),t.bIt("change",function(s){return i.setIgnoreSunsetArmor(!s.checked)}),t.EFF(52," Include sunset armor "),t.k0s()()),2&n&&(t.Y8G("ngForOf",i.exotics),t.R7$(1),t.Y8G("ngIf",i.hasSelectedExoticClassItem()),t.R7$(2),t.Y8G("ngIf",0===i.exotics.length||0===i.exotics[0].length),t.R7$(2),t.Y8G("disabled",i.importEquippedExoticInProgress),t.R7$(2),t.Y8G("ngIf",i.importEquippedExoticInProgress),t.R7$(3),t.Y8G("checked",i.enforceFeaturedLegendaryArmor),t.R7$(6),t.Y8G("checked",i.enforceFeaturedExoticArmor),t.R7$(7),t.Y8G("checked",i.includeCollectionRolls),t.R7$(6),t.Y8G("checked",i.includeVendorRolls),t.R7$(7),t.Y8G("checked",i.allowLegacyLegendaryArmor),t.R7$(6),t.Y8G("checked",i.allowLegacyExoticArmor),t.R7$(6),t.Y8G("checked",i.allowBlueArmorPieces),t.R7$(3),t.Y8G("checked",!i.ignoreSunsetArmor))},styles:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.container[_ngcontent-%COMP%]{display:inline-block;position:relative;--icon-size: 36px}.exoticIcon[_ngcontent-%COMP%]{width:34px;height:34px;margin-right:3px;border:rgba(0,0,0,0) solid 2px;cursor:pointer}.watermarkIcon[_ngcontent-%COMP%]{width:34px;height:34px;margin-left:-39px;margin-top:2px;position:absolute;pointer-events:none}.exoticIcon[_ngcontent-%COMP%]:hover{border:cornflowerblue solid 2px}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]:hover{border:#0059ff solid 2px}[_nghost-%COMP%]{position:relative}.exoticText[_ngcontent-%COMP%]{position:absolute;text-shadow:0 0 6px #000000;background:rgba(33,33,33,.51);color:#f5f5f5;bottom:4px;right:5px}.disabled[_ngcontent-%COMP%]{filter:grayscale(1) contrast(.6)}.disabled[_ngcontent-%COMP%]:hover{cursor:default}.item-source-overlay[_ngcontent-%COMP%]{margin:2px}.item-source-overlay[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:0;pointer-events:none;border-top:calc(var(--icon-size) / 2) solid transparent;border-right:calc(var(--icon-size) / 2) solid transparent}.item-source-overlay.vendor-item[_ngcontent-%COMP%]{border-top-color:#00f}.item-source-overlay.collection-item[_ngcontent-%COMP%]{border-top-color:#90ee90}.inline-spinner[_ngcontent-%COMP%]{margin-right:8px}.exotic-class-item-perks[_ngcontent-%COMP%]{margin-top:16px;padding:16px;border:1px solid #333;border-radius:4px;background-color:#ffffff0d}.exotic-class-item-perks[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;color:#ffa726}.exotic-class-item-perks[_ngcontent-%COMP%]   .perk-selectors[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap}.exotic-class-item-perks[_ngcontent-%COMP%]   .perk-selectors[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:150px;flex:1}.minispace[_ngcontent-%COMP%]{margin:6px 0}.legendary-label[_ngcontent-%COMP%]{color:#b266ff;font-weight:600;font-size:.95em;margin-left:2px;margin-right:2px}.exotic-label[_ngcontent-%COMP%]{color:gold;font-weight:600;font-size:.95em;margin-left:2px;margin-right:2px}"],data:{animation:[To]}})}}return o})();function Ao(o,r){1&o&&(t.j41(0,"div",7),t.EFF(1," Loading characters.. "),t.k0s())}function Do(o,r){1&o&&(t.j41(0,"span"),t.EFF(1,"Titan"),t.k0s())}function Ro(o,r){1&o&&(t.j41(0,"span"),t.EFF(1,"Hunter"),t.k0s())}function jo(o,r){1&o&&(t.j41(0,"span"),t.EFF(1,"Warlock"),t.k0s())}function Go(o,r){if(1&o&&(t.j41(0,"div"),t.nrm(1,"img",10),t.j41(2,"span",11),t.EFF(3),t.k0s()()),2&o){const e=t.XpG().$implicit,n=t.XpG();t.R7$(3),t.SpI("\xd7",n.itemCounts[e.clazz],"")}}function Vo(o,r){if(1&o){const e=t.RV6();t.j41(0,"div",8),t.bIt("click",function(){const a=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.selectClass(a.clazz))}),t.j41(1,"div",9),t.DNE(2,Do,2,0,"span",3),t.DNE(3,Ro,2,0,"span",3),t.DNE(4,jo,2,0,"span",3),t.k0s(),t.DNE(5,Go,4,1,"div",3),t.k0s()}if(2&o){const e=r.$implicit,n=r.index,i=t.XpG();t.xc7("background-image","url(https://bungie.net/"+e.emblemUrl+")"),t.AVh("selected",i.selectedClass===e.clazz),t.R7$(2),t.Y8G("ngIf",0===e.clazz),t.R7$(1),t.Y8G("ngIf",1===e.clazz),t.R7$(1),t.Y8G("ngIf",2===e.clazz),t.R7$(1),t.Y8G("ngIf",!!i.itemCounts[n])}}function $o(o,r){if(1&o&&(t.j41(0,"div")(1,"span",12),t.nrm(2,"img",13),t.EFF(3),t.nI1(4,"number"),t.k0s(),t.j41(5,"span",12),t.nrm(6,"img",14),t.EFF(7),t.nI1(8,"number"),t.k0s(),t.j41(9,"span",12),t.nrm(10,"img",15),t.EFF(11),t.nI1(12,"number"),t.k0s(),t.j41(13,"span",12),t.nrm(14,"img",16),t.EFF(15),t.nI1(16,"number"),t.k0s(),t.j41(17,"span",12),t.nrm(18,"img",17),t.EFF(19),t.nI1(20,"number"),t.k0s()()),2&o){const e=t.XpG();t.R7$(1),t.Mz_("matTooltip","Exotic Cipher: ",e.storedMaterials[3467984096],""),t.R7$(2),t.SpI(" ",t.i5U(4,10,e.storedMaterials[3467984096],"1.0-0")," "),t.R7$(2),t.Mz_("matTooltip","Ascendant Shards: ",e.storedMaterials[4257549985],""),t.R7$(2),t.SpI(" ",t.i5U(8,13,e.storedMaterials[4257549985],"1.0-0")," "),t.R7$(2),t.Mz_("matTooltip","Enhancement Prisms: ",e.storedMaterials[4257549984],""),t.R7$(2),t.SpI(" ",t.i5U(12,16,e.storedMaterials[4257549984],"1.0-0")," "),t.R7$(2),t.Mz_("matTooltip","Enhancement Cores: ",e.storedMaterials[3853748946],""),t.R7$(2),t.SpI(" ",t.i5U(16,19,e.storedMaterials[3853748946],"1.0-0")," "),t.R7$(2),t.Mz_("matTooltip","Glimmer: ",e.storedMaterials[3159615086],""),t.R7$(2),t.SpI(" ",t.i5U(20,22,e.storedMaterials[3159615086],"1.0-0")," ")}}let No=(()=>{class o{constructor(e,n){this.config=e,this.inv=n,this.itemCounts=[null,null,null],this.selectedClass=-1,this.characters=[],this.storedMaterials=null,this.ngUnsubscribe=new G.B7}ngOnInit(){var e=this;this.inv.characters.pipe((0,x.Q)(this.ngUnsubscribe)).subscribe(n=>{this.characters=n}),this.config.configuration.pipe((0,x.Q)(this.ngUnsubscribe)).subscribe(n=>{this.selectedClass=n.characterClass;const i=-1!=this.characters.findIndex(a=>a.clazz==n.characterClass);this.characters.length>0&&!i&&this.config.modifyConfiguration(a=>{a.characterClass=this.characters[0].clazz,a.selectedExotics=[]})}),this.inv.inventory.pipe((0,x.Q)(this.ngUnsubscribe)).subscribe(function(){var n=(0,_.A)(function*(i){yield e.loadStoredMaterials(),yield e.updateItemCount()});return function(i){return n.apply(this,arguments)}}())}selectClass(e){this.config.readonlyConfigurationSnapshot.characterClass!=e&&this.config.modifyConfiguration(n=>{n.characterClass=e,n.selectedExotics=[]})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}updateItemCount(){var e=this;return(0,_.A)(function*(){for(let n=0;n<3;n++)e.itemCounts[n]=yield e.inv.getItemCountForClass(n)})()}loadStoredMaterials(){var e=this;return(0,_.A)(function*(){var n=JSON.parse(localStorage.getItem("user-materials")||"{}");e.storedMaterials={3853748946:n[3853748946]??0,4257549985:n[4257549985]??0,4257549984:n[4257549984]??0,3159615086:n[3159615086]??0,3467984096:n[3467984096]??0}})()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(E),t.rXU(Gt))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-desired-class-selection"]],decls:15,vars:3,consts:[[1,"character-container"],["class","character-entry",4,"ngIf"],["class","character-entry","style","float: left",3,"selected","background-image","click",4,"ngFor","ngForOf"],[4,"ngIf"],["color","primary","mat-flat-button","","routerLink","/help",1,"hide-gt-xs",2,"margin-left","15px"],["color","accent","href","https://ko-fi.com/mijago","matTooltip","You like my work? This leads you to ko-fi.com, where you can easily support me!","target","_blank"],["color","accent","href","http://discord.d2armorpicker.com","target","_blank"],[1,"character-entry"],[1,"character-entry",2,"float","left",3,"click"],[1,"class-text"],["matTooltip","Amount of armor pieces for this class.","src","data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 51 51'%3e%3cpath d='M24.77 7.03c-8.15.38-14.42 7.41-14.42 15.57v16.06c0 .23.13.44.34.53l10.33 4.68c.78.35 1.66-.22 1.66-1.07V31.9c0-.39-.19-.75-.52-.97l-5.39-3.64c-.87-.52-1.43-1.5-1.34-2.61.13-1.46 1.46-2.52 2.93-2.52h4.36c.65 0 1.17.53 1.17 1.17v6.71s0 .61 1.61.61 1.61-.61 1.61-.61v-6.71c0-.65.52-1.17 1.17-1.17h4.36c1.47 0 2.8 1.06 2.93 2.52.1 1.11-.47 2.09-1.34 2.61l-5.39 3.64c-.32.22-.52.58-.52.97v10.91c0 .85.88 1.42 1.66 1.07l10.33-4.68c.21-.1.34-.3.34-.53v-16.5c.01-8.61-7.18-15.55-15.88-15.14z'/%3e%3c/svg%3e",1,"head-icon"],["matTooltip","Amount of armor pieces for this class.",1,"armor-text"],[1,"material-listing",3,"matTooltip"],["src","https://www.bungie.net/common/destiny2_content/icons/9970631fe1052642c268132dfc30e16b.jpg","alt","Exotic Cipher"],["src","https://www.bungie.net/common/destiny2_content/icons/0271d214fc3ec91b3def799a4b286b46.jpg","alt","Ascendant Shard"],["src","https://www.bungie.net/common/destiny2_content/icons/dea2a35badf7466d4c2c2697ce6e8d87.jpg","alt","Enhancement Prism"],["src","https://www.bungie.net/common/destiny2_content/icons/0a4eb695ed55b4e720ddc401460cc0f9.jpg","alt","Enhancement Core"],["src","https://www.bungie.net/common/destiny2_content/icons/88993eaeedad32f42072df6f77f47311.png","alt","Glimmer"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.DNE(1,Ao,2,0,"div",1),t.DNE(2,Vo,6,8,"div",2),t.k0s(),t.DNE(3,$o,21,25,"div",3),t.j41(4,"a",4)(5,"mat-icon"),t.EFF(6,"help"),t.k0s(),t.EFF(7," Help and Information about D2ArmorPicker\n"),t.k0s(),t.j41(8,"div"),t.EFF(9," If you like my work, you can "),t.j41(10,"a",5),t.EFF(11," support me here."),t.k0s(),t.EFF(12," You can also "),t.j41(13,"a",6),t.EFF(14," join my dev Discord! "),t.k0s()()),2&n&&(t.R7$(1),t.Y8G("ngIf",0===i.characters.length),t.R7$(1),t.Y8G("ngForOf",i.characters),t.R7$(1),t.Y8G("ngIf",null!==i.storedMaterials))},dependencies:[R.Sq,R.bT,lt.It,pt.oV,Tt.An,st.Wk,R.QX],styles:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.discord-btn[_ngcontent-%COMP%]{margin-left:15px}.material-listing[_ngcontent-%COMP%]{position:relative;padding-left:22px;padding-right:10px}.material-listing[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;position:absolute;top:-2px;left:0}.crayon_logo_container[_ngcontent-%COMP%]{position:relative;width:22px;display:inline-block;margin-right:3px}.crayon_logo_container[_ngcontent-%COMP%]   .crayon_logo[_ngcontent-%COMP%]{position:absolute;width:22px;top:-14px}.mat-option-text[_ngcontent-%COMP%]{color:#fff}.character-container[_ngcontent-%COMP%]{height:50px}.character-entry[_ngcontent-%COMP%]{color:#fff;background-size:cover;background-position:left center;background-repeat:no-repeat;width:180px;height:36px;position:relative;margin-right:7px;margin-bottom:7px;border:rgba(255,255,255,0) solid 2px;opacity:.75;cursor:pointer}.character-entry[_ngcontent-%COMP%]:hover{border:rgba(255,255,255,.41) solid 2px;opacity:.98}.character-entry.selected[_ngcontent-%COMP%]{cursor:default;opacity:1;border:white solid 2px}.class-text[_ngcontent-%COMP%]{position:absolute;left:35px;top:4px;font-size:x-large;text-shadow:0 0 6px #000000}.head-icon[_ngcontent-%COMP%]{height:25px;top:6px;right:30px;position:absolute;filter:invert(1) drop-shadow(1px 1px 3px rgba(0,0,0,.25))!important}.armor-text[_ngcontent-%COMP%]{position:absolute;right:4px;top:9px;text-shadow:0 0 6px #000000;font-size:small}"]})}}return o})(),an=(()=>{class o{constructor(e){this.config=e}clear(){this.config.modifyConfiguration(e=>{e.statModLimits={maxMods:5,maxMajorMods:5},e.armorRequirements=[]})}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(E))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-desired-mod-selection"]],decls:11,vars:0,consts:[[1,"container"],[1,"section-spacing"],["id","clear-container"],["color","warn","mat-stroked-button","",3,"click"],[1,"minispace"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"app-gearset-selection"),t.k0s(),t.j41(3,"div",1),t.nrm(4,"app-modslot-visualization"),t.k0s(),t.j41(5,"div",1),t.nrm(6,"app-mod-limit-segmented"),t.k0s()(),t.j41(7,"div",2)(8,"button",3),t.bIt("click",function(){return i.clear()}),t.EFF(9,"Clear the whole selection"),t.k0s()(),t.nrm(10,"div",4))},styles:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.container[_ngcontent-%COMP%]{margin-bottom:10px}.impossible-container[_ngcontent-%COMP%]{text-align:center;margin-right:auto;margin-left:auto;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;font-size:15px;line-height:20px;margin-bottom:10px}.element-icon[_ngcontent-%COMP%]{height:30px;width:30px}.element-icon.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;pointer-events:none}.overlay-icon-container[_ngcontent-%COMP%]{position:relative}.overlay-icon-container[_ngcontent-%COMP%]   .overlay-icon[_ngcontent-%COMP%]{width:20px;position:absolute;left:5px;bottom:9px;pointer-events:none}.modslot-legend[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0 0;width:100%}.modslot-legend[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0}#explanation-description[_ngcontent-%COMP%]{width:520px}.minispace[_ngcontent-%COMP%]{height:7px}.text-highlight[_ngcontent-%COMP%]{color:#cddcef}.example-usecase[_ngcontent-%COMP%]{font-size:small;line-height:normal}.section-spacing[_ngcontent-%COMP%]{margin-bottom:18px}"]})}}return o})();var Bo=C(5732),oe=C(8827);function Yo(o,r){if(1&o){const e=t.RV6();t.qex(0),t.nrm(1,"br"),t.j41(2,"mat-button-toggle-group",6)(3,"mat-button-toggle",7),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setElement(i.ModifierType.Arc))}),t.EFF(4," Arc "),t.k0s(),t.j41(5,"mat-button-toggle",7),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setElement(i.ModifierType.Solar))}),t.EFF(6," Solar "),t.k0s(),t.j41(7,"mat-button-toggle",7),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setElement(i.ModifierType.Void))}),t.EFF(8," Void "),t.k0s(),t.j41(9,"mat-button-toggle",7),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setElement(i.ModifierType.Stasis))}),t.EFF(10," Stasis "),t.k0s(),t.j41(11,"mat-button-toggle",7),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setElement(i.ModifierType.Strand))}),t.EFF(12," Strand "),t.k0s(),t.j41(13,"mat-button-toggle",7),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setElement(i.ModifierType.Prismatic))}),t.EFF(14," Prismatic "),t.k0s()(),t.bVm()}if(2&o){const e=t.XpG(2);t.R7$(2),t.Y8G("value",e.selectedElement),t.R7$(1),t.Y8G("value",e.ModifierType.Arc),t.R7$(2),t.Y8G("value",e.ModifierType.Solar),t.R7$(2),t.Y8G("value",e.ModifierType.Void),t.R7$(2),t.Y8G("value",e.ModifierType.Stasis),t.R7$(2),t.Y8G("value",e.ModifierType.Strand),t.R7$(2),t.Y8G("value",e.ModifierType.Prismatic)}}function Lo(o,r){if(1&o&&(t.j41(0,"h3",10),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2).$implicit;t.R7$(1),t.JRh(e.name)}}function Ho(o,r){1&o&&(t.j41(0,"span"),t.EFF(1,"There are no fragments configured yet. Please be patient."),t.k0s())}function Uo(o,r){1&o&&(t.j41(0,"th",17),t.EFF(1,"Name"),t.k0s())}function zo(o,r){if(1&o&&(t.j41(0,"td",18)(1,"mat-slide-toggle",19),t.nrm(2,"app-item-icon",20),t.EFF(3),t.k0s()()),2&o){const e=r.$implicit,n=t.XpG(4);t.Y8G("modTooltip",e),t.R7$(1),t.Y8G("checked",n.selectedMods.indexOf(e.id)>-1),t.R7$(1),t.Y8G("itemHash",e.hash),t.R7$(1),t.SpI(" ",e.name," ")}}function Xo(o,r){if(1&o&&(t.j41(0,"th",24),t.nrm(1,"app-stat-icon",25),t.k0s()),2&o){const e=t.XpG().$implicit,n=t.XpG(4);t.Y8G("matTooltip",n.ArmorStatNames[e]),t.R7$(1),t.Y8G("stat",e)}}function Wo(o,r){if(1&o&&(t.j41(0,"span",30),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar,n=t.XpG(2).$implicit,i=t.XpG(4);t.Y8G("matTooltip","+"+e+" "+i.ArmorStatNames[n]),t.R7$(1),t.SpI("+",e,"")}}function qo(o,r){if(1&o&&(t.j41(0,"span",31),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar,n=t.XpG(2).$implicit,i=t.XpG(4);t.Y8G("matTooltip",e+" "+i.ArmorStatNames[n]),t.R7$(1),t.JRh(e)}}function Jo(o,r){if(1&o&&(t.j41(0,"span"),t.DNE(1,Wo,2,2,"span",28),t.DNE(2,qo,2,2,"span",29),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0),t.R7$(1),t.Y8G("ngIf",e<0)}}function Ko(o,r){if(1&o&&(t.j41(0,"td",26),t.DNE(1,Jo,3,2,"span",27),t.k0s()),2&o){const e=r.$implicit,n=t.XpG().$implicit,i=t.XpG(4);t.R7$(1),t.Y8G("ngVar",i.getModifierTextForValue(e.bonus,n))}}function Qo(o,r){if(1&o&&(t.qex(0)(1,21),t.DNE(2,Xo,2,2,"th",22),t.DNE(3,Ko,2,1,"td",23),t.bVm()()),2&o){const e=r.$implicit,n=t.XpG(4);t.R7$(1),t.Y8G("matColumnDef",n.ArmorStatNames[e])}}function Zo(o,r){1&o&&t.nrm(0,"tr",32)}function ti(o,r){if(1&o){const e=t.RV6();t.j41(0,"tr",33),t.bIt("click",function(){const a=t.eBV(e).$implicit,s=t.XpG(4);return t.Njj(s.handleRowClick(a))}),t.k0s()}if(2&o){const e=r.$implicit,n=t.XpG(4);t.AVh("selected",n.selectedMods.indexOf(e.id)>-1)}}function ei(o,r){if(1&o&&(t.j41(0,"table",11),t.qex(1,12),t.DNE(2,Uo,2,0,"th",13),t.DNE(3,zo,4,4,"td",14),t.bVm(),t.DNE(4,Qo,4,1,"ng-container",0),t.DNE(5,Zo,1,0,"tr",15),t.DNE(6,ti,1,2,"tr",16),t.k0s()),2&o){const e=t.XpG(2).$implicit,n=t.XpG();t.Y8G("dataSource",e.data),t.R7$(4),t.Y8G("ngForOf",n.ARMORSTAT_ORDER),t.R7$(1),t.Y8G("matHeaderRowDef",n.displayedColumns),t.R7$(1),t.Y8G("matRowDefColumns",n.displayedColumns)}}function ni(o,r){if(1&o&&(t.qex(0),t.DNE(1,Lo,2,1,"h3",8),t.DNE(2,Ho,2,0,"span",5),t.DNE(3,ei,7,4,"table",9),t.bVm()),2&o){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("ngIf",!e.group),t.R7$(1),t.Y8G("ngIf",0===e.data.length),t.R7$(1),t.Y8G("ngIf",e.data.length>0)}}function oi(o,r){if(1&o&&(t.j41(0,"span"),t.DNE(1,Yo,15,7,"ng-container",5),t.DNE(2,ni,4,3,"ng-container",5),t.k0s()),2&o){const e=r.$implicit,n=r.index,i=t.XpG();t.R7$(1),t.Y8G("ngIf",0===n),t.R7$(1),t.Y8G("ngIf",!e.group||e.type===i.selectedElement)}}function ii(o,r){1&o&&t.nrm(0,"mat-spinner",34)}let rn=(()=>{class o{constructor(e,n,i){this.config=e,this.bungieApi=n,this.logger=i,this.ARMORSTAT_ORDER=d.Hz,this.ArmorStatNames=d.wy,this.ModifierType=X.w,this.ModOrAbility=Bo.o,this.displayedColumns=["name"].concat(d.Hz.map(s=>d.wy[s])),this.selectedClass=3,this.selectedMods=[],this.selectedElement=X.w.Solar,this.isLoadingSubclass=!1,this.ngUnsubscribe=new G.B7;const a=Object.values(F.v).sort((s,l)=>s.name.toLowerCase()<l.name.toLowerCase()?-1:s.name.toLowerCase()>l.name.toLowerCase()?1:0);this.data=[{name:"Stasis Fragments",data:a.filter(s=>s.type==X.w.Stasis),group:!0,type:X.w.Stasis},{name:"Void Fragments",data:a.filter(s=>s.type==X.w.Void),group:!0,type:X.w.Void},{name:"Solar Fragments",data:a.filter(s=>s.type==X.w.Solar),group:!0,type:X.w.Solar},{name:"Arc Fragments",data:a.filter(s=>s.type==X.w.Arc),group:!0,type:X.w.Arc},{name:"Strand Fragments",data:a.filter(s=>s.type==X.w.Strand),group:!0,type:X.w.Strand},{name:"Prismatic Fragments",data:a.filter(s=>s.type==X.w.Prismatic),group:!0,type:X.w.Prismatic}],this.dataSource=a}ngOnInit(){this.config.configuration.pipe((0,x.Q)(this.ngUnsubscribe)).subscribe(e=>{this.selectedMods=e.enabledMods,this.selectedClass=e.characterClass,this.selectedElement=e.selectedModElement})}getModifierTextForValue(e,n){return e.filter(i=>i.stat==n||i.stat==d.pe.ClassAbilityRegenerationStat&&(0==this.selectedClass&&n==d.uD.StatHealth||1==this.selectedClass&&n==d.uD.StatWeapon||2==this.selectedClass&&n==d.uD.StatClass)).reduce((i,a)=>i+a.value,0)}handleRowClick(e){this.config.modifyConfiguration(n=>{const i=n.enabledMods.indexOf(e.id);i>-1?n.enabledMods.splice(i,1):n.enabledMods.push(e.id)})}clear(){this.config.modifyConfiguration(e=>{e.enabledMods=[]})}setElement(e){this.selectedElement!=e&&this.config.modifyConfiguration(n=>{const i=n.enabledMods.filter(a=>F.v[a].type!=X.w.CombatStyleMod&&F.v[a].type!=e);n.selectedModElement=e;for(let a of i){const s=n.enabledMods.indexOf(a);n.enabledMods.splice(s,1)}})}importEquippedSubclass(){var e=this;return(0,_.A)(function*(){e.isLoadingSubclass=!0;try{(yield e.bungieApi.importCurrentlyEquippedSubclass())?e.logger.info("DesiredModsSelectionComponent","importEquippedSubclass","Successfully imported equipped subclass and fragments"):e.logger.info("DesiredModsSelectionComponent","importEquippedSubclass","No subclass found or no changes were made")}catch(n){e.logger.error("DesiredModsSelectionComponent","importEquippedSubclass","Failed to import equipped subclass: "+n)}finally{e.isLoadingSubclass=!1}})()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(E),t.rXU(we),t.rXU(Q.so))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-desired-mods-selection"]],features:[t.Jv_([{provide:oe.FH,useValue:{disableToggleValue:!1,disableDragValue:!0}}])],decls:7,vars:4,consts:[[4,"ngFor","ngForOf"],["id","clear-container"],["color","primary","mat-raised-button","",2,"margin-right","10px",3,"disabled","click"],["diameter","20","style","margin-right: 8px; display: inline-block",4,"ngIf"],["color","warn","mat-stroked-button","",3,"disabled","click"],[4,"ngIf"],[1,"mat-primary",3,"value"],[3,"value","click"],["class","stat-part-title",4,"ngIf"],["mat-table","","class","tSubclassFragments",3,"dataSource",4,"ngIf"],[1,"stat-part-title"],["mat-table","",1,"tSubclassFragments",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"modTooltip",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected","click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",3,"modTooltip"],["color","primary",2,"cursor","pointer !important","user-select","none",3,"checked"],[3,"itemHash"],[3,"matColumnDef"],["mat-header-cell","",3,"matTooltip",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","",3,"matTooltip"],[3,"stat"],["mat-cell",""],[4,"ngVar"],["class","stat-positive",3,"matTooltip",4,"ngIf"],["class","stat-negative",3,"matTooltip",4,"ngIf"],[1,"stat-positive",3,"matTooltip"],[1,"stat-negative",3,"matTooltip"],["mat-header-row",""],["mat-row","",3,"click"],["diameter","20",2,"margin-right","8px","display","inline-block"]],template:function(n,i){1&n&&(t.DNE(0,oi,3,2,"span",0),t.j41(1,"div",1)(2,"button",2),t.bIt("click",function(){return i.importEquippedSubclass()}),t.EFF(3," Import equipped Subclass & Fragments "),t.k0s(),t.DNE(4,ii,1,0,"mat-spinner",3),t.j41(5,"button",4),t.bIt("click",function(){return i.clear()}),t.EFF(6," Clear the whole selection "),t.k0s()()),2&n&&(t.Y8G("ngForOf",i.data),t.R7$(2),t.Y8G("disabled",i.isLoadingSubclass),t.R7$(2),t.Y8G("ngIf",i.isLoadingSubclass),t.R7$(1),t.Y8G("disabled",i.isLoadingSubclass))},styles:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.tSubclassFragments[_ngcontent-%COMP%]{--mat-table-header-container-height: 32px !important;--mat-table-row-item-container-height: 32px !important;min-width:revert}.mdc-data-table__cell[_ngcontent-%COMP%], .mdc-data-table__header-cell[_ngcontent-%COMP%]{padding:5px}.mat-slide-toggle.mat-disabled[_ngcontent-%COMP%]{opacity:1}.stat-part-title[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:5px}.modTable[_ngcontent-%COMP%]{width:100%}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{height:30px}.mat-column-weapon[_ngcontent-%COMP%], .mat-column-health[_ngcontent-%COMP%], .mat-column-class[_ngcontent-%COMP%], .mat-column-grenade[_ngcontent-%COMP%], .mat-column-super[_ngcontent-%COMP%], .mat-column-melee[_ngcontent-%COMP%], .mat-column-cost[_ngcontent-%COMP%]{text-align:center}.mat-row[_ngcontent-%COMP%]:hover{background-color:#494949}.mat-column-weapon[_ngcontent-%COMP%], .mat-column-class[_ngcontent-%COMP%], .mat-column-super[_ngcontent-%COMP%]{background-color:#464646}.mat-column-name[_ngcontent-%COMP%]{padding-right:4px;border-right:1px solid currentColor;min-width:150px}.mat-column-name[_ngcontent-%COMP%]   app-item-icon[_ngcontent-%COMP%]{float:left;margin-right:5px}.mat-row[_ngcontent-%COMP%]{cursor:pointer}th.mat-header-cell[_ngcontent-%COMP%]:last-of-type, td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}.mat-cell[_ngcontent-%COMP%]:last-of-type, .mat-header-cell[_ngcontent-%COMP%]:last-of-type, .mat-footer-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}.stat-negative[_ngcontent-%COMP%], .stat-positive[_ngcontent-%COMP%]{margin-right:3px}.stat-negative[_ngcontent-%COMP%]{color:#f08080}.stat-positive[_ngcontent-%COMP%]{color:#b6cbfc}.stat-display[_ngcontent-%COMP%]{width:60px;float:left;align-content:end;text-align:right}.mat-row[_ngcontent-%COMP%]:hover, .mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{background-color:#494949}.mat-row.selected[_ngcontent-%COMP%]:hover, .mat-row.selected[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{background-color:#89b2ff30}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .mat-column-weapon[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .mat-column-class[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .mat-column-super[_ngcontent-%COMP%]{background-color:#89b2ff1c}.mat-column-name[_ngcontent-%COMP%]{min-width:190px}.element-icon[_ngcontent-%COMP%]{width:22px}#clear-container[_ngcontent-%COMP%]{padding-top:10px}#retrofit-table[_ngcontent-%COMP%]   .rft-icon-container[_ngcontent-%COMP%]{width:22px;display:inline-block}#retrofit-table[_ngcontent-%COMP%]   .rft-icon-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:relative}#retrofit-table[_ngcontent-%COMP%]   .rft-icon-container[_ngcontent-%COMP%]   app-stat-icon[_ngcontent-%COMP%]{position:absolute;top:-22px;left:-10px}.mdc-data-table__cell[_ngcontent-%COMP%], .mdc-data-table__header-cell[_ngcontent-%COMP%]{padding:0 4px}"]})}}return o})();var ge=C(5175),he=C(5060);function ai(o,r){if(1&o&&(t.j41(0,"mat-icon",10,11),t.EFF(2," help "),t.k0s()),2&o){const e=t.XpG(2).$implicit;t.FS9("matTooltip",e.help)}}function ri(o,r){1&o&&(t.j41(0,"mat-icon",12,11),t.EFF(2," report_problem "),t.k0s())}function si(o,r){if(1&o){const e=t.RV6();t.j41(0,"div")(1,"mat-slide-toggle",7),t.bIt("change",function(i){t.eBV(e);const a=t.XpG().$implicit;return t.Njj(a.onToggle(i.checked))}),t.EFF(2),t.k0s(),t.DNE(3,ai,3,1,"mat-icon",8),t.DNE(4,ri,3,0,"mat-icon",9),t.k0s()}if(2&o){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("disabled",e.disabled)("checked",e.value),t.R7$(1),t.SpI(" ",e.name," "),t.R7$(1),t.Y8G("ngIf",e.help),t.R7$(1),t.Y8G("ngIf",e.impactsResultCount)}}function ci(o,r){if(1&o&&(t.j41(0,"mat-option",18),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.Y8G("value",e.value),t.R7$(1),t.SpI(" ",e.label," ")}}function li(o,r){if(1&o&&(t.j41(0,"mat-icon",10,11),t.EFF(2," help "),t.k0s()),2&o){const e=t.XpG(2).$implicit;t.FS9("matTooltip",e.help)}}function di(o,r){1&o&&(t.j41(0,"mat-icon",12,11),t.EFF(2," report_problem "),t.k0s())}function mi(o,r){if(1&o){const e=t.RV6();t.j41(0,"div",13)(1,"div",14)(2,"mat-slide-toggle",7),t.bIt("change",function(i){t.eBV(e);const a=t.XpG().$implicit;return t.Njj(a.onToggle&&a.onToggle(i.checked))}),t.j41(3,"span",15),t.EFF(4),t.k0s()(),t.j41(5,"mat-select",16),t.bIt("selectionChange",function(i){t.eBV(e);const a=t.XpG().$implicit;return t.Njj(a.onSelect(i.value))}),t.DNE(6,ci,2,2,"mat-option",17),t.k0s(),t.DNE(7,li,3,1,"mat-icon",8),t.DNE(8,di,3,0,"mat-icon",9),t.k0s()()}if(2&o){const e=t.XpG().$implicit;t.R7$(2),t.Y8G("disabled",e.disabled)("checked",e.isEnabled),t.R7$(2),t.JRh(e.name),t.R7$(1),t.Y8G("value",e.value)("disabled",e.disabled||!e.isEnabled),t.R7$(1),t.Y8G("ngForOf",e.options),t.R7$(1),t.Y8G("ngIf",e.help),t.R7$(1),t.Y8G("ngIf",e.impactsResultCount)}}function pi(o,r){if(1&o&&(t.j41(0,"div",4),t.DNE(1,si,5,5,"div",5),t.DNE(2,mi,9,8,"div",6),t.k0s()),2&o){const e=r.$implicit;t.R7$(1),t.Y8G("ngIf","boolean"===e.type),t.R7$(1),t.Y8G("ngIf","dropdown"===e.type)}}function ui(o,r){if(1&o&&(t.j41(0,"div")(1,"span",1),t.EFF(2),t.k0s(),t.DNE(3,pi,3,2,"div",2),t.nrm(4,"div",3),t.k0s()),2&o){const e=r.$implicit,n=t.XpG();t.R7$(2),t.JRh(e),t.R7$(1),t.Y8G("ngForOf",n.fields2[e])}}let gi=(()=>{class o{constructor(e){this.config=e,this.fields2={},this.fieldKeys=[],this.ngUnsubscribe=new G.B7}ngOnInit(){this.config.configuration.pipe((0,x.Q)(this.ngUnsubscribe)).subscribe(e=>{this.fields2={Events:[{name:"Enforce the usage of a Festival of the Lost Mask.",type:"boolean",onToggle:n=>this.config.modifyConfiguration(i=>i.useFotlArmor=n),value:e.useFotlArmor,disabled:!1,impactsResultCount:!0,help:"Only use a FotL masks. You will not get results if you do not own the mask."}],Masterwork:[{name:"Assume all legendary items are masterworked",type:"boolean",onToggle:n=>this.config.modifyConfiguration(i=>i.assumeLegendariesMasterworked=n),value:e.assumeLegendariesMasterworked,disabled:!1,impactsResultCount:!1,help:void 0},{name:"Assume all exotic items are masterworked",type:"boolean",onToggle:n=>this.config.modifyConfiguration(i=>i.assumeExoticsMasterworked=n),value:e.assumeExoticsMasterworked,disabled:!1,impactsResultCount:!1,help:"If this setting is enabled, the tool will treat non-masterworked exotic armor as if it were masterworked-."},{name:"Only use already masterworked exotic items",type:"boolean",onToggle:n=>this.config.modifyConfiguration(i=>i.onlyUseMasterworkedExotics=n),value:e.onlyUseMasterworkedExotics,disabled:!1,impactsResultCount:!0,help:void 0},{name:"Only use already masterworked legendary items",type:"boolean",onToggle:n=>this.config.modifyConfiguration(i=>i.onlyUseMasterworkedLegendaries=n),value:e.onlyUseMasterworkedLegendaries,disabled:!1,impactsResultCount:!0,help:void 0}],"Artifice Slots (for legacy armor 2.0)":[{name:"Assume every legacy legendary class item is an artifice armor.",type:"boolean",onToggle:n=>this.config.modifyConfiguration(i=>i.assumeClassItemIsArtifice=n),value:e.assumeClassItemIsArtifice||e.assumeEveryLegendaryIsArtifice,disabled:e.assumeEveryLegendaryIsArtifice||!e.allowLegacyLegendaryArmor,impactsResultCount:!0,help:"This is for debugging purposes. No support if you enable this."},{name:"Assume every legacy legendary is an artifice armor.",type:"boolean",onToggle:n=>this.config.modifyConfiguration(i=>i.assumeEveryLegendaryIsArtifice=n),value:e.assumeEveryLegendaryIsArtifice,disabled:!e.allowLegacyLegendaryArmor,impactsResultCount:!0,help:"This is for debugging purposes. No support if you enable this."},{name:"Assume every legacy exotic has an artifice slot.",type:"boolean",onToggle:n=>this.config.modifyConfiguration(i=>i.assumeEveryExoticIsArtifice=n),value:e.assumeEveryExoticIsArtifice,disabled:!e.allowLegacyExoticArmor,impactsResultCount:!0,help:"Preparation for the upcoming Artifice Mod Slot for exotics."}],"Performance Optimization":[{name:"Use Tier 5 tuning for armor pieces.",type:"boolean",onToggle:n=>this.config.modifyConfiguration(i=>i.calculateTierFiveTuning=n),value:e.calculateTierFiveTuning,disabled:!1,impactsResultCount:!0,help:"Calculate the Tier 5 tuning for armor pieces. This may lead to longer calculation times."},{name:"Use security features to prevent app crashes (resets on reload).",type:"boolean",onToggle:n=>this.config.modifyConfiguration(i=>i.limitParsedResults=n),value:e.limitParsedResults,disabled:!1,impactsResultCount:!0,help:"Only parse the first 30,000 results. Deactivating this may crash your browser. The results will still be limited to 1,000,000 entries. Note that you will not miss any significant results by leaving this enabled."},{name:"High-Speed mode: Only check one class item for each permutation",type:"boolean",onToggle:n=>this.config.modifyConfiguration(i=>i.earlyAbortClassItems=n),value:e.earlyAbortClassItems,disabled:!1,impactsResultCount:!0,help:"This will speed up the calculation by aborting early if no valid class item is found for a permutation."}],"Wasted Stats":[{name:"Try to optimize wasted stats (slower)",type:"boolean",onToggle:n=>this.config.modifyConfiguration(i=>i.tryLimitWastedStats=n),value:e.tryLimitWastedStats,disabled:!1,impactsResultCount:!1,help:"The tool will try to add minor stat mods to minimize wasted stats. This only works for combinations that fulfill your desired stat combination with enough mods so at least one mod slot is still open."},{name:"Only show builds with no wasted stats",type:"boolean",onToggle:n=>this.config.modifyConfiguration(i=>i.onlyShowResultsWithNoWastedStats=n),value:K.c.featureFlags.enableZeroWaste&&e.onlyShowResultsWithNoWastedStats,disabled:!K.c.featureFlags.enableZeroWaste,impactsResultCount:!0,help:"Only show builds with zero wasted stats - this means, its highly likely that you won't get any results."}],"Data-Science":[{name:"Add a constant +1 resilience to the results with non-exotic chests (resets on reload).",type:"boolean",onToggle:n=>this.config.modifyConfiguration(i=>i.addConstent1Health=n),value:e.addConstent1Health,disabled:!1,impactsResultCount:!1,help:"You usually do not want to use this."}]},this.fieldKeys=Object.keys(this.fields2)})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(E))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-advanced-settings"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"category-header"],["class","adv-settings",4,"ngFor","ngForOf"],[1,"category-spacer"],[1,"adv-settings"],[4,"ngIf"],["class","dropdown-setting",4,"ngIf"],["color","primary",3,"disabled","checked","change"],["inline","","aria-hidden","false","aria-label","Help",3,"matTooltip",4,"ngIf"],["inline","","aria-hidden","false","aria-label","Help","class","report-problem-icon","matTooltip","This setting might impact the amount of results. It may happen that you won't get any results if you change this setting. In this case, simply switch it back to its default state.",4,"ngIf"],["inline","","aria-hidden","false","aria-label","Help",3,"matTooltip"],["tooltip","matTooltip"],["inline","","aria-hidden","false","aria-label","Help","matTooltip","This setting might impact the amount of results. It may happen that you won't get any results if you change this setting. In this case, simply switch it back to its default state.",1,"report-problem-icon"],[1,"dropdown-setting"],[1,"dropdown-header"],[1,"dropdown-label"],["placeholder","Select option",1,"dropdown-inline",3,"value","disabled","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,i){1&n&&t.DNE(0,ui,5,2,"div",0),2&n&&t.Y8G("ngForOf",i.fieldKeys)},dependencies:[R.Sq,R.bT,ge.VO,he.wT,oe.sG,pt.oV,Tt.An],styles:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.category-spacer[_ngcontent-%COMP%]{height:3px}.category-header[_ngcontent-%COMP%]{font-style:italic}.adv-settings[_ngcontent-%COMP%]{margin-left:20px}.report-problem-icon[_ngcontent-%COMP%]{color:#f08080}.dropdown-setting[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-bottom:8px}.dropdown-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-wrap:nowrap}.dropdown-inline[_ngcontent-%COMP%]{max-width:150px;min-width:120px;font-size:13px}.dropdown-label[_ngcontent-%COMP%], .dropdown-label-always-on[_ngcontent-%COMP%]{font-size:14px;font-weight:500}mat-select[_ngcontent-%COMP%]{max-width:150px;min-height:32px}"]})}}return o})(),je=(()=>{class o{constructor(e,n){this.dialogRef=e,this.data=n}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(bt.CP),t.rXU(bt.Vh))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-confirm-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(n,i){1&n&&(t.j41(0,"h1",0),t.EFF(1,"Confirm"),t.k0s(),t.j41(2,"div",1)(3,"p"),t.EFF(4),t.k0s()(),t.j41(5,"div",2)(6,"button",3),t.bIt("click",function(){return i.onNoClick()}),t.EFF(7,"No Thanks"),t.k0s(),t.j41(8,"button",4),t.EFF(9,"Ok"),t.k0s()()),2&n&&(t.R7$(4),t.JRh(i.data.description),t.R7$(4),t.Y8G("mat-dialog-close",!0))},dependencies:[lt.$z,bt.tx,bt.BI,bt.Yi,bt.E7]})}}return o})();var fe=C(3347),Ge=C(2352),Ht=C(5944),Fe=C(7984),it=C(906);function hi(o,r){1&o&&(t.j41(0,"span"),t.EFF(1,"Titan"),t.k0s())}function fi(o,r){1&o&&(t.j41(0,"span"),t.EFF(1,"Hunter"),t.k0s())}function _i(o,r){1&o&&(t.j41(0,"span"),t.EFF(1,"Warlock"),t.k0s())}function yi(o,r){if(1&o&&(t.j41(0,"mat-option",31)(1,"span"),t.EFF(2,"("),t.DNE(3,hi,2,0,"span",27),t.DNE(4,fi,2,0,"span",27),t.DNE(5,_i,2,0,"span",27),t.EFF(6,") "),t.k0s(),t.j41(7,"span"),t.EFF(8),t.k0s()()),2&o){const e=r.$implicit;t.Y8G("value",e.name),t.R7$(3),t.Y8G("ngIf",0===e.configuration.characterClass),t.R7$(1),t.Y8G("ngIf",1===e.configuration.characterClass),t.R7$(1),t.Y8G("ngIf",2===e.configuration.characterClass),t.R7$(3),t.SpI(" ",e.name,"")}}function bi(o,r){1&o&&(t.j41(0,"th",32),t.EFF(1,"Name"),t.k0s())}function Ci(o,r){if(1&o&&(t.j41(0,"td",33),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.R7$(1),t.SpI("",e.name," ")}}function vi(o,r){1&o&&(t.j41(0,"th",32),t.EFF(1," Class "),t.k0s())}function xi(o,r){1&o&&(t.j41(0,"span"),t.EFF(1,"Titan"),t.k0s())}function Si(o,r){1&o&&(t.j41(0,"span"),t.EFF(1,"Hunter"),t.k0s())}function ki(o,r){1&o&&(t.j41(0,"span"),t.EFF(1,"Warlock"),t.k0s())}function wi(o,r){if(1&o&&(t.j41(0,"td",33),t.DNE(1,xi,2,0,"span",27),t.DNE(2,Si,2,0,"span",27),t.DNE(3,ki,2,0,"span",27),t.k0s()),2&o){const e=r.$implicit;t.R7$(1),t.Y8G("ngIf",0===e.configuration.characterClass),t.R7$(1),t.Y8G("ngIf",1===e.configuration.characterClass),t.R7$(1),t.Y8G("ngIf",2===e.configuration.characterClass)}}function Mi(o,r){1&o&&(t.j41(0,"th",32),t.nrm(1,"app-stat-icon",34),t.k0s()),2&o&&(t.R7$(1),t.Y8G("stat",0))}function Ei(o,r){if(1&o&&(t.j41(0,"td",33),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.R7$(1),t.SpI(" ",10*e.configuration.minimumStatTiers[0].value," ")}}function Oi(o,r){1&o&&(t.j41(0,"th",32),t.nrm(1,"app-stat-icon",34),t.k0s()),2&o&&(t.R7$(1),t.Y8G("stat",1))}function Ii(o,r){if(1&o&&(t.j41(0,"td",33),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.R7$(1),t.SpI(" ",10*e.configuration.minimumStatTiers[1].value," ")}}function Fi(o,r){1&o&&(t.j41(0,"th",32),t.nrm(1,"app-stat-icon",34),t.k0s()),2&o&&(t.R7$(1),t.Y8G("stat",2))}function Pi(o,r){if(1&o&&(t.j41(0,"td",33),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.R7$(1),t.SpI(" ",10*e.configuration.minimumStatTiers[2].value," ")}}function Ti(o,r){1&o&&(t.j41(0,"th",32),t.nrm(1,"app-stat-icon",34),t.k0s()),2&o&&(t.R7$(1),t.Y8G("stat",3))}function Ai(o,r){if(1&o&&(t.j41(0,"td",33),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.R7$(1),t.SpI(" ",10*e.configuration.minimumStatTiers[3].value," ")}}function Di(o,r){1&o&&(t.j41(0,"th",32),t.nrm(1,"app-stat-icon",34),t.k0s()),2&o&&(t.R7$(1),t.Y8G("stat",4))}function Ri(o,r){if(1&o&&(t.j41(0,"td",33),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.R7$(1),t.SpI(" ",10*e.configuration.minimumStatTiers[4].value," ")}}function ji(o,r){1&o&&(t.j41(0,"th",32),t.nrm(1,"app-stat-icon",34),t.k0s()),2&o&&(t.R7$(1),t.Y8G("stat",5))}function Gi(o,r){if(1&o&&(t.j41(0,"td",33),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.R7$(1),t.SpI(" ",10*e.configuration.minimumStatTiers[5].value," ")}}function Vi(o,r){1&o&&t.nrm(0,"th",32)}function $i(o,r){if(1&o){const e=t.RV6();t.j41(0,"td",33)(1,"button",35),t.bIt("click",function(){const a=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.delete(a.name))}),t.j41(2,"mat-icon"),t.EFF(3,"delete_forever"),t.k0s()(),t.j41(4,"button",36),t.bIt("click",function(){const a=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.load(a.name))}),t.j41(5,"mat-icon"),t.EFF(6,"check_circle_outline"),t.k0s()(),t.j41(7,"button",37),t.bIt("click",function(){const a=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.copySingleSettingToClipboard(a))}),t.j41(8,"mat-icon"),t.EFF(9,"get_app"),t.k0s()()()}}function Ni(o,r){1&o&&t.nrm(0,"tr",38)}function Bi(o,r){1&o&&t.nrm(0,"tr",39)}function Yi(o,r){if(1&o){const e=t.RV6();t.qex(0),t.nrm(1,"br"),t.j41(2,"button",40),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.copyAllSettingsToClipboard())}),t.EFF(3," Copy all saved configurations to the clipboard "),t.k0s(),t.bVm()}}let Li=(()=>{class o{constructor(e,n,i,a,s,l){this.config=e,this.formBuilder=n,this.dialog=i,this._snackBar=a,this.clipboard=s,this.logger=l,this.selectedEntry="",this.storedConfigs=[],this.displayedColumns=["name","class","mobility","resilience","recovery","discipline","intellect","strength","delete"],this.ngUnsubscribe=new G.B7,this.settingsNameForm=this.formBuilder.group({name:[null]}),this.importTextForm=this.formBuilder.group({content:[null]})}ngOnInit(){this.config.storedConfigurations.pipe((0,x.Q)(this.ngUnsubscribe)).subscribe(e=>this.storedConfigs=e)}submit(){const e=this.settingsNameForm.get("name")?.value;e&&(this.config.doesSavedConfigurationExist(e)?this.dialog.open(je,{width:"300px",data:{description:"Do you want to overwrite this configuration?"}}).afterClosed().subscribe(i=>{i&&(this.config.saveCurrentConfigurationToName(e),this.settingsNameForm.reset(),this.selectedEntry=e)}):(this.config.saveCurrentConfigurationToName(e),this.settingsNameForm.reset(),this.selectedEntry=e))}delete(e){this.dialog.open(je,{width:"300px",data:{description:"Do you want to delete this configuration?"}}).afterClosed().subscribe(i=>{i&&this.config.deleteStoredConfiguration(e)})}clearEverything(){this.dialog.open(je,{width:"300px",data:{description:"Do you want to clear all settings?"}}).afterClosed().subscribe(n=>{n&&this.config.resetCurrentConfiguration()})}load(e){this.dialog.open(je,{width:"300px",data:{description:"Do you want to load this preset?"}}).afterClosed().subscribe(i=>{i&&this.config.loadSavedConfiguration(e)})}runImport(){const e=this.importTextForm.get("content")?.value;if(!e)return this.openSnackBar("Invalid input.");try{const n=w.decompress(e,{inputEncoding:"Base64"}),i="["==n.substr(0,1);let a=JSON.parse(n);i||(a=[a]),this.logger.debug("LoadAndSaveSettingsComponent","runImport","Incoming json: "+JSON.stringify(a));for(let s of a)this.config.checkAndFixOldSavedConfigurations(s),s.hasOwnProperty("name")?i?this.config.saveConfiguration(s.name,s.configuration):this.config.saveCurrentConfiguration(s.configuration):this.config.saveCurrentConfiguration(s);this.openSnackBar("Successfully loaded this configuration"),this.importTextForm.get("content")?.reset()}catch(n){this.openSnackBar("Invalid input."),this.logger.error("LoadAndSaveSettingsComponent","runImport","Error: "+n)}}copySingleSettingToClipboard(e){this.clipboard.copy(this.config.getStoredConfigurationBase64Compressed(e.name)),this.openSnackBar("Copied the configuration to your clipboard. You can share it with your friends.")}copyAllSettingsToClipboard(){this.clipboard.copy(this.config.getAllStoredConfigurationsBase64Compressed()),this.openSnackBar("Exported all configurations to the clipboard. You can then save and share them.")}openSnackBar(e){this._snackBar.open(e,"",{duration:2500,politeness:"polite"})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(E),t.rXU(ft.ze),t.rXU(bt.bZ),t.rXU(fe.UG),t.rXU(Ge.B0),t.rXU(Q.so))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-load-and-save-settings"]],decls:78,vars:13,consts:[[3,"formGroup","submit"],["id","settings"],["appearance","outline","subscriptSizing","dynamic","subscriptSizing","dynamic"],["formControlName","name","matInput","","maxlength","30","minlength","4","placeholder","Awesome Grenade Build 4"],["color","primary","mat-raised-button","","type","submit",3,"disabled"],["color","warn","mat-raised-button","","matTooltip","Clears the ENTIRE configuration and uses the default settings. Use with caution.",3,"click"],["color","primary","mat-raised-button","","matTooltip","Copy your current configuration into your clipboard. You will be able to share it with others and import it later.",3,"cdkCopyToClipboard","click"],[2,"display","none"],["appearance","outline","subscriptSizing","dynamic"],[3,"value","disabled","valueChange"],[3,"value",4,"ngFor","ngForOf"],["color","primary","mat-raised-button","","matTooltip","Load the currently selected configuration.",3,"disabled","click"],["color","warn","mat-stroked-button","","matTooltip","Delete the currently selected configuration. Can not be undone.",3,"disabled","click"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","class"],["matColumnDef","mobility"],["matColumnDef","resilience"],["matColumnDef","recovery"],["matColumnDef","discipline"],["matColumnDef","intellect"],["matColumnDef","strength"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[3,"formGroup"],["formControlName","content","matInput",""],["color","primary","mat-raised-button","","matTooltip","Import the given configuration",3,"click"],[3,"value"],["mat-header-cell",""],["mat-cell",""],[3,"stat"],["color","warn","mat-icon-button","","matTooltip","Delete this configuration permanently.",3,"click"],["color","primary","mat-icon-button","","matTooltip","Load this configuration. Your current settings will be overwritten.",3,"click"],["color","primary","mat-icon-button","","matTooltip","Copy this configuration into your clipboard. You will be able to share it with others and import it later.",3,"click"],["mat-header-row",""],["mat-row",""],["color","primary","mat-raised-button","","matTooltip","Export all configurations to the clipboard. You can then save and share them.",3,"click"]],template:function(n,i){if(1&n&&(t.j41(0,"form",0),t.bIt("submit",function(){return i.submit()}),t.j41(1,"table",1)(2,"tr")(3,"td")(4,"mat-form-field",2)(5,"mat-label"),t.EFF(6,"Name to save the configuration"),t.k0s(),t.nrm(7,"input",3),t.k0s()(),t.j41(8,"td")(9,"button",4),t.EFF(10,"Save current "),t.k0s()(),t.j41(11,"td")(12,"button",5),t.bIt("click",function(){return i.clearEverything()}),t.EFF(13,"Clear everything "),t.k0s()(),t.j41(14,"td")(15,"button",6),t.bIt("click",function(){return i.openSnackBar("Copied the configuration to your clipboard. You can share it with your friends.")}),t.EFF(16,"Copy Current "),t.k0s()()(),t.j41(17,"tr",7)(18,"td")(19,"mat-form-field",8)(20,"mat-label"),t.EFF(21,"Load saved configuration"),t.k0s(),t.j41(22,"mat-select",9),t.bIt("valueChange",function(s){return i.selectedEntry=s}),t.DNE(23,yi,9,5,"mat-option",10),t.k0s()()(),t.j41(24,"td")(25,"button",11),t.bIt("click",function(){return i.load(i.selectedEntry)}),t.EFF(26,"Load "),t.k0s()(),t.j41(27,"td")(28,"button",12),t.bIt("click",function(){return i.delete(i.selectedEntry)}),t.EFF(29,"Delete "),t.k0s()()()()(),t.nrm(30,"br"),t.j41(31,"table",13),t.qex(32,14),t.DNE(33,bi,2,0,"th",15),t.DNE(34,Ci,2,1,"td",16),t.bVm(),t.qex(35,17),t.DNE(36,vi,2,0,"th",15),t.DNE(37,wi,4,3,"td",16),t.bVm(),t.qex(38,18),t.DNE(39,Mi,2,1,"th",15),t.DNE(40,Ei,2,1,"td",16),t.bVm(),t.qex(41,19),t.DNE(42,Oi,2,1,"th",15),t.DNE(43,Ii,2,1,"td",16),t.bVm(),t.qex(44,20),t.DNE(45,Fi,2,1,"th",15),t.DNE(46,Pi,2,1,"td",16),t.bVm(),t.qex(47,21),t.DNE(48,Ti,2,1,"th",15),t.DNE(49,Ai,2,1,"td",16),t.bVm(),t.qex(50,22),t.DNE(51,Di,2,1,"th",15),t.DNE(52,Ri,2,1,"td",16),t.bVm(),t.qex(53,23),t.DNE(54,ji,2,1,"th",15),t.DNE(55,Gi,2,1,"td",16),t.bVm(),t.qex(56,24),t.DNE(57,Vi,1,0,"th",15),t.DNE(58,$i,10,0,"td",16),t.bVm(),t.DNE(59,Ni,1,0,"tr",25),t.DNE(60,Bi,1,0,"tr",26),t.k0s(),t.DNE(61,Yi,4,0,"ng-container",27),t.nrm(62,"br"),t.j41(63,"div"),t.nrm(64,"hr"),t.j41(65,"h2"),t.EFF(66,"Import a previously exported configuration"),t.k0s(),t.j41(67,"form",28)(68,"table")(69,"tr")(70,"td")(71,"mat-form-field",8)(72,"mat-label"),t.EFF(73,"Copied configuration"),t.k0s(),t.nrm(74,"input",29),t.k0s()(),t.j41(75,"td")(76,"button",30),t.bIt("click",function(){return i.runImport()}),t.EFF(77," Start the import "),t.k0s()()()()()()),2&n){let a;t.Y8G("formGroup",i.settingsNameForm),t.R7$(9),t.Y8G("disabled",!(null!=(a=i.settingsNameForm.get("name"))&&a.value)||(null==(a=i.settingsNameForm.get("name"))?null:a.value.length)<4||(null==(a=i.settingsNameForm.get("name"))?null:a.value.length)>30),t.R7$(6),t.Y8G("cdkCopyToClipboard",i.config.getCurrentConfigBase64Compressed()),t.R7$(7),t.Y8G("value",i.selectedEntry)("disabled",0===i.storedConfigs.length),t.R7$(1),t.Y8G("ngForOf",i.storedConfigs),t.R7$(2),t.Y8G("disabled",!i.selectedEntry||0===i.storedConfigs.length),t.R7$(3),t.Y8G("disabled",!i.selectedEntry||0===i.storedConfigs.length),t.R7$(3),t.Y8G("dataSource",i.storedConfigs),t.R7$(28),t.Y8G("matHeaderRowDef",i.displayedColumns),t.R7$(1),t.Y8G("matRowDefColumns",i.displayedColumns),t.R7$(1),t.Y8G("ngIf",i.storedConfigs.length>0),t.R7$(6),t.Y8G("formGroup",i.importTextForm)}},dependencies:[R.Sq,R.bT,ft.qT,ft.me,ft.BC,ft.cb,ft.xh,ft.tU,ft.j4,ft.JD,lt.$z,lt.iY,Ht.rl,Ht.nJ,ge.VO,he.wT,Fe.fg,it.Zl,it.tL,it.ji,it.cC,it.YV,it.iL,it.KS,it.$R,it.YZ,it.NB,pt.oV,Tt.An,Ge.dF,ue],styles:[".mdc-data-table__cell[_ngcontent-%COMP%], .mdc-data-table__header-cell[_ngcontent-%COMP%]{padding:5px}.modTable[_ngcontent-%COMP%]{width:100%;--mat-table-header-container-height: 32px !important;--mat-table-row-item-container-height: 32px !important;min-width:revert}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{height:30px}.mat-column-class[_ngcontent-%COMP%]{min-width:55px;padding-right:2px;padding-left:2px;text-align:center;border-right:1px solid currentColor}.mat-column-mobility[_ngcontent-%COMP%], .mat-column-resilience[_ngcontent-%COMP%], .mat-column-recovery[_ngcontent-%COMP%], .mat-column-discipline[_ngcontent-%COMP%], .mat-column-intellect[_ngcontent-%COMP%], .mat-column-strength[_ngcontent-%COMP%]{min-width:40px;text-align:center}.mat-row[_ngcontent-%COMP%]:hover{background-color:#494949}.mat-column-mobility[_ngcontent-%COMP%], .mat-column-recovery[_ngcontent-%COMP%], .mat-column-intellect[_ngcontent-%COMP%]{background-color:#464646}.mat-column-name[_ngcontent-%COMP%]{padding-right:4px;border-right:1px solid currentColor;min-width:150px}th.mat-header-cell[_ngcontent-%COMP%]:last-of-type, td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}.mat-cell[_ngcontent-%COMP%]:last-of-type, .mat-header-cell[_ngcontent-%COMP%]:last-of-type, .mat-footer-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}.stat-negative[_ngcontent-%COMP%], .stat-positive[_ngcontent-%COMP%]{margin-right:3px}.stat-negative[_ngcontent-%COMP%]{color:#f08080}.stat-positive[_ngcontent-%COMP%]{color:#6495ed}.stat-display[_ngcontent-%COMP%]{width:60px;float:left;align-content:end;text-align:right}.mat-row[_ngcontent-%COMP%]:hover, .mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{background-color:#494949}.mat-row.selected[_ngcontent-%COMP%]:hover, .mat-row.selected[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{background-color:#89b2ff30}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .mat-column-mobility[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .mat-column-recovery[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .mat-column-intellect[_ngcontent-%COMP%]{background-color:#89b2ff1c}.mat-column-load[_ngcontent-%COMP%], .mat-column-delete[_ngcontent-%COMP%]{padding-left:3px;padding-right:3px}[_nghost-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{margin:0!important;padding:0}\n\n/*# sourceMappingURL=load-and-save-settings.component.css.map*/"]})}}return o})();const Hi={1:{1:{glimmer:300,core:0,prism:0,ascshard:0},2:{glimmer:500,core:0,prism:0,ascshard:0},3:{glimmer:1200,core:0,prism:0,ascshard:0},4:{glimmer:3500,core:1,prism:0,ascshard:0},5:{glimmer:4500,core:2,prism:0,ascshard:0}},2:{1:{glimmer:1200,core:0,prism:0,ascshard:0},2:{glimmer:2800,core:1,prism:0,ascshard:0},3:{glimmer:4e3,core:1,prism:0,ascshard:0},4:{glimmer:5e3,core:2,prism:0,ascshard:0},5:{glimmer:7e3,core:2,prism:1,ascshard:0}},3:{1:{glimmer:1500,core:1,prism:0,ascshard:0},2:{glimmer:3e3,core:2,prism:0,ascshard:0},3:{glimmer:5e3,core:3,prism:0,ascshard:0},4:{glimmer:7e3,core:4,prism:1,ascshard:0},5:{glimmer:8500,core:5,prism:2,ascshard:1}},4:{1:{glimmer:200,core:2,prism:0,ascshard:0},2:{glimmer:3300,core:3,prism:1,ascshard:0},3:{glimmer:6500,core:4,prism:1,ascshard:0},4:{glimmer:8200,core:5,prism:2,ascshard:1},5:{glimmer:1e4,core:7,prism:3,ascshard:1}},5:{1:{glimmer:2400,core:3,prism:1,ascshard:0},2:{glimmer:3500,core:5,prism:2,ascshard:0},3:{glimmer:7500,core:6,prism:2,ascshard:0},4:{glimmer:9100,core:7,prism:3,ascshard:1},5:{glimmer:12500,core:9,prism:5,ascshard:2}}},Ui={1:{glimmer:1500,core:1,prism:0,ascshard:0},2:{glimmer:3e3,core:2,prism:0,ascshard:0},3:{glimmer:5e3,core:3,prism:1,ascshard:0},4:{glimmer:7e3,core:4,prism:1,ascshard:1},5:{glimmer:8500,core:5,prism:2,ascshard:2}};function zi(o,r){return o?Ui:Hi[r]}let sn=(()=>{class o{constructor(e,n){this.configService=e,this.logger=n,this.armorStatIds=d.Hz,this.logger.debug("DimService","constructor","Initializing DimService")}ngOnDestroy(){this.logger.debug("DimService","ngOnDestroy","Destroying DimService")}generateDIMQuery(e){return e.items.map(i=>`id:'${i.itemInstanceId}'`).join(" OR ")}copyDIMQuery(e){var n=this;return(0,_.A)(function*(){try{const i=n.generateDIMQuery(e);return yield navigator.clipboard.writeText(i),!0}catch{return!1}})()}generateDIMLink(e){const n=this.configService.readonlyConfigurationSnapshot,i=[],a=[];for(let p of n.enabledMods){const f=F.v[p];f.type===X.w.CombatStyleMod?i.push(f.hash):a.push(f.hash)}for(let p of e.mods||[])i.push(d.fe[p][3]);for(let p of e.artifice||[])i.push(d.fe[p][3]);const s={statConstraints:[],mods:i,assumeArmorMasterwork:n.assumeLegendariesMasterworked?n.assumeExoticsMasterworked?3:2:1};for(let p of this.armorStatIds)s.statConstraints.push({statHash:d.A2[p],minStat:10*n.minimumStatTiers[p].value,maxStat:n.minimumStatTiers[p].fixed?10*n.minimumStatTiers[p].value:200});const l=e.items.find(p=>p.exotic);l&&(s.exoticArmorHash=l.hash);const m={id:"d2ap",name:`${X.b[n.selectedModElement]}: (${e.exotic?.name}) D2ArmorPicker Loadout`,classType:n.characterClass,parameters:s,equipped:e.items.map(p=>({id:p.itemInstanceId,hash:p.hash})),unequipped:[],clearSpace:!1};if(a.length){const p=a.reduce((f,y,S)=>(f[S+7]=y,f),{});if(3!=n.characterClass&&n.selectedModElement!=X.w.CombatStyleMod){const y=d.Bx[n.characterClass][n.selectedModElement];y&&m.equipped.push({id:"12345",hash:y,socketOverrides:p})}}return"https://app.destinyitemmanager.com/loadouts?loadout="+encodeURIComponent(JSON.stringify(m))}openInDIM(e){const n=this.generateDIMLink(e);window.open(n,"blank")}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(E),t.KVO(Q.so))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function Xi(o,r){if(1&o&&(t.j41(0,"u",29,30),t.EFF(2),t.k0s()),2&o){const e=t.XpG().$implicit;t.R7$(2),t.JRh(e.name)}}function Wi(o,r){if(1&o&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&o){const e=t.XpG().$implicit;t.R7$(1),t.JRh(e.name)}}function qi(o,r){if(1&o&&(t.qex(0),t.j41(1,"td",31)(2,"span",32),t.EFF(3),t.k0s()(),t.j41(4,"td",31)(5,"span",32),t.EFF(6),t.k0s()(),t.j41(7,"td",31)(8,"span",32),t.EFF(9),t.k0s()(),t.j41(10,"td",31)(11,"span",32),t.EFF(12),t.k0s()(),t.j41(13,"td",31)(14,"span",32),t.EFF(15),t.k0s()(),t.j41(16,"td",31)(17,"span",32),t.EFF(18),t.k0s()(),t.bVm()),2&o){const e=r.ngVar,n=t.XpG().$implicit,i=t.XpG();t.R7$(2),t.AVh("text-mw",n.masterworked),t.R7$(1),t.JRh(n.stats[i.ArmorStat.StatHealth]+e[1]),t.R7$(2),t.AVh("text-mw",n.masterworked),t.R7$(1),t.JRh(n.stats[i.ArmorStat.StatMelee]+e[5]),t.R7$(2),t.AVh("text-mw",n.masterworked),t.R7$(1),t.JRh(n.stats[i.ArmorStat.StatGrenade]+e[3]),t.R7$(2),t.AVh("text-mw",n.masterworked),t.R7$(1),t.JRh(n.stats[i.ArmorStat.StatSuper]+e[4]),t.R7$(2),t.AVh("text-mw",n.masterworked),t.R7$(1),t.JRh(n.stats[i.ArmorStat.StatClass]+e[2]),t.R7$(2),t.AVh("text-mw",n.masterworked),t.R7$(1),t.JRh(n.stats[i.ArmorStat.StatWeapon]+e[0])}}function Ji(o,r){if(1&o&&(t.j41(0,"span",33),t.EFF(1),t.k0s()),2&o){const e=t.XpG().$implicit;t.R7$(1),t.SpI(" ",e.tier," ")}}function Ki(o,r){1&o&&(t.j41(0,"mat-icon",35),t.EFF(1,"check_circle"),t.k0s())}function Qi(o,r){if(1&o&&(t.qex(0),t.DNE(1,Ki,2,0,"mat-icon",34),t.bVm()),2&o){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("ngIf",e.masterworked)}}function Zi(o,r){if(1&o&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2).$implicit;t.R7$(1),t.JRh(e.masterworkLevel)}}function ta(o,r){if(1&o&&t.DNE(0,Zi,2,1,"span",17),2&o){const e=t.XpG().$implicit;t.Y8G("ngIf",void 0!==e.masterworkLevel)}}function ea(o,r){if(1&o&&(t.j41(0,"span",33),t.nrm(1,"app-stat-icon",36),t.k0s()),2&o){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("stat",e.tuningStat)}}function na(o,r){1&o&&(t.j41(0,"td",18),t.nrm(1,"mat-progress-spinner",37),t.k0s())}function oa(o,r){1&o&&(t.j41(0,"td")(1,"mat-icon",38,30),t.EFF(3," check_circle_outline "),t.k0s()())}function ia(o,r){1&o&&(t.j41(0,"td")(1,"mat-icon",39,30),t.EFF(3," error_outline "),t.k0s()())}function aa(o,r){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"tr")(2,"td"),t.DNE(3,Xi,3,1,"u",16),t.DNE(4,Wi,2,1,"span",17),t.k0s(),t.DNE(5,qi,19,18,"ng-container",7),t.j41(6,"td",18)(7,"div",19),t.nrm(8,"app-item-icon",20),t.k0s()(),t.j41(9,"td",18)(10,"div",21),t.nrm(11,"app-armor-perk-icon",22),t.k0s()(),t.j41(12,"td",23),t.DNE(13,Ji,2,1,"span",24),t.k0s(),t.j41(14,"td",23),t.DNE(15,Qi,2,1,"ng-container",25),t.DNE(16,ta,1,1,"ng-template",null,26,t.C5r),t.k0s(),t.j41(18,"td"),t.DNE(19,ea,2,1,"span",24),t.k0s(),t.j41(20,"td",18)(21,"button",27),t.bIt("click",function(){const a=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.disableItem(a.itemInstanceId))}),t.j41(22,"mat-icon"),t.EFF(23,"block"),t.k0s()()(),t.DNE(24,na,2,0,"td",28),t.DNE(25,oa,4,0,"td",17),t.DNE(26,ia,4,0,"td",17),t.k0s(),t.bVm()}if(2&o){const e=r.$implicit,n=t.sdS(17),i=t.XpG();t.R7$(3),t.Y8G("ngIf",e.masterworked),t.R7$(1),t.Y8G("ngIf",!e.masterworked),t.R7$(1),t.Y8G("ngVar",i.getMasterworkBonus(e)),t.R7$(2),t.Y8G("itemTooltip",e),t.R7$(1),t.Y8G("itemHash",e.hash)("masterworked",e.masterworked)("source",e.source),t.R7$(3),t.Y8G("perk",e.perk||0),t.R7$(2),t.Y8G("ngIf",void 0!==e.tier),t.R7$(2),t.Y8G("ngIf",2===e.armorSystem)("ngIfElse",n),t.R7$(4),t.Y8G("ngIf",null!==e.tuningStat),t.R7$(5),t.Y8G("ngIf",1===e.transferState||2===e.transferState),t.R7$(1),t.Y8G("ngIf",3===e.transferState),t.R7$(1),t.Y8G("ngIf",4===e.transferState)}}function ra(o,r){if(1&o&&(t.j41(0,"td"),t.EFF(1),t.nrm(2,"app-stat-icon",41),t.k0s()),2&o){const e=t.XpG().ngVar,n=t.XpG();t.R7$(1),t.SpI(" ",e[n.ArmorStat.StatHealth]," "),t.R7$(1),t.Y8G("stat",n.ArmorStat.StatHealth)}}function sa(o,r){if(1&o&&(t.j41(0,"td"),t.EFF(1),t.nrm(2,"app-stat-icon",41),t.k0s()),2&o){const e=t.XpG().ngVar,n=t.XpG();t.R7$(1),t.SpI(" ",e[n.ArmorStat.StatMelee]," "),t.R7$(1),t.Y8G("stat",n.ArmorStat.StatMelee)}}function ca(o,r){if(1&o&&(t.j41(0,"td"),t.EFF(1),t.nrm(2,"app-stat-icon",41),t.k0s()),2&o){const e=t.XpG().ngVar,n=t.XpG();t.R7$(1),t.SpI(" ",e[n.ArmorStat.StatGrenade]," "),t.R7$(1),t.Y8G("stat",n.ArmorStat.StatGrenade)}}function la(o,r){if(1&o&&(t.j41(0,"td"),t.EFF(1),t.nrm(2,"app-stat-icon",41),t.k0s()),2&o){const e=t.XpG().ngVar,n=t.XpG();t.R7$(1),t.SpI(" ",e[n.ArmorStat.StatSuper]," "),t.R7$(1),t.Y8G("stat",n.ArmorStat.StatSuper)}}function da(o,r){if(1&o&&(t.j41(0,"td"),t.EFF(1),t.nrm(2,"app-stat-icon",41),t.k0s()),2&o){const e=t.XpG().ngVar,n=t.XpG();t.R7$(1),t.SpI(" ",e[n.ArmorStat.StatClass]," "),t.R7$(1),t.Y8G("stat",n.ArmorStat.StatClass)}}function ma(o,r){if(1&o&&(t.j41(0,"td"),t.EFF(1),t.nrm(2,"app-stat-icon",41),t.k0s()),2&o){const e=t.XpG().ngVar,n=t.XpG();t.R7$(1),t.SpI(" ",e[n.ArmorStat.StatWeapon]," "),t.R7$(1),t.Y8G("stat",n.ArmorStat.StatWeapon)}}function pa(o,r){if(1&o&&(t.j41(0,"tr",40)(1,"td"),t.EFF(2,"Total (armor)"),t.k0s(),t.DNE(3,ra,3,2,"td",17),t.DNE(4,sa,3,2,"td",17),t.DNE(5,ca,3,2,"td",17),t.DNE(6,la,3,2,"td",17),t.DNE(7,da,3,2,"td",17),t.DNE(8,ma,3,2,"td",17),t.k0s()),2&o){const e=r.ngVar;t.R7$(3),t.Y8G("ngIf",!!e),t.R7$(1),t.Y8G("ngIf",!!e),t.R7$(1),t.Y8G("ngIf",!!e),t.R7$(1),t.Y8G("ngIf",!!e),t.R7$(1),t.Y8G("ngIf",!!e),t.R7$(1),t.Y8G("ngIf",!!e)}}function ua(o,r){1&o&&(t.j41(0,"span"),t.EFF(1,"+"),t.k0s())}function ga(o,r){if(1&o&&(t.j41(0,"span"),t.DNE(1,ua,2,0,"span",17),t.EFF(2),t.k0s()),2&o){const e=t.XpG();t.HbH(e.configValues[e.ArmorStat.StatHealth]>0?"positive":"negative"),t.R7$(1),t.Y8G("ngIf",e.configValues[e.ArmorStat.StatHealth]>0),t.R7$(1),t.SpI("",e.configValues[e.ArmorStat.StatHealth]," ")}}function ha(o,r){1&o&&(t.j41(0,"span"),t.EFF(1,"+"),t.k0s())}function fa(o,r){if(1&o&&(t.j41(0,"span"),t.DNE(1,ha,2,0,"span",17),t.EFF(2),t.k0s()),2&o){const e=t.XpG();t.HbH(e.configValues[e.ArmorStat.StatMelee]>0?"positive":"negative"),t.R7$(1),t.Y8G("ngIf",e.configValues[e.ArmorStat.StatMelee]>0),t.R7$(1),t.SpI("",e.configValues[e.ArmorStat.StatMelee]," ")}}function _a(o,r){1&o&&(t.j41(0,"span"),t.EFF(1,"+"),t.k0s())}function ya(o,r){if(1&o&&(t.j41(0,"span"),t.DNE(1,_a,2,0,"span",17),t.EFF(2),t.k0s()),2&o){const e=t.XpG();t.HbH(e.configValues[e.ArmorStat.StatGrenade]>0?"positive":"negative"),t.R7$(1),t.Y8G("ngIf",e.configValues[e.ArmorStat.StatGrenade]>0),t.R7$(1),t.SpI("",e.configValues[e.ArmorStat.StatGrenade]," ")}}function ba(o,r){1&o&&(t.j41(0,"span"),t.EFF(1,"+"),t.k0s())}function Ca(o,r){if(1&o&&(t.j41(0,"span"),t.DNE(1,ba,2,0,"span",17),t.EFF(2),t.k0s()),2&o){const e=t.XpG();t.HbH(e.configValues[e.ArmorStat.StatSuper]>0?"positive":"negative"),t.R7$(1),t.Y8G("ngIf",e.configValues[e.ArmorStat.StatSuper]>0),t.R7$(1),t.SpI("",e.configValues[e.ArmorStat.StatSuper]," ")}}function va(o,r){1&o&&(t.j41(0,"span"),t.EFF(1,"+"),t.k0s())}function xa(o,r){if(1&o&&(t.j41(0,"span"),t.DNE(1,va,2,0,"span",17),t.EFF(2),t.k0s()),2&o){const e=t.XpG();t.HbH(e.configValues[e.ArmorStat.StatClass]>0?"positive":"negative"),t.R7$(1),t.Y8G("ngIf",e.configValues[e.ArmorStat.StatClass]>0),t.R7$(1),t.SpI("",e.configValues[e.ArmorStat.StatClass]," ")}}function Sa(o,r){1&o&&(t.j41(0,"span"),t.EFF(1,"+"),t.k0s())}function ka(o,r){if(1&o&&(t.j41(0,"span"),t.DNE(1,Sa,2,0,"span",17),t.EFF(2),t.k0s()),2&o){const e=t.XpG();t.HbH(e.configValues[e.ArmorStat.StatWeapon]>0?"positive":"negative"),t.R7$(1),t.Y8G("ngIf",e.configValues[e.ArmorStat.StatWeapon]>0),t.R7$(1),t.SpI("",e.configValues[e.ArmorStat.StatWeapon]," ")}}function wa(o,r){if(1&o&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar;t.R7$(1),t.SpI("",e,"\xd75")}}function Ma(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,wa,2,1,"span",43),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function Ea(o,r){if(1&o&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar;t.R7$(1),t.SpI("",e,"\xd75")}}function Oa(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,Ea,2,1,"span",43),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function Ia(o,r){if(1&o&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar;t.R7$(1),t.SpI("",e,"\xd75")}}function Fa(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,Ia,2,1,"span",43),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function Pa(o,r){if(1&o&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar;t.R7$(1),t.SpI("",e,"\xd75")}}function Ta(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,Pa,2,1,"span",43),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function Aa(o,r){if(1&o&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar;t.R7$(1),t.SpI("",e,"\xd75")}}function Da(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,Aa,2,1,"span",43),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function Ra(o,r){if(1&o&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar;t.R7$(1),t.SpI("",e,"\xd75")}}function ja(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,Ra,2,1,"span",43),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function Ga(o,r){if(1&o&&(t.j41(0,"tr",42)(1,"td"),t.EFF(2,"Minor Mods"),t.k0s(),t.DNE(3,Ma,2,1,"td",7),t.nI1(4,"count"),t.DNE(5,Oa,2,1,"td",7),t.nI1(6,"count"),t.DNE(7,Fa,2,1,"td",7),t.nI1(8,"count"),t.DNE(9,Ta,2,1,"td",7),t.nI1(10,"count"),t.DNE(11,Da,2,1,"td",7),t.nI1(12,"count"),t.DNE(13,ja,2,1,"td",7),t.nI1(14,"count"),t.k0s()),2&o){const e=r.ngVar,n=t.XpG();t.R7$(3),t.Y8G("ngVar",t.i5U(4,6,e,n.StatModifier.MINOR_HEALTH)),t.R7$(2),t.Y8G("ngVar",t.i5U(6,9,e,n.StatModifier.MINOR_MELEE)),t.R7$(2),t.Y8G("ngVar",t.i5U(8,12,e,n.StatModifier.MINOR_GRENADE)),t.R7$(2),t.Y8G("ngVar",t.i5U(10,15,e,n.StatModifier.MINOR_SUPER)),t.R7$(2),t.Y8G("ngVar",t.i5U(12,18,e,n.StatModifier.MINOR_CLASS)),t.R7$(2),t.Y8G("ngVar",t.i5U(14,21,e,n.StatModifier.MINOR_WEAPON))}}function Va(o,r){if(1&o&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar;t.R7$(1),t.SpI("",e,"\xd710")}}function $a(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,Va,2,1,"span",43),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function Na(o,r){if(1&o&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar;t.R7$(1),t.SpI("",e,"\xd710")}}function Ba(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,Na,2,1,"span",43),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function Ya(o,r){if(1&o&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar;t.R7$(1),t.SpI("",e,"\xd710")}}function La(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,Ya,2,1,"span",43),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function Ha(o,r){if(1&o&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar;t.R7$(1),t.SpI("",e,"\xd710")}}function Ua(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,Ha,2,1,"span",43),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function za(o,r){if(1&o&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar;t.R7$(1),t.SpI("",e,"\xd710")}}function Xa(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,za,2,1,"span",43),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function Wa(o,r){if(1&o&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar;t.R7$(1),t.SpI("",e,"\xd710")}}function qa(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,Wa,2,1,"span",43),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function Ja(o,r){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2,"Major Mods"),t.k0s(),t.DNE(3,$a,2,1,"td",7),t.nI1(4,"count"),t.DNE(5,Ba,2,1,"td",7),t.nI1(6,"count"),t.DNE(7,La,2,1,"td",7),t.nI1(8,"count"),t.DNE(9,Ua,2,1,"td",7),t.nI1(10,"count"),t.DNE(11,Xa,2,1,"td",7),t.nI1(12,"count"),t.DNE(13,qa,2,1,"td",7),t.nI1(14,"count"),t.k0s()),2&o){const e=r.ngVar,n=t.XpG();t.R7$(3),t.Y8G("ngVar",t.i5U(4,6,e,n.StatModifier.MAJOR_HEALTH)),t.R7$(2),t.Y8G("ngVar",t.i5U(6,9,e,n.StatModifier.MAJOR_MELEE)),t.R7$(2),t.Y8G("ngVar",t.i5U(8,12,e,n.StatModifier.MAJOR_GRENADE)),t.R7$(2),t.Y8G("ngVar",t.i5U(10,15,e,n.StatModifier.MAJOR_SUPER)),t.R7$(2),t.Y8G("ngVar",t.i5U(12,18,e,n.StatModifier.MAJOR_CLASS)),t.R7$(2),t.Y8G("ngVar",t.i5U(14,21,e,n.StatModifier.MAJOR_WEAPON))}}function Ka(o,r){if(1&o&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar;t.R7$(1),t.SpI("",e,"\xd73")}}function Qa(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,Ka,2,1,"span",43),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function Za(o,r){if(1&o&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar;t.R7$(1),t.SpI("",e,"\xd73")}}function tr(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,Za,2,1,"span",43),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function er(o,r){if(1&o&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar;t.R7$(1),t.SpI("",e,"\xd73")}}function nr(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,er,2,1,"span",43),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function or(o,r){if(1&o&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar;t.R7$(1),t.SpI("",e,"\xd73")}}function ir(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,or,2,1,"span",43),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function ar(o,r){if(1&o&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar;t.R7$(1),t.SpI("",e,"\xd73")}}function rr(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,ar,2,1,"span",43),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function sr(o,r){if(1&o&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngVar;t.R7$(1),t.SpI("",e,"\xd73")}}function cr(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,sr,2,1,"span",43),t.k0s()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function lr(o,r){if(1&o&&(t.qex(0),t.j41(1,"tr")(2,"td"),t.EFF(3,"Artifice Mods"),t.k0s(),t.DNE(4,Qa,2,1,"td",7),t.nI1(5,"count"),t.DNE(6,tr,2,1,"td",7),t.nI1(7,"count"),t.DNE(8,nr,2,1,"td",7),t.nI1(9,"count"),t.DNE(10,ir,2,1,"td",7),t.nI1(11,"count"),t.DNE(12,rr,2,1,"td",7),t.nI1(13,"count"),t.DNE(14,cr,2,1,"td",7),t.nI1(15,"count"),t.k0s(),t.bVm()),2&o){const e=r.ngVar,n=t.XpG();t.R7$(4),t.Y8G("ngVar",t.i5U(5,6,e,n.StatModifier.ARTIFICE_HEALTH)),t.R7$(2),t.Y8G("ngVar",t.i5U(7,9,e,n.StatModifier.ARTIFICE_MELEE)),t.R7$(2),t.Y8G("ngVar",t.i5U(9,12,e,n.StatModifier.ARTIFICE_GRENADE)),t.R7$(2),t.Y8G("ngVar",t.i5U(11,15,e,n.StatModifier.ARTIFICE_SUPER)),t.R7$(2),t.Y8G("ngVar",t.i5U(13,18,e,n.StatModifier.ARTIFICE_CLASS)),t.R7$(2),t.Y8G("ngVar",t.i5U(15,21,e,n.StatModifier.ARTIFICE_WEAPON))}}function dr(o,r){if(1&o&&(t.j41(0,"span")(1,"span"),t.EFF(2),t.k0s()()),2&o){const e=t.XpG(2);t.R7$(1),t.AVh("positive",e.element.tuningStats[e.ArmorStat.StatHealth]>0)("negative",e.element.tuningStats[e.ArmorStat.StatHealth]<0),t.R7$(1),t.Lme(" ",e.element.tuningStats[e.ArmorStat.StatHealth]>0?"+":"","",e.element.tuningStats[e.ArmorStat.StatHealth]," ")}}function mr(o,r){if(1&o&&(t.j41(0,"span")(1,"span"),t.EFF(2),t.k0s()()),2&o){const e=t.XpG(2);t.R7$(1),t.AVh("positive",e.element.tuningStats[e.ArmorStat.StatMelee]>0)("negative",e.element.tuningStats[e.ArmorStat.StatMelee]<0),t.R7$(1),t.Lme(" ",e.element.tuningStats[e.ArmorStat.StatMelee]>0?"+":"","",e.element.tuningStats[e.ArmorStat.StatMelee]," ")}}function pr(o,r){if(1&o&&(t.j41(0,"span")(1,"span"),t.EFF(2),t.k0s()()),2&o){const e=t.XpG(2);t.R7$(1),t.AVh("positive",e.element.tuningStats[e.ArmorStat.StatGrenade]>0)("negative",e.element.tuningStats[e.ArmorStat.StatGrenade]<0),t.R7$(1),t.Lme(" ",e.element.tuningStats[e.ArmorStat.StatGrenade]>0?"+":"","",e.element.tuningStats[e.ArmorStat.StatGrenade]," ")}}function ur(o,r){if(1&o&&(t.j41(0,"span")(1,"span"),t.EFF(2),t.k0s()()),2&o){const e=t.XpG(2);t.R7$(1),t.AVh("positive",e.element.tuningStats[e.ArmorStat.StatSuper]>0)("negative",e.element.tuningStats[e.ArmorStat.StatSuper]<0),t.R7$(1),t.Lme(" ",e.element.tuningStats[e.ArmorStat.StatSuper]>0?"+":"","",e.element.tuningStats[e.ArmorStat.StatSuper]," ")}}function gr(o,r){if(1&o&&(t.j41(0,"span")(1,"span"),t.EFF(2),t.k0s()()),2&o){const e=t.XpG(2);t.R7$(1),t.AVh("positive",e.element.tuningStats[e.ArmorStat.StatClass]>0)("negative",e.element.tuningStats[e.ArmorStat.StatClass]<0),t.R7$(1),t.Lme(" ",e.element.tuningStats[e.ArmorStat.StatClass]>0?"+":"","",e.element.tuningStats[e.ArmorStat.StatClass]," ")}}function hr(o,r){if(1&o&&(t.j41(0,"span")(1,"span"),t.EFF(2),t.k0s()()),2&o){const e=t.XpG(2);t.R7$(1),t.AVh("positive",e.element.tuningStats[e.ArmorStat.StatWeapon]>0)("negative",e.element.tuningStats[e.ArmorStat.StatWeapon]<0),t.R7$(1),t.Lme(" ",e.element.tuningStats[e.ArmorStat.StatWeapon]>0?"+":"","",e.element.tuningStats[e.ArmorStat.StatWeapon]," ")}}function fr(o,r){if(1&o&&(t.j41(0,"tr",45)(1,"td",46),t.EFF(2,"Tuning"),t.k0s(),t.j41(3,"td"),t.DNE(4,dr,3,6,"span",17),t.k0s(),t.j41(5,"td"),t.DNE(6,mr,3,6,"span",17),t.k0s(),t.j41(7,"td"),t.DNE(8,pr,3,6,"span",17),t.k0s(),t.j41(9,"td"),t.DNE(10,ur,3,6,"span",17),t.k0s(),t.j41(11,"td"),t.DNE(12,gr,3,6,"span",17),t.k0s(),t.j41(13,"td"),t.DNE(14,hr,3,6,"span",17),t.k0s()()),2&o){const e=t.XpG();t.R7$(4),t.Y8G("ngIf",0!==e.element.tuningStats[e.ArmorStat.StatHealth]),t.R7$(2),t.Y8G("ngIf",0!==e.element.tuningStats[e.ArmorStat.StatMelee]),t.R7$(2),t.Y8G("ngIf",0!==e.element.tuningStats[e.ArmorStat.StatGrenade]),t.R7$(2),t.Y8G("ngIf",0!==e.element.tuningStats[e.ArmorStat.StatSuper]),t.R7$(2),t.Y8G("ngIf",0!==e.element.tuningStats[e.ArmorStat.StatClass]),t.R7$(2),t.Y8G("ngIf",0!==e.element.tuningStats[e.ArmorStat.StatWeapon])}}function _r(o,r){if(1&o&&(t.j41(0,"tr",47)(1,"td"),t.EFF(2,"Total"),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nrm(5,"app-stat-icon",41),t.k0s(),t.j41(6,"td"),t.EFF(7),t.nrm(8,"app-stat-icon",41),t.k0s(),t.j41(9,"td"),t.EFF(10),t.nrm(11,"app-stat-icon",41),t.k0s(),t.j41(12,"td"),t.EFF(13),t.nrm(14,"app-stat-icon",41),t.k0s(),t.j41(15,"td"),t.EFF(16),t.nrm(17,"app-stat-icon",41),t.k0s(),t.j41(18,"td"),t.EFF(19),t.nrm(20,"app-stat-icon",41),t.k0s()()),2&o){const e=r.ngVar,n=t.XpG();t.R7$(4),t.SpI(" ",e[n.ArmorStat.StatHealth]," "),t.R7$(1),t.Y8G("stat",n.ArmorStat.StatHealth),t.R7$(2),t.SpI(" ",e[n.ArmorStat.StatMelee]," "),t.R7$(1),t.Y8G("stat",n.ArmorStat.StatMelee),t.R7$(2),t.SpI(" ",e[n.ArmorStat.StatGrenade]," "),t.R7$(1),t.Y8G("stat",n.ArmorStat.StatGrenade),t.R7$(2),t.SpI(" ",e[n.ArmorStat.StatSuper]," "),t.R7$(1),t.Y8G("stat",n.ArmorStat.StatSuper),t.R7$(2),t.SpI(" ",e[n.ArmorStat.StatClass]," "),t.R7$(1),t.Y8G("stat",n.ArmorStat.StatClass),t.R7$(2),t.SpI(" ",e[n.ArmorStat.StatWeapon]," "),t.R7$(1),t.Y8G("stat",n.ArmorStat.StatWeapon)}}function yr(o,r){if(1&o&&(t.j41(0,"span",54),t.nrm(1,"img",55),t.EFF(2),t.nI1(3,"number"),t.k0s()),2&o){const e=t.XpG(2).ngVar;t.R7$(2),t.SpI(" ",t.bMT(3,1,e.glimmer)," ")}}function br(o,r){if(1&o&&(t.j41(0,"span",56),t.nrm(1,"img",57),t.EFF(2),t.k0s()),2&o){const e=t.XpG(2).ngVar;t.R7$(2),t.SpI(" ",e.core," ")}}function Cr(o,r){if(1&o&&(t.j41(0,"span",58),t.nrm(1,"img",59),t.EFF(2),t.k0s()),2&o){const e=t.XpG(2).ngVar;t.R7$(2),t.SpI(" ",e.prism," ")}}function vr(o,r){if(1&o&&(t.j41(0,"span",60),t.nrm(1,"img",61),t.EFF(2),t.k0s()),2&o){const e=t.XpG(2).ngVar;t.R7$(2),t.SpI(" ",e.ascshard," ")}}function xr(o,r){if(1&o&&(t.j41(0,"div",49),t.EFF(1," Total material cost: "),t.DNE(2,yr,4,3,"span",50),t.DNE(3,br,3,1,"span",51),t.DNE(4,Cr,3,1,"span",52),t.DNE(5,vr,3,1,"span",53),t.k0s()),2&o){const e=t.XpG().ngVar;t.R7$(2),t.Y8G("ngIf",e.glimmer>0),t.R7$(1),t.Y8G("ngIf",e.core>0),t.R7$(1),t.Y8G("ngIf",e.prism>0),t.R7$(1),t.Y8G("ngIf",e.ascshard>0)}}function Sr(o,r){if(1&o&&(t.qex(0),t.DNE(1,xr,6,4,"div",48),t.bVm()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e.total>0)}}let cn=(()=>{class o{constructor(e,n,i,a,s){this.config=e,this._snackBar=n,this.bungieApi=i,this.dimService=a,this.logger=s,this.MAXIMUM_MASTERWORK_LEVEL=T.cd,this.ModifierType=X.w,this.ModInformation=F.v,this.ArmorStatNames=d.wy,this.ArmorStatIconUrls=d.BU,this.ArmorStat=d.uD,this.StatModifier=d.oA,this.config_characterClass=3,this.config_assumeLegendariesMasterworked=!1,this.config_assumeExoticsMasterworked=!1,this.config_enabledMods=[],this.DIMUrl="",this.configValues=[0,0,0,0,0,0],this.element=null,this.ArmorItems=null,this.ExoticArmorItem=null,this.ngUnsubscribe=new G.B7}CopyDIMQuery(){var e=this;return(0,_.A)(function*(){e.element&&((yield e.dimService.copyDIMQuery(e.element))?e.openSnackBar("Copied the DIM search query to your clipboard."):e.openSnackBar("Failed to copy to clipboard."))})()}openSnackBar(e){this._snackBar.open(e,"",{duration:2500,politeness:"polite"})}ngOnInit(){this.ArmorItems=this.element?.items||null,this.ExoticArmorItem=this.element?.items.filter(e=>e.exotic)[0]||null,this.config.configuration.pipe((0,x.Q)(this.ngUnsubscribe)).subscribe(e=>{this.config_characterClass=e.characterClass,this.config_assumeLegendariesMasterworked=e.assumeLegendariesMasterworked,this.config_assumeExoticsMasterworked=e.assumeExoticsMasterworked,this.config_enabledMods=e.enabledMods,this.configValues=e.enabledMods.reduce((n,i)=>n.concat(F.v[i].bonus),[]).reduce((n,i)=>(i.stat==d.pe.ClassAbilityRegenerationStat?n[[1,0,2][e.characterClass]]+=i.value:n[i.stat]+=i.value,n),[0,0,0,0,0,0]),this.DIMUrl=this.element?this.dimService.generateDIMLink(this.element):""})}disableAllItems(){this.config.modifyConfiguration(e=>{for(let n of this.element?.items.flat())e.disabledItems.push(n.itemInstanceId)})}disableItem(e){this.config.modifyConfiguration(n=>{n.disabledItems.push(e)})}moveItems(e=!1){var n=this;return(0,_.A)(function*(){if(!n.element)return;const i=yield n.bungieApi.moveResultItems(n.element,e);n.openSnackBar(i.success?i.allSuccessful?"Success! Moved all the items.":"Some of the items could not be moved. Make sure that there is enough space in the specific slot. This tool will not move items out of your inventory.":"Error: Could not find a character to move the items to.")})()}calculateRequiredMasterworkCost(){let e={shards:0,glimmer:0,core:0,prism:0,ascshard:0,total:0},n=this.element?.items.flat()||[];n=n.filter(i=>i.energyLevel<10&&(i.exotic&&this.config_assumeExoticsMasterworked||!i.exotic&&this.config_assumeLegendariesMasterworked));for(let i of n){let a=zi(i.exotic,i.tier);if(a)for(let s=i.energyLevel;s<10;s++)for(let l in a[s+1])e[l]+=a[s+1][l],e.total++;else this.logger.warn("ExpandedResultContentComponent","calculateRequiredMasterworkCost","No cost list found for item: "+JSON.stringify(i))}return e}goToDIM(){this.element&&this.dimService.openInDIM(this.element)}getTiersForStat(e){return Math.floor((this.element?.stats[e]||0)/10)}getColumnForStat(e){var n=Math.floor(this.configValues[e]/10);let i=[],a=0,s=Math.ceil((5*(this.element?.mods.filter(m=>m==1+2*e)||[]).length+10*(this.element?.mods.filter(m=>m==2+2*e)||[]).length)/10);var l=this.getTiersForStat(e)-n-s;for(let m=0;m<l;m++)i.push("normal"+(++a>10?" over100":""));for(let m=0;m<s;m++)i.push("mod"+(++a>10?" over100":""));for(let m=0;m<n;m++)i.push("config"+(++a>10?" over100":""));for(;a++<10;)i.push("");return i}getRequiredMasterworkBonus(){return 2*(this.element?.items.filter(e=>!e.masterworked&&!e.exotic&&this.config_assumeLegendariesMasterworked||e.exotic&&this.config_assumeExoticsMasterworked)||[]).length}getMasterworkBonus(e){const n=[0,0,0,0,0,0];if(e.armorSystem==nt.V.Armor2){if(e.masterworkLevel==T.cd||e.exotic&&this.config_assumeExoticsMasterworked||!e.exotic&&this.config_assumeLegendariesMasterworked)for(let i=0;i<6;i++)n[i]+=2;return n}if(e.armorSystem==nt.V.Armor3){let i=e.masterworkLevel;if((e.exotic&&this.config_assumeExoticsMasterworked||!e.exotic&&this.config_assumeLegendariesMasterworked)&&(i=5),0==i)return n;for(let a=0;a<6;a++)-1===e.archetypeStats.indexOf(a)&&(n[a]+=i);return n}return n}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(E),t.rXU(fe.UG),t.rXU(we),t.rXU(sn),t.rXU(Q.so))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-expanded-result-content"]],inputs:{element:"element"},decls:66,vars:20,consts:[[1,"specificStatTable"],[1,"ability-column"],[4,"ngFor","ngForOf"],["class","result-total-gear result-total highlight-row",4,"ngVar"],[1,"result-config"],[3,"class",4,"ngIf"],["class","highlight-row",4,"ngVar"],[4,"ngVar"],["class","tuning-row",4,"ngIf"],["class","result-total-all result-total highlight-row",4,"ngVar"],[2,"display","flex","align-items","center","flex-direction","column"],[1,"buttonContainer"],["color","primary","mat-raised-button","","matTooltip","Use this button to copy a DIM search query to your clip board. It allows you to search the given items in DIM.",3,"click"],["color","primary","mat-raised-button","","matTooltip","Use this button to open this build as a DIM Loadout.",3,"click"],["mat-stroked-button","","matTooltip","Click this button to move Items to your inventory. Make sure that you have enough space in your inventory. This tool will not move any items out of your inventory.",3,"click"],["mat-stroked-button","","matTooltip","Click this button to equip the Items. Make sure that you have enough space in your inventory. This tool will not move any items out of your inventory.",3,"click"],["class","item-name-mw","matTooltip","This item is already masterworked.",4,"ngIf"],[4,"ngIf"],[1,"icon-column"],[1,"item-icon-container",3,"itemTooltip"],[1,"item-icon",3,"itemHash","masterworked","source"],[2,"position","relative","width","25px"],[3,"perk"],[2,"text-align","center"],["class","tuning-affinity",4,"ngIf"],[4,"ngIf","ngIfElse"],["showLevel",""],["mat-icon-button","","matTooltip","Disable this item from the results. It will not be used to generate results anymore, but you can always undo this.",1,"item-info-menu-btn",2,"padding","0","top","0","left","0",3,"click"],["class","icon-column",4,"ngIf"],["matTooltip","This item is already masterworked.",1,"item-name-mw"],["tooltip","matTooltip"],[1,"item-stat-container"],[1,"item-stat-value"],[1,"tuning-affinity"],["aria-label","Masterworked",4,"ngIf"],["aria-label","Masterworked"],[3,"stat"],["color","primary","diameter","22","mode","indeterminate",1,"item-loading-spinner"],["aria-hidden","false","aria-label","Success","inline","","matTooltip","Item successfully moved to inventory.",1,"item-moved-icon"],["aria-hidden","false","aria-label","Error","inline","","matTooltip","This item could not be moved. Make sure that there is enough space on your character. This tool will not move items out of your inventory.",1,"report-problem-icon"],[1,"result-total-gear","result-total","highlight-row"],[1,"statIcon",3,"stat"],[1,"highlight-row"],["class","positive",4,"ngIf"],[1,"positive"],[1,"tuning-row"],[1,"tuning-label"],[1,"result-total-all","result-total","highlight-row"],["style","margin-top: 10px",4,"ngIf"],[2,"margin-top","10px"],["class","currency-icon-container","matTooltip","Glimmer",4,"ngIf"],["class","currency-icon-container","matTooltip","Enhancement Cores",4,"ngIf"],["class","currency-icon-container","matTooltip","Enhancement Prism",4,"ngIf"],["class","currency-icon-container","matTooltip","Ascendant Shard",4,"ngIf"],["matTooltip","Glimmer",1,"currency-icon-container"],["alt","Glimmer","src","https://www.bungie.net/common/destiny2_content/icons/88993eaeedad32f42072df6f77f47311.png",1,"currency-icon"],["matTooltip","Enhancement Cores",1,"currency-icon-container"],["alt","Enhancement Cores","src","https://www.bungie.net/common/destiny2_content/icons/0a4eb695ed55b4e720ddc401460cc0f9.jpg",1,"currency-icon"],["matTooltip","Enhancement Prism",1,"currency-icon-container"],["alt","Enhancement Prism","src","https://www.bungie.net/common/destiny2_content/icons/dea2a35badf7466d4c2c2697ce6e8d87.jpg",1,"currency-icon"],["matTooltip","Ascendant Shard",1,"currency-icon-container"],["alt","Ascendant Shard","src","https://www.bungie.net/common/destiny2_content/icons/0271d214fc3ec91b3def799a4b286b46.jpg",1,"currency-icon"]],template:function(n,i){1&n&&(t.j41(0,"div"),t.EFF(1," This table shows you the expected stats of any item: "),t.j41(2,"table",0)(3,"thead")(4,"tr")(5,"th"),t.EFF(6,"Name"),t.k0s(),t.j41(7,"th",1),t.EFF(8),t.k0s(),t.j41(9,"th",1),t.EFF(10),t.k0s(),t.j41(11,"th",1),t.EFF(12),t.k0s(),t.j41(13,"th",1),t.EFF(14),t.k0s(),t.j41(15,"th",1),t.EFF(16),t.k0s(),t.j41(17,"th",1),t.EFF(18),t.k0s(),t.nrm(19,"th")(20,"th"),t.j41(21,"th"),t.EFF(22,"Tier"),t.k0s(),t.j41(23,"th"),t.EFF(24,"MW"),t.k0s(),t.nrm(25,"th")(26,"th"),t.k0s()(),t.DNE(27,aa,27,15,"ng-container",2),t.DNE(28,pa,9,6,"tr",3),t.j41(29,"tr",4)(30,"td"),t.EFF(31,"Configuration"),t.k0s(),t.j41(32,"td"),t.DNE(33,ga,3,4,"span",5),t.k0s(),t.j41(34,"td"),t.DNE(35,fa,3,4,"span",5),t.k0s(),t.j41(36,"td"),t.DNE(37,ya,3,4,"span",5),t.k0s(),t.j41(38,"td"),t.DNE(39,Ca,3,4,"span",5),t.k0s(),t.j41(40,"td"),t.DNE(41,xa,3,4,"span",5),t.k0s(),t.j41(42,"td"),t.DNE(43,ka,3,4,"span",5),t.k0s()(),t.DNE(44,Ga,15,24,"tr",6),t.DNE(45,Ja,15,24,"tr",7),t.DNE(46,lr,16,24,"ng-container",7),t.DNE(47,fr,15,6,"tr",8),t.DNE(48,_r,21,12,"tr",9),t.k0s()(),t.DNE(49,Sr,2,1,"ng-container",7),t.j41(50,"div",10)(51,"div",11)(52,"button",12),t.bIt("click",function(){return i.CopyDIMQuery()}),t.EFF(53," Copy DIM query to clipboard "),t.k0s(),t.j41(54,"button",13),t.bIt("click",function(){return i.goToDIM()}),t.EFF(55," Open Loadout in DIM "),t.k0s(),t.nrm(56,"br"),t.j41(57,"small"),t.EFF(58,"The following two buttons may not work for some at the moment:"),t.k0s(),t.nrm(59,"br"),t.j41(60,"button",14),t.bIt("click",function(){return i.moveItems()}),t.EFF(61," Move items to inventory (beta) "),t.k0s(),t.j41(62,"button",15),t.bIt("click",function(){return i.moveItems(!0)}),t.EFF(63," Equip Items (beta) "),t.k0s()()(),t.nrm(64,"br")(65,"br")),2&n&&(t.R7$(8),t.JRh(i.ArmorStatNames[i.ArmorStat.StatHealth]),t.R7$(2),t.JRh(i.ArmorStatNames[i.ArmorStat.StatMelee]),t.R7$(2),t.JRh(i.ArmorStatNames[i.ArmorStat.StatGrenade]),t.R7$(2),t.JRh(i.ArmorStatNames[i.ArmorStat.StatSuper]),t.R7$(2),t.JRh(i.ArmorStatNames[i.ArmorStat.StatClass]),t.R7$(2),t.JRh(i.ArmorStatNames[i.ArmorStat.StatWeapon]),t.R7$(9),t.Y8G("ngForOf",i.ArmorItems),t.R7$(1),t.Y8G("ngVar",null==i.element?null:i.element.statsNoMods),t.R7$(5),t.Y8G("ngIf",0!==i.configValues[i.ArmorStat.StatHealth]),t.R7$(2),t.Y8G("ngIf",0!==i.configValues[i.ArmorStat.StatMelee]),t.R7$(2),t.Y8G("ngIf",0!==i.configValues[i.ArmorStat.StatGrenade]),t.R7$(2),t.Y8G("ngIf",0!==i.configValues[i.ArmorStat.StatSuper]),t.R7$(2),t.Y8G("ngIf",0!==i.configValues[i.ArmorStat.StatClass]),t.R7$(2),t.Y8G("ngIf",0!==i.configValues[i.ArmorStat.StatWeapon]),t.R7$(1),t.Y8G("ngVar",null==i.element?null:i.element.mods),t.R7$(1),t.Y8G("ngVar",null==i.element?null:i.element.mods),t.R7$(1),t.Y8G("ngVar",null==i.element?null:i.element.artifice),t.R7$(1),t.Y8G("ngIf",i.element&&null!==i.element.tuningStats),t.R7$(1),t.Y8G("ngVar",null==i.element?null:i.element.stats),t.R7$(1),t.Y8G("ngVar",i.calculateRequiredMasterworkCost()))},styles:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.element-icon[_ngcontent-%COMP%]{width:22px}.element-icon-mini[_ngcontent-%COMP%]{height:12px}.item-loading-spinner[_ngcontent-%COMP%]{width:22px;height:22px;margin-bottom:6px}.item-icon[_ngcontent-%COMP%]{width:22px}.item-icon-overlay[_ngcontent-%COMP%]{width:22px;margin-left:-22px}.item-icon-container[_ngcontent-%COMP%]{position:relative;contain:layout paint style;box-sizing:border-box;width:var(--item-size);transition:opacity .2s,transform .2s;margin-top:-4px}.item-icon-masterwork-overlay[_ngcontent-%COMP%]{pointer-events:none;box-sizing:border-box;top:-1px;left:-1px;border-width:0;height:24px;width:24px;position:absolute;background-repeat:no-repeat;background-position:center;background-size:22px 22px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAJgklEQVR4AWI8t87oBYCd8rBuGAZi6N1JUQbIrJkiY6bM4EoE1EHvqb+WHsPvG5AJU522JQ/znpY03GzJ3YTovcvcVFcO5WbU8eH/OZ8R91B241c6wEzowJUUZnqlXMiZufrJSs1XUjNBUb6OcvUFF8190fzkGxS2J0ChGPQZDnYAQObJWHbNlCvZIXKxqvHN8KBp22SubByb9EKFGM2hzgyNa47vUzvKvnUToHPOINMFHG6Oo6hb6lhmMump4wROtxSMee8yjC6YI9jOnBYcGn5TZnTdBMB7d0+HB52AeKEb5QL2hQKx8RLk5IkE6eymz9CJFPJIQKxdWZKO5M1u+gw9kPvVJUjqyAt5Z98OMBAI4igO9x97koAAnSY6YHSaAB2nAiyswTbMq+/HAiHv0+4k3Ww1pOvnOvYews1Ow2rGnldEAAAIAAABACAAAAQAgAAAEAAAAgAgPwACAEAAAKiyAfJ7AXALEgAAAuAU5BMgAADki9j/BQCAlkN459OlNu6v0/V43vsAocOvq9kh1n/LX35h+B6EU9DI8fuVh/D48WMRWv742Qgtf/xshBY+fm1cMQgtefwdI5ffA/a9+frC68ox9M3enehIkvJAAC5D9vs/8F+Z/HugkfXJrOfec6QSJBi6O8IO2znX1zdZro39if/K0B8ftp2Hxxfa/vcu6DO8P5x/AaDrvwj4/uDPJDtjP09+ntDze9L+i4DRSEqwtgoQZ9rL3r9Ye/51L+Pw9tF6YuHFPJ/uWBDk2eXZvfb8YyMAwHvg673Z7AvmSF4POeSHmtDnb0xAD3qzN5gLfHsHIOvhktBJ4vOXJqABvJcZnqs5z54R7FF5ODaRiOkIGcXX+OZG7PqJnh6Ev3uOI52Z7tdRUCbdB6AFXHCDcZ3kkf2fGwEN+HGe+3xcE5yBB3umIvk5JnVIggDtnx/1u27XD5CajhBt8tqj9gMahDSan+7C629sxx6DiGmTcxOF304AwOud/SuABnTsZtNABWfaygUynjR3Ld+/GokZp4TO/JsJsEON1uN7OTEPaO9nVFHhHXizTdcN8Fl6BlER5gHk6lghYV8Tgd31DeCPL2icmhISYGsS9P7R9AErAT9JwlWCnuyFsmRuEQurKcBuqyBB72WkXtfmTCD7Au4a4/H7yYAl0N9VY0eERBqRr+Ov51yqCkTEYuuqjL4A+D4p1nvazLzOncHLt1dByhIwqpsHDzcShpIEkM4HZ5+zDEtoRLoKAgrwvwF41/WuAeg+z/1hDzk6VyGPkYW8aLfwarEwr0RJCDr/LUm4+42N8WX6z76Am3R9RoIkGGDvRN7i677TupIhqVZI7vmzPnr+1xLgwT6Bek6QtOE89rMmAGk6d8PhaG9ghSOgeLaAW1FFmYz9viLitcgBCFAgQ2dJ6dcEyLvcKxMuH2za3wW7AeOpqh/k6raz9l49XOIlQozX6pNwNCDnfde6Ckfb2SdeSejLUCXp+L3SPyAlj9FghVVHWV2etlVQ482MNfBHzwe4igSAj7T+4VnmtfdvwBJ5dxoXay/6hrc5gqrnyQCzX5H3fHYVhNd35eOrIWD4zDjZG2ntSmt8CpKTzCAnSEmp6Y7TDthyE9vbjhz7OOYAODg3THqfwEmMIJ29f1TaDwkX+8ckTCf8JAl6EjBviFo70m7v0vtTdD72EqzNgjwIgCJBr+aMRoTzbQMxzBlHIoY5JFCrA9xIZedIZLzZiwScpe1ij/vLyDu8b9p5IH2/V/4hfg+SGIUHr7oSAVhIwgbwIALpgYgLcvokvLU9gfsmgv+37117brJ90PrlHKAtWY24OWLO5/WORGWYAyJeQy8fjceHoOYz5gkTLeAPgL7YU57mHzRBQwA2Cff+5L3s1e9kn8Cuy1hAf9D/EN5YYySVKyQo4tyNSog6XucApWOZeA+Vz6UMNaXotLEiCZsgY4M9KVc/9lmBffwNHSonyQp1H/kpknDEiFeM/U2UybWRmcuEe5IcSPgAqOuQB2b3OiKBMrLumzy33dzy86HG84Z0KCtp/wL4kc7NfFdEDIucK9em8eskRl3q4bUAYc6YXalZJue6/LwkoClD9cYsP5G8d5pkT/U+Cfdd5gpI4jn2EL87eEQiID5tboPq9e+rBLvOA47D/doGj6+lKJpiQC+88WDP33h8JMADL36naIUYJYocsO+NGLOIAJJEjJnWhx7fyM0obAXLta7hmjxfp3dB5IF3AvRJwL3tzG3cjKJ8PkncBPgBocPyNXYEHAkI/md8CFA+eu8/jMiOVc1lpQRBEq38rKTNN/khkJHJXtjE8TW8T50fJO6RxvXaOSBer1j594Rjf5HfNyMSCCFoR43HBtKsirSFSCXILrh/G1p0vRdVSX4vdJvEkZYK+EVu4W0qtluCYtvGHq89MQImAApsLUHniBC0cbjXuclXcvR+o2Dq9ThXzhl3AtCcoabnHPBRdL1vCEwR30hQRAw985hwAZR1IyVcJ3o8p97HqSnE0xz1zpszAfgvSKm634e5tf9HVfaOGNcTJwLiUye2BJrnSk5OEiVZ3unv/7o/zvLT/sGshRy8i4hdyVtvk6mlaNoz4f6/dGvJkRqKgVXuDyuWLLkSZ+CiXIQVZ2CF0h0XbblkRU+hESIjq+yqZ2emJtKbZNK54vlfUBRAgl1A0BUuiyAvmdo/ff/x7QsZF5PsYY2uKw20EKA1NLpuzaNnBmddSCIZqrxIz2ydiEpprucWzrk8WzrZAGQQ5LyL4hJCqhCQ+zOVLFP5Cslzrc88KeGk0LWam1mSprc196WeH8mY/QZcngWxZ3/Y9fhsiiRjcpCzdKjhHSTHqDnCdatee/wFzF40+ph85GP9Ht7969BGjXlj0nBjbkoZJBPAbv+WB2sqWitvZXLrkrGprgluPsf5HvBr+/l1CpD4+8F/4NdnIreI64MMgFf0PUrhDRE3FjLuYLy4y9184Z1eY73w6rr7e2bNu4gvBE9fim7ftEOZkJ5I7TfkY1M+oHyiMF/R9YbcNzW3QfuLk/leIzXWLM/cgcp19FzCemU6cIz/MB9890UWjBGadM7N9QMtlCqqJiFwOjUhdaDQXQCdEwNOpzhYwMpBDrfcFpEXIsjiGJw+9jqidHo7O3+3QVO7+QpIf7ji9cbst7ogrVf8UXTDBslUgkxCCSilwjFdSAkBkSo1EcjSIBXWWvsN9SxF5ebWH3woEIS629sLNhsPabYekYTY/VR0znB/jBdcErKAavL8+A1ICXvgoqroDgAAAABJRU5ErkJggg==)}.negative[_ngcontent-%COMP%]{color:#f08080}.positive[_ngcontent-%COMP%]{color:#6495ed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-child)   td[_ngcontent-%COMP%]{border-bottom:rgba(240,248,255,.08) solid .5px}.result-total-gear[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:aliceblue solid 1px!important}.result-total-all[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .result-total-gear[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{border-top:aliceblue double}.buttonContainer[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.buttonContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-of-type){margin-right:6px;margin-bottom:3px}.result-total[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding-right:14px}.statIcon[_ngcontent-%COMP%]{position:absolute;height:14px;top:-2px;margin-left:-2px}.ability-column[_ngcontent-%COMP%]{width:60px;min-width:60px;max-width:60px}.item-info-menu-btn[_ngcontent-%COMP%]{height:22px!important;width:22px!important;line-height:22px!important;top:-4px;left:-4px}.item-info-menu-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px}.item-moved-icon[_ngcontent-%COMP%]{color:#7fffd4}.report-problem-icon[_ngcontent-%COMP%]{color:#f08080}.invalid-item-box[_ngcontent-%COMP%]{text-align:center;margin-right:auto;margin-left:auto;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;font-size:15px;line-height:20px}.text-centered[_ngcontent-%COMP%]{text-align:center!important}.specificStatTable[_ngcontent-%COMP%]{--mat-table-header-container-height: 52px;--mat-table-footer-container-height: 48px;--mat-table-row-item-container-height: 48px;border-collapse:separate;border-spacing:0 0}.highlight-row[_ngcontent-%COMP%]{background-color:#6e6e6e21}tr.legend[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:3px}.tier-column[_ngcontent-%COMP%]{min-width:27px}.energy-bar[_ngcontent-%COMP%]{width:25px;height:10px;border:white solid 2px;position:relative}.energy-bar.normal[_ngcontent-%COMP%]{background-color:#fff}.energy-bar.mod[_ngcontent-%COMP%]{background-color:gray;border:white ridge 2px}.energy-bar.config[_ngcontent-%COMP%]{background-color:#a3b1c2;border:white ridge 2px}.energy-bar.over100[_ngcontent-%COMP%]{border-color:#ff5e5e;width:10px}.item-stat-container[_ngcontent-%COMP%]{position:relative}.item-stat-bonus[_ngcontent-%COMP%]{position:absolute;right:20px;font-size:x-small}.item-name-mw[_ngcontent-%COMP%]{text-decoration:underline;text-decoration-color:#ffbc00}.text-mw[_ngcontent-%COMP%], .item-stat-bonus[_ngcontent-%COMP%]{color:#ffd86a}app-armor-perk-icon[_ngcontent-%COMP%]{width:23px;height:23px;position:absolute;top:-14px;left:0}td.sum-tiers[_ngcontent-%COMP%]{text-align:center!important;border-left:#6e6e6e solid 1px}.currency-icon[_ngcontent-%COMP%]{width:16px;position:absolute;left:0}.currency-icon-container[_ngcontent-%COMP%]{position:relative;padding-left:19px;padding-right:10px}.icon-column[_ngcontent-%COMP%]{padding-left:4px}"]})}}return o})(),ln=(()=>{class o{transform(e,n=null){return e.filter(i=>null==n||i==n).length}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275pipe=t.EJ8({name:"count",type:o,pure:!0})}}return o})();function kr(o,r){1&o&&(t.j41(0,"div"),t.EFF(1,"Helmets"),t.k0s())}function wr(o,r){1&o&&(t.j41(0,"div"),t.EFF(1,"Gauntlets"),t.k0s())}function Mr(o,r){1&o&&(t.j41(0,"div"),t.EFF(1,"Chest Pieces"),t.k0s())}function Er(o,r){1&o&&(t.j41(0,"div"),t.EFF(1,"Legs"),t.k0s())}function Or(o,r){1&o&&(t.j41(0,"div"),t.EFF(1,"Class Items"),t.k0s())}function Ir(o,r){1&o&&t.nrm(0,"br")}function Fr(o,r){if(1&o){const e=t.RV6();t.j41(0,"span",5)(1,"img",6),t.bIt("click",function(){const a=t.eBV(e).$implicit,s=t.XpG(3);return t.Njj(s.enableItem(a.itemInstanceId))}),t.k0s(),t.DNE(2,Ir,1,0,"br",3),t.k0s()}if(2&o){const e=r.$implicit,n=r.index,i=t.XpG(3);t.R7$(1),t.Mz_("src","https://bungie.net/",e.icon,"",t.B4B),t.Y8G("matTooltip",i.generateTooltip(e)),t.R7$(1),t.Y8G("ngIf",(n+1)%10==0)}}function Pr(o,r){if(1&o&&(t.j41(0,"div"),t.DNE(1,kr,2,0,"div",3),t.DNE(2,wr,2,0,"div",3),t.DNE(3,Mr,2,0,"div",3),t.DNE(4,Er,2,0,"div",3),t.DNE(5,Or,2,0,"div",3),t.DNE(6,Fr,3,3,"span",4),t.k0s()),2&o){const e=r.$implicit,n=r.index;t.R7$(1),t.Y8G("ngIf",1===n&&e.length>0),t.R7$(1),t.Y8G("ngIf",2===n&&e.length>0),t.R7$(1),t.Y8G("ngIf",3===n&&e.length>0),t.R7$(1),t.Y8G("ngIf",4===n&&e.length>0),t.R7$(1),t.Y8G("ngIf",5===n&&e.length>0),t.R7$(1),t.Y8G("ngForOf",e)}}function Tr(o,r){if(1&o&&(t.j41(0,"div",1),t.DNE(1,Pr,7,6,"div",2),t.k0s()),2&o){const e=t.XpG();t.R7$(1),t.Y8G("ngForOf",e.disabledItems)}}let Ar=(()=>{class o{constructor(e,n){this.config=e,this.db=n,this.disabledItems=[],this.characterClass=null,this.ngUnsubscribe=new G.B7}enableItem(e){this.config.modifyConfiguration(n=>{n.disabledItems.splice(n.disabledItems.indexOf(e),1)})}generateTooltip(e){return"Click this icon to activate this item again.\r\n"+e.name+"  Base: "+e.mobility+"/"+e.resilience+"/"+e.recovery+"/"+e.discipline+"/"+e.intellect+"/"+e.strength}ngOnInit(){var e=this;this.config.configuration.pipe((0,x.Q)(this.ngUnsubscribe)).subscribe(function(){var n=(0,_.A)(function*(i){e.characterClass=null;const a=[[],[],[],[],[],[]];let s=[];for(let l of i.disabledItems){let m=yield e.db.inventoryArmor.where("itemInstanceId").equals(l).first();m||(m={id:0,hash:0,tier:1,itemInstanceId:l,energyLevel:0,armorSystem:3,name:"Missing Armor",icon:"/common/destiny2_content/icons/763634b78eb22168ac707500588b7333.jpg",description:"This armor has been deleted",masterworkLevel:0,archetypeStats:[],clazz:3,slot:O.s.ArmorSlotNone,isExotic:0,isFeatured:!1,rarity:0,source:W.h$.Inventory,gearSetHash:null,mobility:0,resilience:0,recovery:0,discipline:0,intellect:0,strength:0}),s.push(m)}for(let l of s)a[l.slot].push(l);e.characterClass=i.characterClass;for(let l of a)l.sort((m,p)=>m.hash-p.hash);e.disabledItems=a});return function(i){return n.apply(this,arguments)}}())}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(E),t.rXU(It))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-ignored-items-list"]],decls:1,vars:1,consts:[["class","item-icon-container",4,"ngIf"],[1,"item-icon-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","item-sub",4,"ngFor","ngForOf"],[1,"item-sub"],["loading","lazy","matTooltipClass","allow-cr",1,"item-icon",3,"src","matTooltip","click"]],template:function(n,i){1&n&&t.DNE(0,Tr,2,1,"div",0),2&n&&t.Y8G("ngIf",null!==i.characterClass)},dependencies:[R.Sq,R.bT,pt.oV],styles:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.item-icon[_ngcontent-%COMP%]{width:40px}.item-icon[_ngcontent-%COMP%]:hover{filter:brightness(.8) hue-rotate(350deg) saturate(3) blur(2px) contrast(.6);cursor:not-allowed}.item-sub[_ngcontent-%COMP%]{margin-right:3px}.item-icon-container[_ngcontent-%COMP%]{position:relative;contain:layout paint style;box-sizing:border-box;width:var(--item-size);transition:opacity .2s,transform .2s}"]})}}return o})();var Wt=C(2772);function Dr(o,r){1&o&&(t.j41(0,"mat-chip",13),t.EFF(1,"Latest"),t.k0s())}function Rr(o,r){if(1&o&&(t.j41(0,"mat-chip-option",22)(1,"mat-icon",23),t.EFF(2,"bug_report"),t.k0s(),t.EFF(3),t.k0s()),2&o){const e=r.$implicit;t.Y8G("selectable",!1)("value",e),t.R7$(3),t.SpI(" ",e," ")}}function jr(o,r){if(1&o&&(t.j41(0,"div",19)(1,"mat-chip-listbox",20),t.DNE(2,Rr,4,3,"mat-chip-option",21),t.k0s()()),2&o){const e=t.XpG().$implicit;t.R7$(2),t.Y8G("ngForOf",e.issues)}}function Gr(o,r){if(1&o&&(t.qex(0),t.j41(1,"mat-list-item",14)(2,"mat-icon",15),t.EFF(3),t.k0s(),t.j41(4,"div",16)(5,"div",17),t.EFF(6),t.k0s(),t.DNE(7,jr,3,1,"div",18),t.k0s()(),t.bVm()),2&o){const e=r.$implicit,n=t.XpG(2);t.R7$(1),t.HbH(n.getEntryClass(e.type)),t.R7$(1),t.HbH(n.getIconClass(e.type)),t.Y8G("matTooltip",n.getTooltipText(e.type)),t.BMQ("aria-label",n.getTooltipText(e.type)),t.R7$(1),t.SpI(" ",n.getEntryIcon(e.type)," "),t.R7$(3),t.JRh(e.text),t.R7$(1),t.Y8G("ngIf",e.issues&&e.issues.length>0)}}function Vr(o,r){if(1&o&&(t.qex(0),t.j41(1,"mat-card",2)(2,"mat-card-header",3)(3,"div",4)(4,"mat-card-title",5)(5,"mat-icon",6),t.EFF(6,"new_releases"),t.k0s(),t.j41(7,"span",7),t.EFF(8),t.k0s(),t.DNE(9,Dr,2,0,"mat-chip",8),t.k0s(),t.j41(10,"mat-card-subtitle",9)(11,"mat-icon",10),t.EFF(12,"schedule"),t.k0s(),t.EFF(13),t.k0s()()(),t.j41(14,"mat-card-content",11)(15,"mat-list",12),t.DNE(16,Gr,8,9,"ng-container",1),t.k0s()()(),t.bVm()),2&o){const e=r.$implicit,n=r.first,i=t.XpG();t.R7$(1),t.AVh("latest-version",n),t.R7$(7),t.SpI("v",e.version,""),t.R7$(1),t.Y8G("ngIf",n),t.R7$(4),t.SpI(" Released ",e.date," "),t.R7$(3),t.Y8G("ngForOf",e.entries)("ngForTrackBy",i.trackByEntry)}}let dn=(()=>{class o{constructor(e){this.changelog=e,this.itemsToShow=-1}get displayedChangelogData(){return-1===this.itemsToShow?this.changelog.changelogData:this.changelog.changelogData.slice(0,this.itemsToShow)}trackByVersion(e,n){return n.version}trackByEntry(e,n){return`${e}-${n.type}-${n.text.substring(0,50)}`}getEntryIcon(e){switch(e){case c.ADD:return"add_circle";case c.REMOVE:return"remove_circle";case c.MODIFIED:return"edit";default:return"info"}}getIconClass(e){switch(e){case c.ADD:return"icon-add";case c.REMOVE:return"icon-remove";case c.MODIFIED:return"icon-modified";default:return"icon-default"}}getEntryClass(e){switch(e){case c.ADD:return"entry-add";case c.REMOVE:return"entry-remove";case c.MODIFIED:return"entry-modified";default:return"entry-default"}}getTooltipText(e){switch(e){case c.ADD:return"New feature or addition";case c.REMOVE:return"Removed feature or functionality";case c.MODIFIED:return"Modified or improved feature";default:return"Changelog entry"}}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(se))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-changelog-list"]],inputs:{itemsToShow:"itemsToShow"},decls:2,vars:2,consts:[[1,"changelog-container"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"version-card"],[1,"version-header"],[1,"version-info"],[1,"version-title"],[1,"version-icon"],[1,"version-number"],["class","latest-badge","color","accent",4,"ngIf"],[1,"release-date"],[1,"date-icon"],[1,"changelog-content"],["dense","",1,"entries-list"],["color","accent",1,"latest-badge"],[1,"changelog-entry"],["matListItemIcon","",1,"entry-icon",3,"matTooltip"],["matListItemTitle","",1,"entry-content"],[1,"entry-text"],["class","entry-issues",4,"ngIf"],[1,"entry-issues"],["aria-label","Related Issues",1,"issues-list"],["class","issue-chip",3,"selectable","value",4,"ngFor","ngForOf"],[1,"issue-chip",3,"selectable","value"],[1,"issue-icon"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.DNE(1,Vr,17,7,"ng-container",1),t.k0s()),2&n&&(t.R7$(1),t.Y8G("ngForOf",i.displayedChangelogData)("ngForTrackBy",i.trackByVersion))},dependencies:[R.Sq,R.bT,z.RN,z.m2,z.MM,z.Lc,z.dh,pt.oV,Tt.An,te.jt,te.YE,te.ZV,te.yE,Wt.Jl,Wt.uI,Wt.gq],styles:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.changelog-container[_ngcontent-%COMP%]{max-height:70vh;padding:16px;max-width:1200px;margin:0 auto;overflow-y:auto}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]{margin-bottom:24px;transition:all .3s cubic-bezier(.4,0,.2,1);border-radius:12px;overflow:hidden;box-shadow:0 2px 8px #0000001f}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #00000029;transform:translateY(-2px)}.changelog-container[_ngcontent-%COMP%]   .version-card.latest-version[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(63,81,181,.08),rgba(33,150,243,.08));border:2px solid rgba(63,81,181,.2)}.changelog-container[_ngcontent-%COMP%]   .version-card.latest-version[_ngcontent-%COMP%]   .version-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(63,81,181,.1),rgba(33,150,243,.1))}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .version-header[_ngcontent-%COMP%]{background:rgba(0,0,0,.04);padding:20px 24px 16px;border-bottom:1px solid rgba(0,0,0,.08)}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .version-header[_ngcontent-%COMP%]   .version-info[_ngcontent-%COMP%]{width:100%}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .version-header[_ngcontent-%COMP%]   .version-info[_ngcontent-%COMP%]   .version-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:1.5rem;font-weight:600;margin-bottom:8px;color:#000000de}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .version-header[_ngcontent-%COMP%]   .version-info[_ngcontent-%COMP%]   .version-title[_ngcontent-%COMP%]   .version-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:#3f51b5}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .version-header[_ngcontent-%COMP%]   .version-info[_ngcontent-%COMP%]   .version-title[_ngcontent-%COMP%]   .version-number[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;background:rgba(63,81,181,.1);padding:4px 12px;border-radius:16px;font-size:1.1rem}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .version-header[_ngcontent-%COMP%]   .version-info[_ngcontent-%COMP%]   .version-title[_ngcontent-%COMP%]   .latest-badge[_ngcontent-%COMP%]{font-size:.75rem;height:24px;line-height:24px;background:#4caf50;color:#fff}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .version-header[_ngcontent-%COMP%]   .version-info[_ngcontent-%COMP%]   .release-date[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:.9rem;color:#0009;margin:0}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .version-header[_ngcontent-%COMP%]   .version-info[_ngcontent-%COMP%]   .release-date[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]{padding:0}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry[_ngcontent-%COMP%]{padding:12px 24px;border-left:4px solid transparent;transition:all .2s ease-in-out;min-height:auto;height:auto;align-items:flex-start}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry[_ngcontent-%COMP%]:hover{background-color:#0000000a}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry.entry-add[_ngcontent-%COMP%]{border-left-color:#4caf50}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry.entry-add[_ngcontent-%COMP%]   .entry-icon.icon-add[_ngcontent-%COMP%]{color:#4caf50;background:rgba(76,175,80,.1);border-radius:50%;padding:4px}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry.entry-remove[_ngcontent-%COMP%]{border-left-color:#f44336}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry.entry-remove[_ngcontent-%COMP%]   .entry-icon.icon-remove[_ngcontent-%COMP%]{color:#f44336;background:rgba(244,67,54,.1);border-radius:50%;padding:4px}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry.entry-modified[_ngcontent-%COMP%]{border-left-color:#ff9800}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry.entry-modified[_ngcontent-%COMP%]   .entry-icon.icon-modified[_ngcontent-%COMP%]{color:#ff9800;background:rgba(255,152,0,.1);border-radius:50%;padding:4px}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry[_ngcontent-%COMP%]   .entry-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;margin-right:16px;margin-top:2px;flex-shrink:0}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]{flex:1;min-width:0}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   .entry-text[_ngcontent-%COMP%]{line-height:1.6;color:#000000de;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;white-space:normal;margin-bottom:8px;max-width:100%}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   .entry-issues[_ngcontent-%COMP%]   .issues-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   .entry-issues[_ngcontent-%COMP%]   .issues-list[_ngcontent-%COMP%]   .issue-chip[_ngcontent-%COMP%]{background:rgba(63,81,181,.1);color:#3f51b5;font-size:.75rem;height:24px;border-radius:12px;cursor:default}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   .entry-issues[_ngcontent-%COMP%]   .issues-list[_ngcontent-%COMP%]   .issue-chip[_ngcontent-%COMP%]   .issue-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;margin-right:4px}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   .entry-issues[_ngcontent-%COMP%]   .issues-list[_ngcontent-%COMP%]   .issue-chip[_ngcontent-%COMP%]:hover{background:rgba(63,81,181,.15)}@media (max-width: 768px){.changelog-container[_ngcontent-%COMP%]{padding:8px}.changelog-container[_ngcontent-%COMP%]   .scroll-mode-toggle[_ngcontent-%COMP%]{padding:12px;margin-bottom:16px}.changelog-container[_ngcontent-%COMP%]   .scroll-mode-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:.85rem}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]{margin-bottom:16px;border-radius:8px}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .version-header[_ngcontent-%COMP%]{padding:16px 16px 12px}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .version-header[_ngcontent-%COMP%]   .version-info[_ngcontent-%COMP%]   .version-title[_ngcontent-%COMP%]{font-size:1.25rem;flex-wrap:wrap;gap:8px}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .version-header[_ngcontent-%COMP%]   .version-info[_ngcontent-%COMP%]   .version-title[_ngcontent-%COMP%]   .version-number[_ngcontent-%COMP%]{font-size:1rem;padding:3px 10px}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .version-header[_ngcontent-%COMP%]   .version-info[_ngcontent-%COMP%]   .version-title[_ngcontent-%COMP%]   .latest-badge[_ngcontent-%COMP%]{font-size:.7rem;height:20px;line-height:20px}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry[_ngcontent-%COMP%]{padding:10px 16px}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry[_ngcontent-%COMP%]   .entry-icon[_ngcontent-%COMP%]{margin-right:12px}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   .entry-text[_ngcontent-%COMP%]{font-size:.9rem}.changelog-container[_ngcontent-%COMP%]   .load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]   .load-more-content[_ngcontent-%COMP%]{padding:20px}.changelog-container[_ngcontent-%COMP%]   .load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]   .load-more-content[_ngcontent-%COMP%]   .load-more-button[_ngcontent-%COMP%]{min-width:160px;height:44px}.changelog-container[_ngcontent-%COMP%]   .load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]   .load-more-content[_ngcontent-%COMP%]   .auto-load-hint[_ngcontent-%COMP%]{font-size:.75rem;text-align:center}}@media (max-width: 480px){.changelog-container[_ngcontent-%COMP%]{padding:4px}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .version-header[_ngcontent-%COMP%]   .version-info[_ngcontent-%COMP%]   .version-title[_ngcontent-%COMP%]{font-size:1.1rem}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .version-header[_ngcontent-%COMP%]   .version-info[_ngcontent-%COMP%]   .version-title[_ngcontent-%COMP%]   .version-number[_ngcontent-%COMP%]{font-size:.9rem}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry[_ngcontent-%COMP%]{padding:8px 12px}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   .entry-text[_ngcontent-%COMP%]{font-size:.85rem}}@media (prefers-color-scheme: dark){.changelog-container[_ngcontent-%COMP%]   .version-card.latest-version[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(63,81,181,.15),rgba(33,150,243,.15));border-color:#3f51b54d}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .version-header[_ngcontent-%COMP%]{background:rgba(255,255,255,.08);border-bottom-color:#ffffff1f}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .version-header[_ngcontent-%COMP%]   .version-info[_ngcontent-%COMP%]   .version-title[_ngcontent-%COMP%]{color:#ffffffde}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .version-header[_ngcontent-%COMP%]   .version-info[_ngcontent-%COMP%]   .version-title[_ngcontent-%COMP%]   .version-number[_ngcontent-%COMP%]{background:rgba(63,81,181,.2)}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry[_ngcontent-%COMP%]:hover{background-color:#ffffff14}.changelog-container[_ngcontent-%COMP%]   .version-card[_ngcontent-%COMP%]   .changelog-content[_ngcontent-%COMP%]   .entries-list[_ngcontent-%COMP%]   .changelog-entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   .entry-text[_ngcontent-%COMP%]{color:#ffffffde}}.load-more-section[_ngcontent-%COMP%]{margin:32px 0}.load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(63,81,181,.05),rgba(33,150,243,.05));border:1px dashed rgba(63,81,181,.3);border-radius:12px;transition:all .3s ease}.load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,rgba(63,81,181,.08),rgba(33,150,243,.08));border-color:#3f51b580}.load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]   .load-more-content[_ngcontent-%COMP%]{text-align:center;padding:24px}.load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]   .load-more-content[_ngcontent-%COMP%]   .load-more-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px;color:#3f51b5;margin-bottom:16px;opacity:.7}.load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]   .load-more-content[_ngcontent-%COMP%]   .load-more-title[_ngcontent-%COMP%]{margin:0 0 8px;color:#000000de;font-weight:500}.load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]   .load-more-content[_ngcontent-%COMP%]   .load-more-subtitle[_ngcontent-%COMP%]{margin:0 0 20px;color:#0009;font-size:.9rem}.load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]   .load-more-content[_ngcontent-%COMP%]   .load-more-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px}.load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]   .load-more-content[_ngcontent-%COMP%]   .load-more-button[_ngcontent-%COMP%]{min-width:180px;height:48px;font-weight:500;box-shadow:0 2px 4px #0003}.load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]   .load-more-content[_ngcontent-%COMP%]   .load-more-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]   .load-more-content[_ngcontent-%COMP%]   .load-more-button[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0000004d}.load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]   .load-more-content[_ngcontent-%COMP%]   .auto-load-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;margin:0;color:#00000080;font-size:.8rem;font-style:italic}.load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]   .load-more-content[_ngcontent-%COMP%]   .auto-load-hint[_ngcontent-%COMP%]   .hint-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]   .load-more-content[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px}.load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]   .load-more-content[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{margin:0;color:#0009;font-size:.9rem;font-style:italic}.end-of-changelog[_ngcontent-%COMP%]{margin:32px 0}.end-of-changelog[_ngcontent-%COMP%]   .end-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(76,175,80,.05),rgba(139,195,74,.05));border:1px solid rgba(76,175,80,.2);border-radius:12px}.end-of-changelog[_ngcontent-%COMP%]   .end-card[_ngcontent-%COMP%]   .end-content[_ngcontent-%COMP%]{text-align:center;padding:24px}.end-of-changelog[_ngcontent-%COMP%]   .end-card[_ngcontent-%COMP%]   .end-content[_ngcontent-%COMP%]   .end-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px;color:#4caf50;margin-bottom:16px}.end-of-changelog[_ngcontent-%COMP%]   .end-card[_ngcontent-%COMP%]   .end-content[_ngcontent-%COMP%]   .end-title[_ngcontent-%COMP%]{margin:0 0 8px;color:#000000de;font-weight:500}.end-of-changelog[_ngcontent-%COMP%]   .end-card[_ngcontent-%COMP%]   .end-content[_ngcontent-%COMP%]   .end-subtitle[_ngcontent-%COMP%]{margin:0;color:#0009;font-size:.9rem}@media (prefers-color-scheme: dark){.load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(63,81,181,.15),rgba(33,150,243,.15));border-color:#3f51b566}.load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,rgba(63,81,181,.2),rgba(33,150,243,.2));border-color:#3f51b599}.load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]   .load-more-content[_ngcontent-%COMP%]   .load-more-title[_ngcontent-%COMP%]{color:#ffffffde}.load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]   .load-more-content[_ngcontent-%COMP%]   .load-more-subtitle[_ngcontent-%COMP%], .load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]   .load-more-content[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{color:#fff9}.load-more-section[_ngcontent-%COMP%]   .load-more-card[_ngcontent-%COMP%]   .load-more-content[_ngcontent-%COMP%]   .auto-load-hint[_ngcontent-%COMP%]{color:#ffffff80}.end-of-changelog[_ngcontent-%COMP%]   .end-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(76,175,80,.15),rgba(139,195,74,.15));border-color:#4caf504d}.end-of-changelog[_ngcontent-%COMP%]   .end-card[_ngcontent-%COMP%]   .end-content[_ngcontent-%COMP%]   .end-title[_ngcontent-%COMP%]{color:#ffffffde}.end-of-changelog[_ngcontent-%COMP%]   .end-card[_ngcontent-%COMP%]   .end-content[_ngcontent-%COMP%]   .end-subtitle[_ngcontent-%COMP%]{color:#fff9}}"]})}}return o})();function $r(o,r){if(1&o&&(t.j41(0,"li"),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.R7$(1),t.JRh(e)}}let Nr=(()=>{class o{constructor(){this.knownIssues=["When you click buttons on the page too fast are able to select an invalid state with no results. Just undo your changed settings. And be patient - the calculation is an expensive task.","Sometimes duplicate results are given. This happens when the inventory got updated twice (Race Condition). Only reported once, and not really a problem."],this.changelog=Se}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-help-page"]],decls:121,vars:5,consts:[["id","help-container"],["color","primary","mat-raised-button","","routerLink","/",1,"returnbutton","hide-gt-sm"],["appearance","outlined"],["href","https://twitter.com/MijagoCoding/","target","_blank","matTooltip","Birb App"],["alt","Me on twitter","src","assets/logo-twitter.png",1,"logo-twitter"],["href","https://ko-fi.com/mijago","target","_blank","matTooltip","If you like my work, you can always buy me a coffee!"],["alt","Ko-Fi","src","assets/logo-kofi.png",1,"logo-twitter"],["href","http://discord.d2armorpicker.com/","target","_blank","matTooltip","Visit me at the development & support discord."],["alt","Discord","src","assets/logo-discord.png",1,"logo-twitter"],["href","https://github.com/Mijago/D2-Gear-Calculator","target","_blank"],["href","https://mijago.github.io/D2GearCalculator/","target","_blank"],["href","https://twitter.com/MijagoCoding/","target","_blank"],["href","https://ko-fi.com/mijago","target","_blank"],[1,"preview-image-container"],["alt","Preview of the results table","src","assets/armor-images/preview_result_details.png",1,"preview-image"],["id","armor-image-container"],["src","assets/armor-images/kabrs_battlecage.png"],["src","assets/armor-images/lightkin_gauntlets.png"],["src","assets/armor-images/phobos_warden_helm.png"],["src","assets/armor-images/wild_hunt_vest.png"],[4,"ngFor","ngForOf"],[1,"changelog-table-container"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"a",1),t.EFF(2," Return to D2ArmorPicker "),t.k0s(),t.j41(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title")(6,"span"),t.EFF(7,"About D2ArmorPicker "),t.j41(8,"small"),t.EFF(9," by Mijago"),t.k0s(),t.j41(10,"a",3),t.nrm(11,"img",4),t.k0s(),t.j41(12,"a",5),t.nrm(13,"img",6),t.k0s(),t.j41(14,"a",7),t.nrm(15,"img",8),t.k0s()()()(),t.j41(16,"mat-card-content"),t.EFF(17," D2ArmorPicker (or short D2AP) is a small web-app to quickly find armor that fits your desired stat requirements. It uses the armor in your vault, inventory and postmaster, calculates every possible variation and shows only those that fulfill the given requirements. "),t.nrm(18,"br")(19,"br"),t.EFF(20," As I raided a lot and I mainly play meme builds, I wanted to be able to switch exotics and have decent stats without being a burden on my team. That's why I developed the "),t.j41(21,"a",9),t.EFF(22,"first version of this tool"),t.k0s(),t.EFF(23," in Python. After a few days I started to translate this tool "),t.j41(24,"a",10),t.EFF(25,"into a webpage"),t.k0s(),t.EFF(26,". My friends liked it, but it didn't have API access. Thus I created the first version of D2ArmorPicker, and after people started using and liking it, I started to completely rewrite it - that's Version\xa02! "),t.nrm(27,"br")(28,"br"),t.EFF(29," I keep updating and improving this tool, but beware that it takes a bit, as I work on it on my spare time. Feel free to follow me on Twitter "),t.j41(30,"a",11),t.nrm(31,"img",4),t.k0s(),t.EFF(32,", I occasionally post updates there. If you like my tools and want to support me, head to "),t.j41(33,"a",12),t.EFF(34,"ko-fi.com"),t.k0s(),t.EFF(35," and buy me a coffee! \u2764 "),t.k0s()(),t.j41(36,"mat-card",2)(37,"mat-card-header")(38,"mat-card-title"),t.EFF(39," How do I use D2ArmorPicker? "),t.k0s()(),t.j41(40,"mat-card-content"),t.EFF(41," Follow these few steps: "),t.j41(42,"ol")(43,"li"),t.EFF(44,"Login. You already did this!"),t.k0s(),t.j41(45,"li"),t.EFF(46," [Optional] Pick an exotic you want to use. The tool will only display results for this exotic. You can always undo this. "),t.k0s(),t.j41(47,"li"),t.EFF(48," [Optional] Select additional mods/fragments that give a bonus (or penalty). These are important if you want certain stat combinations even if you have penalties on your gear. "),t.k0s(),t.j41(49,"li"),t.EFF(50," Select the stat distribution you seek. This is the heart of D2ArmorPicker. You just click 100 recovery and it will display you builds that have 100 recovery. "),t.j41(51,"i"),t.EFF(52,"Note that it automatically adds stat mods if necessary."),t.k0s()(),t.j41(53,"li"),t.EFF(54," Now look to the result table. On a normal desktop it should be on the right, on smaller devices it might move below the configuration. The table lists multiple results and you can sort it by your requirements."),t.nrm(55,"br"),t.j41(56,"b"),t.EFF(57,"Click"),t.k0s(),t.EFF(58," on an entry to open look the detailed view: "),t.j41(59,"div",13),t.nrm(60,"img",14),t.k0s(),t.EFF(61," The example above shows a build that utilizes Dunemarchers and a zero-waste-build. To achieve it, I have to move all the items in my inventory and equip them. After this, I "),t.j41(62,"i"),t.EFF(63,"masterwork"),t.k0s(),t.EFF(64," them and "),t.j41(65,"i"),t.EFF(66,"add the mods"),t.k0s(),t.EFF(67," as the table displays them: "),t.j41(68,"ul")(69,"li")(70,"b"),t.EFF(71,"Discipline:"),t.k0s(),t.EFF(72," One major mod, one minor mod;"),t.k0s(),t.j41(73,"li")(74,"b"),t.EFF(75,"Intellect:"),t.k0s(),t.EFF(76," One major mod, one minor mod;"),t.k0s(),t.j41(77,"li")(78,"b"),t.EFF(79,"Strength:"),t.k0s(),t.EFF(80," One major mod;"),t.k0s(),t.j41(81,"li"),t.EFF(82,"I also add Powerful Friends and Radiant Light, as I chose them in the configuration."),t.k0s()()()()()(),t.j41(83,"mat-card",2)(84,"mat-card-header")(85,"mat-card-title"),t.EFF(86," Where can I grind high stat armor? "),t.k0s()(),t.j41(87,"mat-card-content"),t.EFF(88," There are many spots that give you mediocre armor, but for the really good builds you need the correct armor. Here I provide a list of high-stat armor sources. It may not be complete, but a good starting point. "),t.j41(89,"i"),t.EFF(90,"Last updated February 8, 2022."),t.k0s(),t.j41(91,"ul")(92,"li"),t.EFF(93," Farm legendary Dares!"),t.k0s(),t.j41(94,"li"),t.EFF(95," Clear Pit of Heresy Dungeon, the boss drop guarantees two stats to be 16 (or higher)."),t.k0s(),t.j41(96,"li"),t.EFF(97," Farm a bunch of Spoils, go into Master Vault of Glass and buy armor at the final chest."),t.k0s(),t.j41(98,"li"),t.EFF(99," The list will be extended sometime in Witch Queen!"),t.k0s()(),t.EFF(100," Some good armor rolls may look like these: "),t.j41(101,"div",15),t.nrm(102,"img",16)(103,"img",17)(104,"img",18)(105,"img",19),t.k0s()()(),t.j41(106,"mat-card",2)(107,"mat-card-header")(108,"mat-card-title"),t.EFF(109,"Known Issues"),t.k0s()(),t.j41(110,"mat-card-content")(111,"ul"),t.DNE(112,$r,2,1,"li",20),t.k0s()()(),t.j41(113,"mat-card",2)(114,"mat-card-header")(115,"mat-card-title"),t.EFF(116,"Changelog"),t.k0s()(),t.j41(117,"mat-card-content",21),t.nrm(118,"app-changelog-list"),t.k0s()(),t.j41(119,"a",1),t.EFF(120," Return to D2ArmorPicker "),t.k0s()()),2&n&&(t.R7$(101),t.xc7("display","flex")("flex-direction","row"),t.R7$(11),t.Y8G("ngForOf",i.knownIssues))},dependencies:[R.Sq,lt.It,z.RN,z.m2,z.MM,z.dh,pt.oV,st.Wk,dn],styles:["#help-container[_ngcontent-%COMP%]{max-width:800px;margin-left:auto;margin-right:auto}.changelog-table-container[_ngcontent-%COMP%]{max-height:700px;overflow-y:scroll}mat-card[_ngcontent-%COMP%]{margin-bottom:8px}#armor-image-container[_ngcontent-%COMP%]{overflow:auto}#armor-image-container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]:not(:last-of-type){margin-right:20px}#armor-image-container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-height:300px}.preview-image-container[_ngcontent-%COMP%]{max-width:600px}.preview-image[_ngcontent-%COMP%]{max-width:100%}.returnbutton[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px;width:100%}.changelog-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-of-type{min-width:80px}.changelog-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-of-type(2){min-width:40px}.changelog-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:#6e6e6e solid 1px}\n\n/*# sourceMappingURL=help-page.component.css.map*/"]})}}return o})(),mn=(()=>{class o{constructor(){}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-armor-picker-page"]],decls:3,vars:0,consts:[["id","container"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.nrm(1,"app-settings")(2,"app-results"),t.k0s())},styles:["#container[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;white-space:nowrap;margin:auto;display:flex;flex-wrap:wrap;justify-content:center}\n\n/*# sourceMappingURL=armor-picker-page.component.css.map*/"]})}}return o})();var ie=C(4992);function Br(o,r){if(1&o&&(t.qex(0),t.j41(1,"tr",29)(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td",25)(5,"div",30),t.nrm(6,"div",31),t.j41(7,"span",32),t.EFF(8),t.nI1(9,"number"),t.k0s()()()(),t.bVm()),2&o){const e=r.$implicit,n=t.XpG(2).index,i=t.XpG();t.R7$(1),t.Y8G("matTooltip",i.ArmorStatNames[e]),t.R7$(2),t.SpI(" ",i.ArmorStatNames[e]," "),t.R7$(3),t.xc7("width",i.clusterInformation[n].mean[e]/40*100+"%"),t.R7$(2),t.SpI(" ",t.i5U(9,5,i.clusterInformation[n].mean[e],"1.0-0")," ")}}function Yr(o,r){if(1&o){const e=t.RV6();t.j41(0,"mat-card",24)(1,"mat-card-header")(2,"mat-card-title"),t.EFF(3),t.k0s(),t.j41(4,"mat-card-subtitle"),t.EFF(5),t.k0s()(),t.j41(6,"mat-card-content")(7,"div")(8,"table",25),t.DNE(9,Br,10,8,"ng-container",22),t.k0s()(),t.j41(10,"mat-form-field",26)(11,"mat-label"),t.EFF(12,"DIM Search Query"),t.k0s(),t.nrm(13,"input",27),t.k0s(),t.j41(14,"button",28),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.openSnackBar("Copied the DIM search query to your clipboard."))}),t.EFF(15," Copy DIM query to clipboard "),t.k0s()()()}if(2&o){const e=t.XpG(),n=e.index,i=e.$implicit,a=t.XpG();t.R7$(3),t.SpI(" Cluster ",n+1," "),t.R7$(2),t.Lme(" Contains ",i.length," item",i.length>1?"s":""," "),t.R7$(4),t.Y8G("ngForOf",a.ARMORSTAT_ORDER),t.R7$(4),t.Y8G("value",a.getDIMStringForCluster(i)),t.R7$(1),t.Y8G("cdkCopyToClipboard",a.getDIMStringForCluster(i))}}function Lr(o,r){if(1&o&&(t.qex(0),t.DNE(1,Yr,16,6,"mat-card",23),t.bVm()),2&o){const e=r.$implicit;t.R7$(1),t.Y8G("ngIf",e.length>0)}}let Hr=(()=>{class o{constructor(e,n,i){this.db=e,this._snackBar=n,this.inventory=i,this.clusterInformation=[],this.items=[],this.clusters=[],this.exoticFilter=void 0,this.classFilter=void 0,this.armorSystemFilter=void 0,this.clusterCount=10,this.ARMORSTAT_ORDER=d.Hz,this.ArmorStatNames=d.wy}ngAfterViewInit(){var e=this;return(0,_.A)(function*(){e.inventory.inventory.pipe((0,Dt.B)(200)).subscribe((0,_.A)(function*(){yield e.Update(),e.openSnackBar("Clusters were updated.")}))})()}Update(){var e=this;return(0,_.A)(function*(){console.log("classFilter",-1!==e.exoticFilter);const n=(yield e.db.inventoryArmor.toArray()).filter(S=>S.source===W.h$.Inventory&&S.slot!==O.s.ArmorSlotClass&&S.slot!==O.s.ArmorSlotNone&&(void 0===e.classFilter||S.clazz===e.classFilter)&&(-1!==e.exoticFilter||!S.isExotic)&&(1!==e.exoticFilter||S.isExotic)&&(void 0===e.armorSystemFilter||S.armorSystem===e.armorSystemFilter));e.items=n;const i=n.map(S=>[S.mobility,S.resilience,S.recovery,S.discipline,S.intellect,S.strength]),a=Math.min(e.clusterCount,n.length),{assignments:l,centroids:m}=e.kmeans(i,a,20,42),p=Array.from({length:a},()=>[]);n.forEach((S,u)=>{const Y=l[u];void 0!==Y&&Y>=0&&p[Y].push(S)});let f=m.map((S,u)=>{const Y=p[u];if(0===Y.length)return{mean:S,size:0};const j=Array(6).fill(0);Y.forEach(N=>{j[0]+=N.mobility,j[1]+=N.resilience,j[2]+=N.recovery,j[3]+=N.discipline,j[4]+=N.intellect,j[5]+=N.strength});for(let N=0;N<7;N++)j[N]/=Y.length;return{mean:j,size:Y.length}});const y=p.map((S,u)=>({cluster:S,info:f[u]}));y.sort((S,u)=>u.cluster.length-S.cluster.length),e.clusters=y.map(S=>S.cluster),e.clusterInformation=y.map(S=>S.info)})()}kmeans(e,n,i=20,a=42){if(0===e.length||0===n)return{assignments:[],centroids:[]};const l=function s(f){return function(){var y=f+=1831565813;return y=Math.imul(y^y>>>15,1|y),(((y^=y+Math.imul(y^y>>>7,61|y))^y>>>14)>>>0)/4294967296}}(a);let m=e.slice(0,n).map(f=>f.slice());if(e.length>n){const f=new Set;for(m=[];m.length<n;){const y=Math.floor(l()*e.length);f.has(y)||(m.push(e[y].slice()),f.add(y))}}let p=new Array(e.length).fill(0);for(let f=0;f<i;f++){p=e.map(u=>{let Y=1/0,j=0;for(let N=0;N<m.length;N++){const et=this.vectorDistance(u,m[N]);et<Y&&(Y=et,j=N)}return j});const y=Array.from({length:n},()=>Array(e[0].length).fill(0)),S=Array(n).fill(0);e.forEach((u,Y)=>{const j=p[Y];S[j]++;for(let N=0;N<u.length;N++)y[j][N]+=u[N]});for(let u=0;u<n;u++)if(S[u]>0)for(let Y=0;Y<y[u].length;Y++)y[u][Y]/=S[u];else y[u]=e[Math.floor(l()*e.length)].slice();m=y}return{assignments:p,centroids:m}}openSnackBar(e){this._snackBar.open(e,"",{duration:2500,politeness:"polite"})}getDIMStringForCluster(e){return e.map(n=>`id:'${n.itemInstanceId}'`).join(" or ")}vectorDistance(e,n){return Math.sqrt(e.reduce((i,a,s)=>i+Math.pow(a-n[s],2),0))}getClusterid(e){var n=Number.MAX_VALUE,i=-1;for(let s=0;s<this.clusterInformation.length;s++){var a=this.vectorDistance(this.clusterInformation[s].mean,[e.mobility+e.resilience+e.recovery+e.discipline+e.intellect+e.strength,e.mobility,e.resilience,e.recovery,e.discipline,e.intellect,e.strength]);a<n&&(n=a,i=s)}return i}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(It),t.rXU(fe.UG),t.rXU(Gt))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-armor-cluster-page"]],decls:104,vars:27,consts:[["id","cluster-container"],["color","primary","mat-raised-button","","routerLink","/",1,"returnbutton","hide-gt-sm"],["appearance","outlined"],[1,"settings-container"],[2,"min-width","200px"],["min","5","max","50","step","1",1,"example-margin",2,"width","150px",3,"discrete","showTickMarks"],["matSliderThumb","",3,"ngModel","ngModelChange"],[2,"margin-left","10px"],[3,"value","valueChange"],["matTooltip","Only select non-exotic armor pieces.",1,"red",3,"value"],["matTooltip","Only select exotic  armor pieces.",1,"green",3,"value"],["checked","",3,"value"],["matTooltip","Only select Armor 2.0 items.",1,"red",3,"value"],["matTooltip","Only select Armor 3.0 items.",1,"green",3,"value"],["matTooltip","Titan",3,"value"],["aria-hidden","true","focusable","false","viewBox","0 0 32 32","xmlns","http://www.w3.org/2000/svg",1,"svgClassIcon"],["d","m14.839 15.979-13.178-7.609v15.218zm2.322 0 13.178 7.609v-15.218zm5.485-12.175-6.589-3.804-13.178 7.609 13.178 7.609 13.179-7.609zm0 16.784-6.589-3.805-13.178 7.609 13.178 7.608 13.179-7.608-6.59-3.805z","fill","currentColor"],["matTooltip","Hunter",3,"value"],["d","m9.055 10.446 6.945-.023-6.948 10.451 6.948-.024-7.412 11.15h-7.045l7.036-10.428h-7.036l7.032-10.422h-7.032l7.507-11.126 6.95-.024zm13.89 0-6.945-10.446 6.95.024 7.507 11.126h-7.032l7.032 10.422h-7.036l7.036 10.428h-7.045l-7.412-11.15 6.948.024-6.948-10.451z","fill","currentColor"],["matTooltip","Warlock",3,"value"],["d","m5.442 23.986 7.255-11.65-2.71-4.322-9.987 15.972zm5.986 0 4.28-6.849-2.717-4.333-6.992 11.182zm7.83-11.611 7.316 11.611h5.426l-10.015-15.972zm-7.26 11.611h8.004l-4.008-6.392zm6.991-11.182-2.703 4.324 4.302 6.858h5.413zm-5.707-.459 2.71-4.331 2.71 4.331-2.703 4.326z","fill","currentColor"],[1,"cluster-container"],[4,"ngFor","ngForOf"],["appearance","outlined","class","cluster-item",4,"ngIf"],["appearance","outlined",1,"cluster-item"],["width","100%"],["appearance","fill",1,"searchQueryField"],["matInput","","readonly","","type","text",3,"value"],["color","primary","mat-raised-button","","matTooltip","Use this button to copy a DIM search query to your clip board. It allows you to search the given items in DIM.",1,"copyButton",3,"cdkCopyToClipboard","click"],[3,"matTooltip"],[1,"stat-range"],[1,"stat-range-bar"],[1,"avg-stat-value"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"a",1),t.EFF(2," Return to D2ArmorPicker "),t.k0s(),t.j41(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title"),t.EFF(6," About this page "),t.k0s()(),t.j41(7,"mat-card-content"),t.EFF(8," This page "),t.j41(9,"i"),t.EFF(10,"can"),t.k0s(),t.EFF(11),t.nrm(12,"br")(13,"br"),t.EFF(14,' Please note that it will cluster all armor for all characters. Make sure to use "is:titan", "is:warlock" or "is:hunter" in DIM. '),t.nrm(15,"br")(16,"br"),t.EFF(17," Please also note that this feature is new and may have some inaccuracy for some items. "),t.k0s(),t.j41(18,"mat-card-header")(19,"mat-card-title"),t.EFF(20," How do I use this page? "),t.k0s()(),t.j41(21,"mat-card-content")(22,"ol")(23,"li"),t.EFF(24,"Pick one of the clusters below."),t.k0s(),t.j41(25,"li"),t.EFF(26,"Copy the DIM search query and insert it in the search bar in DIM."),t.k0s(),t.j41(27,"li"),t.EFF(28,' If you want, add one of the following to the search query: "is:titan", "is:warlock", "is:hunter" (without " of course);'),t.nrm(29,"br"),t.EFF(30,' You can also use "not:masterwork", "not:exotic" or other filters. '),t.k0s(),t.j41(31,"li"),t.EFF(32,"Look at all the armor. Just look at it. If you see duplicates, you can look at them and decide which ones to keep. "),t.k0s()()()(),t.j41(33,"mat-card",2)(34,"mat-card-header")(35,"mat-card-title"),t.EFF(36,"Options"),t.k0s(),t.j41(37,"mat-card-subtitle"),t.EFF(38," Additional options for the clustering results. "),t.k0s()(),t.j41(39,"mat-card-content")(40,"div",3)(41,"span")(42,"b"),t.EFF(43,"Cluster Count"),t.k0s(),t.nrm(44,"br"),t.EFF(45,"Choose how many clusters to generate."),t.k0s(),t.j41(46,"span",4)(47,"mat-slider",5)(48,"input",6),t.bIt("ngModelChange",function(s){return i.clusterCount=s})("ngModelChange",function(){return i.Update()}),t.k0s()(),t.j41(49,"span",7),t.EFF(50),t.k0s()()(),t.j41(51,"div",3)(52,"span")(53,"b"),t.EFF(54,"Exotics"),t.k0s(),t.nrm(55,"br"),t.EFF(56,"Decide whether you want to see or hide exotics."),t.k0s(),t.j41(57,"span")(58,"mat-button-toggle-group",8),t.bIt("valueChange",function(){return i.Update()})("valueChange",function(s){return i.exoticFilter=s}),t.j41(59,"mat-button-toggle",9)(60,"mat-icon"),t.EFF(61,"visibility_off"),t.k0s()(),t.j41(62,"mat-button-toggle",10)(63,"mat-icon"),t.EFF(64,"visibility"),t.k0s()(),t.j41(65,"mat-button-toggle",11),t.EFF(66,"All"),t.k0s()()()(),t.j41(67,"div",3)(68,"span")(69,"b"),t.EFF(70,"Armor System"),t.k0s(),t.nrm(71,"br"),t.EFF(72,"Decide which armor system you want to see."),t.k0s(),t.j41(73,"span")(74,"mat-button-toggle-group",8),t.bIt("valueChange",function(){return i.Update()})("valueChange",function(s){return i.armorSystemFilter=s}),t.j41(75,"mat-button-toggle",12),t.EFF(76,"Armor 2.0"),t.k0s(),t.j41(77,"mat-button-toggle",13),t.EFF(78,"Armor 3.0"),t.k0s(),t.j41(79,"mat-button-toggle",11),t.EFF(80,"All"),t.k0s()()()(),t.j41(81,"div",3)(82,"span")(83,"b"),t.EFF(84,"Class"),t.k0s(),t.nrm(85,"br"),t.EFF(86,"Decide which class you want to see."),t.k0s(),t.j41(87,"span")(88,"mat-button-toggle-group",8),t.bIt("valueChange",function(){return i.Update()})("valueChange",function(s){return i.classFilter=s}),t.j41(89,"mat-button-toggle",14),t.qSk(),t.j41(90,"svg",15),t.nrm(91,"path",16),t.k0s()(),t.joV(),t.j41(92,"mat-button-toggle",17),t.qSk(),t.j41(93,"svg",15),t.nrm(94,"path",18),t.k0s()(),t.joV(),t.j41(95,"mat-button-toggle",19),t.qSk(),t.j41(96,"svg",15),t.nrm(97,"path",20),t.k0s()(),t.joV(),t.j41(98,"mat-button-toggle",11),t.EFF(99,"All"),t.k0s()()()()()(),t.j41(100,"div",21),t.DNE(101,Lr,2,1,"ng-container",22),t.k0s(),t.j41(102,"a",1),t.EFF(103," Return to D2ArmorPicker "),t.k0s()()),2&n&&(t.R7$(11),t.SpI(" help you to sort out your vault a bit. It takes all your armor entries and tries to sort them into ",i.clusterInformation.length," clusters. It then gives you a DIM search query for each cluster. You can use this to look at similar rolls in your vault and to clean out some of them. "),t.R7$(36),t.Y8G("discrete",!0)("showTickMarks",!0),t.R7$(1),t.Y8G("ngModel",i.clusterCount),t.R7$(2),t.JRh(i.clusterCount),t.R7$(8),t.Y8G("value",i.exoticFilter),t.R7$(1),t.Y8G("value",-1),t.R7$(3),t.Y8G("value",1),t.R7$(3),t.Y8G("value",void 0),t.R7$(9),t.Y8G("value",i.armorSystemFilter),t.R7$(1),t.Y8G("value",2),t.R7$(2),t.Y8G("value",3),t.R7$(2),t.Y8G("value",void 0),t.R7$(9),t.Y8G("value",i.classFilter),t.R7$(1),t.Y8G("value",0),t.R7$(3),t.Y8G("value",1),t.R7$(3),t.Y8G("value",2),t.R7$(3),t.Y8G("value",void 0),t.R7$(2),t.xc7("display","flex")("flex-direction","row")("gap","5px")("flex-fill",1),t.R7$(1),t.Y8G("ngForOf",i.clusters))},dependencies:[R.Sq,R.bT,ft.me,ft.BC,ft.vS,lt.It,lt.$z,Ht.rl,Ht.nJ,ie.IV,ie.OU,Fe.fg,z.RN,z.m2,z.MM,z.Lc,z.dh,pt.oV,Tt.An,$t.ec,$t.pc,st.Wk,Ge.dF,R.QX],styles:["#cluster-container[_ngcontent-%COMP%]{max-width:800px;margin-left:auto;margin-right:auto}mat-card[_ngcontent-%COMP%]{margin-bottom:8px}.searchQueryField[_ngcontent-%COMP%]{width:100%}.returnbutton[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px;width:100%}.stat-range[_ngcontent-%COMP%]{height:20px;width:100%;margin-bottom:3px;float:left;background-color:gray}.stat-range-bar[_ngcontent-%COMP%]{height:100%;float:left;background-color:#fff}.settings-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.settings-container[_ngcontent-%COMP%]:not(:last-of-type){padding-bottom:2px;border-bottom:1px whitesmoke solid;margin-bottom:2px}.red[_ngcontent-%COMP%]{color:red}.red.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:red;color:#fff}.green[_ngcontent-%COMP%]{color:green}.green.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:green;color:#fff}.svgClassIcon[_ngcontent-%COMP%]{width:24px}.cluster-container[_ngcontent-%COMP%]{flex-wrap:wrap}.cluster-item[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0;min-width:250px}.avg-stat-value[_ngcontent-%COMP%]{margin-left:3px}.copyButton[_ngcontent-%COMP%]{width:100%}\n\n/*# sourceMappingURL=armor-cluster-page.component.css.map*/"]})}}return o})();function Ur(o,r){if(1&o&&(t.j41(0,"div",4,5),t.nrm(2,"img",6),t.j41(3,"span",7),t.EFF(4),t.k0s()()),2&o){const e=t.XpG().ngVar,n=t.XpG();t.R7$(2),t.Y8G("src",n.artificeUrl,t.B4B),t.R7$(2),t.SpI("\xd7",e,"")}}function zr(o,r){if(1&o&&(t.qex(0),t.DNE(1,Ur,5,2,"div",3),t.bVm()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function Xr(o,r){if(1&o&&(t.j41(0,"div",9,5),t.nrm(2,"img",10),t.j41(3,"span",11),t.EFF(4),t.k0s()()),2&o){const e=t.XpG().ngVar,n=t.XpG().$implicit,i=t.XpG().$implicit,a=t.XpG();t.Y8G("matTooltip",a.getStatName(i)),t.R7$(2),t.ZvI("modIcon modIcon_",a.getStatName(i),""),t.AVh("minor",1===n),t.Y8G("src",a.ModUrl[n+3*i],t.B4B),t.R7$(1),t.AVh("minor",1===n),t.R7$(1),t.SpI("\xd7",e,"")}}function Wr(o,r){if(1&o&&(t.qex(0),t.DNE(1,Xr,5,10,"div",8),t.bVm()),2&o){const e=r.ngVar;t.R7$(1),t.Y8G("ngIf",e>0)}}function qr(o,r){if(1&o&&(t.qex(0),t.DNE(1,Wr,2,1,"ng-container",1),t.nI1(2,"count"),t.bVm()),2&o){const e=r.$implicit,n=t.XpG().$implicit,i=t.XpG();t.R7$(1),t.Y8G("ngVar",t.i5U(2,1,i.mods,e+3*n))}}function Jr(o,r){if(1&o&&(t.qex(0),t.DNE(1,qr,3,4,"ng-container",2),t.bVm()),2&o){const e=t.XpG();t.R7$(1),t.Y8G("ngForOf",e.modTypeIndex)}}const Kr={[d.oA.MINOR_WEAPON]:"https://www.bungie.net/common/destiny2_content/icons/e82d4e305e0023d2db21339f10bba477.png",[d.oA.MAJOR_WEAPON]:"https://www.bungie.net/common/destiny2_content/icons/4f970366cc18cab100e849926a927b6f.png",[d.oA.ARTIFICE_WEAPON]:"https://www.bungie.net/common/destiny2_content/icons/e82d4e305e0023d2db21339f10bba477.png",[d.oA.MINOR_HEALTH]:"https://www.bungie.net/common/destiny2_content/icons/85f956602980f8fd2480a9908029256c.png",[d.oA.MAJOR_HEALTH]:"https://www.bungie.net/common/destiny2_content/icons/c1328c7351bc775eb277454c393ac858.png",[d.oA.ARTIFICE_HEALTH]:"https://www.bungie.net/common/destiny2_content/icons/85f956602980f8fd2480a9908029256c.png",[d.oA.MINOR_CLASS]:"https://www.bungie.net/common/destiny2_content/icons/234a96c207a03c8f3bf213e7447f78d4.png",[d.oA.MAJOR_CLASS]:"https://www.bungie.net/common/destiny2_content/icons/033f50a1d44a2cef3727b8aa98d9cd83.png",[d.oA.ARTIFICE_CLASS]:"https://www.bungie.net/common/destiny2_content/icons/234a96c207a03c8f3bf213e7447f78d4.png",[d.oA.MINOR_GRENADE]:"https://www.bungie.net/common/destiny2_content/icons/e8b5cabcee36d609239a508097ac5773.png",[d.oA.MAJOR_GRENADE]:"https://www.bungie.net/common/destiny2_content/icons/774854aa449ce8053f708b88d10d35c5.png",[d.oA.ARTIFICE_GRENADE]:"https://www.bungie.net/common/destiny2_content/icons/e8b5cabcee36d609239a508097ac5773.png",[d.oA.MINOR_SUPER]:"https://www.bungie.net/common/destiny2_content/icons/77a99f4c2306652ec53324600f2d7f62.png",[d.oA.MAJOR_SUPER]:"https://www.bungie.net/common/destiny2_content/icons/acccc4fe0cd51007278f1559065e0b12.png",[d.oA.ARTIFICE_SUPER]:"https://www.bungie.net/common/destiny2_content/icons/77a99f4c2306652ec53324600f2d7f62.png",[d.oA.MINOR_MELEE]:"https://www.bungie.net/common/destiny2_content/icons/6b45221fccade87ee39f3a03efc6e9b9.png",[d.oA.MAJOR_MELEE]:"https://www.bungie.net/common/destiny2_content/icons/66714f030b79a1517c657f1378216cca.png",[d.oA.ARTIFICE_MELEE]:"https://www.bungie.net/common/destiny2_content/icons/6b45221fccade87ee39f3a03efc6e9b9.png"};let pn=(()=>{class o{constructor(){this.artificeUrl=d.NC[d.dm.SlotArtifice],this.modIndex=d.Hz,this.modTypeIndex=[1,2],this.ModUrl=Kr,this.mods=[],this.artifice=[]}getStatName(e){return d.wy[e]}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-table-mod-display"]],inputs:{mods:"mods",artifice:"artifice"},decls:4,vars:4,consts:[[1,"row-mod"],[4,"ngVar"],[4,"ngFor","ngForOf"],["class","container","matTooltip","Artifice",4,"ngIf"],["matTooltip","Artifice",1,"container"],["tooltip","matTooltip"],[1,"artificeIcon","artifice",3,"src"],[1,"modText","artifice"],["class","container",3,"matTooltip",4,"ngIf"],[1,"container",3,"matTooltip"],[3,"src"],[1,"modText"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.DNE(1,zr,2,1,"ng-container",1),t.nI1(2,"count"),t.DNE(3,Jr,2,1,"ng-container",2),t.k0s()),2&n&&(t.R7$(1),t.Y8G("ngVar",t.bMT(2,2,i.artifice)),t.R7$(2),t.Y8G("ngForOf",i.modIndex))},dependencies:[R.Sq,R.bT,pt.oV,pe,ln],styles:[".container[_ngcontent-%COMP%]{display:inline-block;width:32px;height:30px;position:relative}.modIcon[_ngcontent-%COMP%]{position:absolute;top:-12px;left:-12px;width:50px;height:50px;filter:contrast(2.3);border:#00000000 solid 2px;-webkit-mask-image:url(modmask.f03dde91561a62d6.svg);mask-image:url(modmask.f03dde91561a62d6.svg)}.modIcon_Weapon[_ngcontent-%COMP%]{filter:contrast(2.3) sepia(100%) hue-rotate(0deg) brightness(100%) saturate(320%)}.modIcon_Health[_ngcontent-%COMP%]{filter:contrast(2.3) sepia(100%) hue-rotate(60deg) brightness(100%) saturate(320%)}.modIcon_Class[_ngcontent-%COMP%]{filter:contrast(2.3) sepia(100%) hue-rotate(120deg) brightness(100%) saturate(320%)}.modIcon_Grenade[_ngcontent-%COMP%]{filter:contrast(2.3) sepia(100%) hue-rotate(180deg) brightness(100%) saturate(320%)}.modIcon_Super[_ngcontent-%COMP%]{filter:contrast(2.3) sepia(100%) hue-rotate(240deg) brightness(100%) saturate(320%)}.modIcon_Melee[_ngcontent-%COMP%]{filter:contrast(2.3) sepia(100%) hue-rotate(300deg) brightness(100%) saturate(320%)}.modIcon.minor[_ngcontent-%COMP%]{opacity:.8;scale:.75}.artificeIcon[_ngcontent-%COMP%]{height:28px;width:28px;filter:saturate(40) hue-rotate(40deg)}.selected[_ngcontent-%COMP%]{border:red solid 2px}[_nghost-%COMP%]{position:relative}.modText[_ngcontent-%COMP%]{position:absolute;text-shadow:0 0 6px #000000;font-size:smaller;color:#f5f5f5;bottom:-6px;right:-1px}\n\n/*# sourceMappingURL=table-mod-display.component.css.map*/"]})}}return o})();const Qr={[W.h$.Inventory]:"Inventory",[W.h$.Collections]:"Collections",[W.h$.Vendor]:"Vendor"};function Zr(o,r){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2,"Vendor"),t.k0s(),t.j41(3,"td",2),t.EFF(4),t.nI1(5,"async"),t.nI1(6,"getVendorName"),t.nI1(7,"getVendorIdFromItemId"),t.k0s()()),2&o){const e=t.XpG();t.R7$(4),t.JRh(t.bMT(5,1,t.bMT(6,3,t.bMT(7,5,e.itemTooltip.itemInstanceId))))}}function ts(o,r){if(1&o&&(t.j41(0,"div",8),t.EFF(1,"\xa0"),t.k0s()),2&o){const e=t.XpG().$implicit,n=t.XpG();t.xc7("width",n.getWidth(n.getMasterworkBonus(n.itemTooltip)[e]))}}const es=function(){return[]};function ns(o,r){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td")(4,"span"),t.EFF(5),t.k0s()(),t.j41(6,"td")(7,"div",5)(8,"div",6),t.EFF(9,"\xa0"),t.k0s(),t.DNE(10,ts,2,2,"div",7),t.k0s()()()),2&o){const e=r.$implicit,n=t.XpG();t.R7$(2),t.JRh(n.getArmorStatName(e)),t.R7$(3),t.JRh(n.getStatWithMasterwork(e)),t.R7$(3),t.xc7("width",n.getWidth(((null==n.itemTooltip?null:n.itemTooltip.stats)||t.lJ4(5,es))[e]||0)),t.R7$(2),t.Y8G("ngIf",n.itemTooltip&&n.getMasterworkBonus(n.itemTooltip)[e]>0)}}let un=(()=>{class o{getSourceText(){return this.itemTooltip?Qr[this.itemTooltip.source]:""}getArmorStatName(e){return d.wy[e]}getWidth(e){return Math.min(100,e/32*100)+"%"}getTotalStats(){return this.itemTooltip?.stats.reduce((e,n)=>e+n,0)||0}getMasterworkBonus(e){const n=[0,0,0,0,0,0];if(e.armorSystem==nt.V.Armor2){if(e.masterworkLevel==T.cd)for(let i=0;i<6;i++)n[i]+=2;return n}if(e.armorSystem==nt.V.Armor3){let i=e.masterworkLevel;if(0==i)return n;for(let a=0;a<6;a++)-1===e.archetypeStats.indexOf(a)&&(n[a]+=i);return n}return n}getStatWithMasterwork(e){return this.itemTooltip?this.itemTooltip.stats[e]+this.getMasterworkBonus(this.itemTooltip)[e]:0}get isVendorItem(){return this.itemTooltip?.source===W.h$.Vendor}constructor(){this.armorStatIds=d.Hz}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-armor-tooltip-component"]],inputs:{itemTooltip:"itemTooltip"},decls:21,vars:5,consts:[[1,"tooltip-container"],["colspan","3"],["colspan","2"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"stat-display"],[1,"stat-display-bar"],["class","stat-display-bar masterwork",3,"width",4,"ngIf"],[1,"stat-display-bar","masterwork"]],template:function(n,i){1&n&&(t.j41(0,"div")(1,"div",0)(2,"table")(3,"tr")(4,"td",1),t.EFF(5),t.k0s()(),t.j41(6,"tr")(7,"td"),t.EFF(8,"Source"),t.k0s(),t.j41(9,"td",2),t.EFF(10),t.k0s()(),t.DNE(11,Zr,8,7,"tr",3),t.j41(12,"tr")(13,"td"),t.EFF(14,"Current stats:"),t.k0s()(),t.DNE(15,ns,11,6,"tr",4),t.j41(16,"tr")(17,"td"),t.EFF(18,"Total base stats:"),t.k0s(),t.j41(19,"td"),t.EFF(20),t.k0s()()()()()),2&n&&(t.R7$(5),t.JRh(null==i.itemTooltip?null:i.itemTooltip.name),t.R7$(5),t.JRh(i.getSourceText()),t.R7$(1),t.Y8G("ngIf",i.isVendorItem&&i.itemTooltip),t.R7$(4),t.Y8G("ngForOf",i.armorStatIds),t.R7$(5),t.SpI(" ",i.getTotalStats()," "))},styles:[".tooltip-container[_ngcontent-%COMP%]{border:1px solid gray;padding:1px 5px 4px;background:linear-gradient(#484848 0px,#2c2c2c 100%)}.stat-display[_ngcontent-%COMP%]{width:70px;height:20px;background-color:#2c2c2c}.stat-display-bar[_ngcontent-%COMP%]{height:100%;background-color:#a1a1a1;float:left}.masterwork[_ngcontent-%COMP%]{background-color:#eedb9e}\n\n/*# sourceMappingURL=armor-tooltip.component.css.map*/"]})}}return o})();var Ve=C(9168),ee=C(9896);let os=(()=>{class o{constructor(e,n,i){this._overlay=e,this._overlayPositionBuilder=n,this._elementRef=i,this.showToolTip=!0}ngOnInit(){if(!this.showToolTip)return;const e=this._overlayPositionBuilder.flexibleConnectedTo(this._elementRef).withPositions([{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:5},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-5}]);this._overlayRef=this._overlay.create({positionStrategy:e}),this._overlayRef.addPanelClass("overlay-no-pointer-event")}show(){this._overlayRef&&!this._overlayRef.hasAttached()&&(this._overlayRef.attach(new Ve.A8(un)).instance.itemTooltip=this.itemTooltip)}hide(){this.closeToolTip()}ngOnDestroy(){this.closeToolTip()}closeToolTip(){this._overlayRef&&this._overlayRef.detach()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(ee.hJ),t.rXU(ee.lF),t.rXU(t.aKT))}}static{this.\u0275dir=t.FsC({type:o,selectors:[["","itemTooltip",""]],hostBindings:function(n,i){1&n&&t.bIt("mouseenter",function(){return i.show()})("mouseleave",function(){return i.hide()})},inputs:{showToolTip:"showToolTip",itemTooltip:"itemTooltip",contentTemplate:"contentTemplate"}})}}return o})(),$e=(()=>{class o{constructor(e,n){this.db=e,this.logger=n,this.itemLookup=new Map,this.sandboxperkIconLookup=new Map,this.gearsetIconLookup=new Map}getItemCached(e){var n=this;return(0,_.A)(function*(){if(n.itemLookup.has(e))return new Promise((s,l)=>{n.itemLookup.get(e).asObservable().subscribe({next:m=>{m&&s(m)},error:m=>{n.logger.error("ItemIconServiceService","getItemCached","Error fetching item from cache: "+m),l(m)}})});const i=new b.t(void 0);n.itemLookup.set(e,i);const a=yield n.db.manifestArmor.where("hash").equals(e).first();return i.next(a),a})()}getExoticPerkDescription(e){var n=this;return(0,_.A)(function*(){return e.exoticPerkHash?(yield n.getItemCached(e.exoticPerkHash[0]))??null:null})()}getSandboxPerkIconCached(e){var n=this;return(0,_.A)(function*(){if(n.sandboxperkIconLookup.has(e))return n.sandboxperkIconLookup.get(e);const i=yield n.db.sandboxPerkDefinition.where("hash").equals(e).first();return n.sandboxperkIconLookup.set(e,i),i})()}getGearsetPerkCached(e,n){var i=this;return(0,_.A)(function*(){n<=2?n=2:n<4&&(n=4);const a=`${e}-${n}`;if(i.gearsetIconLookup.has(a))return i.gearsetIconLookup.get(a);const l=(yield i.db.equipableItemSetDefinition.where("hash").equals(e).first())?.setPerks.find(m=>m.requiredSetCount===n);if(l){const m=yield i.getSandboxPerkIconCached(l.sandboxPerkHash);return i.gearsetIconLookup.set(a,m),m}})()}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(It),t.KVO(Q.so))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function is(o,r){if(1&o&&t.nrm(0,"img",7,8),2&o){const e=t.XpG(2);t.Mz_("src","https://bungie.net/",e.item.icon,"",t.B4B),t.FS9("matTooltip",e.item.name)}}function as(o,r){if(1&o&&(t.qex(0),t.nrm(1,"img",9,8),t.bVm()),2&o){const e=t.XpG(2);t.R7$(1),t.Y8G("src",e.SpecialItemIconUrls[e.item.hash],t.B4B)("matTooltip",e.item.name)}}function rs(o,r){if(1&o&&t.nrm(0,"img",10),2&o){const e=t.XpG(2);t.Mz_("src","https://bungie.net/",e.item.watermarkIcon,"",t.B4B)}}function ss(o,r){if(1&o&&t.nrm(0,"div",11),2&o){const e=t.XpG(2);t.AVh("vendor-item",e.isFromVendor)("collection-item",e.isFromCollection)}}function cs(o,r){1&o&&t.nrm(0,"div",12)}function ls(o,r){if(1&o&&(t.j41(0,"div",1),t.DNE(1,is,2,2,"img",2),t.DNE(2,as,3,2,"ng-container",3),t.DNE(3,rs,1,1,"img",4),t.DNE(4,ss,1,4,"div",5),t.DNE(5,cs,1,0,"div",6),t.k0s()),2&o){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",e.item.icon),t.R7$(1),t.Y8G("ngIf",e.SpecialItemIconUrls[e.item.hash]),t.R7$(1),t.Y8G("ngIf",e.item.watermarkIcon),t.R7$(1),t.Y8G("ngIf",e.isFromVendor||e.isFromCollection),t.R7$(1),t.Y8G("ngIf",e.masterworked)}}let _e=(()=>{class o{constructor(e){this.iconService=e,this.SpecialItemIconUrls=d._S,this.itemHash=0,this.masterworked=!1,this.source=W.h$.Inventory,this.isFromVendor=!1,this.isFromCollection=!1,this.item=void 0}ngAfterViewInit(){var e=this;return(0,_.A)(function*(){e.item=yield e.iconService.getItemCached(e.itemHash),e.isFromVendor=e.source===W.h$.Vendor,e.isFromCollection=e.source===W.h$.Collections})()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU($e))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-item-icon"]],inputs:{itemHash:"itemHash",masterworked:"masterworked",source:"source"},decls:1,vars:1,consts:[["class","item-icon-container",4,"ngIf"],[1,"item-icon-container"],["class","item-icon","loading","lazy",3,"src","matTooltip",4,"ngIf"],[4,"ngIf"],["class","item-icon-overlay","loading","lazy",3,"src",4,"ngIf"],["class","item-source-overlay",3,"vendor-item","collection-item",4,"ngIf"],["class","item-icon-masterwork-overlay",4,"ngIf"],["loading","lazy",1,"item-icon",3,"src","matTooltip"],["tooltip","matTooltip"],[1,"item-icon-overlay",3,"src","matTooltip"],["loading","lazy",1,"item-icon-overlay",3,"src"],[1,"item-source-overlay"],[1,"item-icon-masterwork-overlay"]],template:function(n,i){1&n&&t.DNE(0,ls,6,5,"div",0),2&n&&t.Y8G("ngIf",i.item)},dependencies:[R.bT,pt.oV],styles:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n[_nghost-%COMP%]{height:22px;width:22px;display:block}.item-icon-masterwork-overlay[_ngcontent-%COMP%]{pointer-events:none;box-sizing:border-box;border-width:0;width:100%;height:100%;position:absolute;background-repeat:no-repeat;background-position:center;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAJgklEQVR4AWI8t87oBYCd8rBuGAZi6N1JUQbIrJkiY6bM4EoE1EHvqb+WHsPvG5AJU522JQ/znpY03GzJ3YTovcvcVFcO5WbU8eH/OZ8R91B241c6wEzowJUUZnqlXMiZufrJSs1XUjNBUb6OcvUFF8190fzkGxS2J0ChGPQZDnYAQObJWHbNlCvZIXKxqvHN8KBp22SubByb9EKFGM2hzgyNa47vUzvKvnUToHPOINMFHG6Oo6hb6lhmMump4wROtxSMee8yjC6YI9jOnBYcGn5TZnTdBMB7d0+HB52AeKEb5QL2hQKx8RLk5IkE6eymz9CJFPJIQKxdWZKO5M1u+gw9kPvVJUjqyAt5Z98OMBAI4igO9x97koAAnSY6YHSaAB2nAiyswTbMq+/HAiHv0+4k3Ww1pOvnOvYews1Ow2rGnldEAAAIAAABACAAAAQAgAAAEAAAAgAgPwACAEAAAKiyAfJ7AXALEgAAAuAU5BMgAADki9j/BQCAlkN459OlNu6v0/V43vsAocOvq9kh1n/LX35h+B6EU9DI8fuVh/D48WMRWv742Qgtf/xshBY+fm1cMQgtefwdI5ffA/a9+frC68ox9M3enehIkvJAAC5D9vs/8F+Z/HugkfXJrOfec6QSJBi6O8IO2znX1zdZro39if/K0B8ftp2Hxxfa/vcu6DO8P5x/AaDrvwj4/uDPJDtjP09+ntDze9L+i4DRSEqwtgoQZ9rL3r9Ye/51L+Pw9tF6YuHFPJ/uWBDk2eXZvfb8YyMAwHvg673Z7AvmSF4POeSHmtDnb0xAD3qzN5gLfHsHIOvhktBJ4vOXJqABvJcZnqs5z54R7FF5ODaRiOkIGcXX+OZG7PqJnh6Ev3uOI52Z7tdRUCbdB6AFXHCDcZ3kkf2fGwEN+HGe+3xcE5yBB3umIvk5JnVIggDtnx/1u27XD5CajhBt8tqj9gMahDSan+7C629sxx6DiGmTcxOF304AwOud/SuABnTsZtNABWfaygUynjR3Ld+/GokZp4TO/JsJsEON1uN7OTEPaO9nVFHhHXizTdcN8Fl6BlER5gHk6lghYV8Tgd31DeCPL2icmhISYGsS9P7R9AErAT9JwlWCnuyFsmRuEQurKcBuqyBB72WkXtfmTCD7Au4a4/H7yYAl0N9VY0eERBqRr+Ov51yqCkTEYuuqjL4A+D4p1nvazLzOncHLt1dByhIwqpsHDzcShpIEkM4HZ5+zDEtoRLoKAgrwvwF41/WuAeg+z/1hDzk6VyGPkYW8aLfwarEwr0RJCDr/LUm4+42N8WX6z76Am3R9RoIkGGDvRN7i677TupIhqVZI7vmzPnr+1xLgwT6Bek6QtOE89rMmAGk6d8PhaG9ghSOgeLaAW1FFmYz9viLitcgBCFAgQ2dJ6dcEyLvcKxMuH2za3wW7AeOpqh/k6raz9l49XOIlQozX6pNwNCDnfde6Ckfb2SdeSejLUCXp+L3SPyAlj9FghVVHWV2etlVQ482MNfBHzwe4igSAj7T+4VnmtfdvwBJ5dxoXay/6hrc5gqrnyQCzX5H3fHYVhNd35eOrIWD4zDjZG2ntSmt8CpKTzCAnSEmp6Y7TDthyE9vbjhz7OOYAODg3THqfwEmMIJ29f1TaDwkX+8ckTCf8JAl6EjBviFo70m7v0vtTdD72EqzNgjwIgCJBr+aMRoTzbQMxzBlHIoY5JFCrA9xIZedIZLzZiwScpe1ij/vLyDu8b9p5IH2/V/4hfg+SGIUHr7oSAVhIwgbwIALpgYgLcvokvLU9gfsmgv+37117brJ90PrlHKAtWY24OWLO5/WORGWYAyJeQy8fjceHoOYz5gkTLeAPgL7YU57mHzRBQwA2Cff+5L3s1e9kn8Cuy1hAf9D/EN5YYySVKyQo4tyNSog6XucApWOZeA+Vz6UMNaXotLEiCZsgY4M9KVc/9lmBffwNHSonyQp1H/kpknDEiFeM/U2UybWRmcuEe5IcSPgAqOuQB2b3OiKBMrLumzy33dzy86HG84Z0KCtp/wL4kc7NfFdEDIucK9em8eskRl3q4bUAYc6YXalZJue6/LwkoClD9cYsP5G8d5pkT/U+Cfdd5gpI4jn2EL87eEQiID5tboPq9e+rBLvOA47D/doGj6+lKJpiQC+88WDP33h8JMADL36naIUYJYocsO+NGLOIAJJEjJnWhx7fyM0obAXLta7hmjxfp3dB5IF3AvRJwL3tzG3cjKJ8PkncBPgBocPyNXYEHAkI/md8CFA+eu8/jMiOVc1lpQRBEq38rKTNN/khkJHJXtjE8TW8T50fJO6RxvXaOSBer1j594Rjf5HfNyMSCCFoR43HBtKsirSFSCXILrh/G1p0vRdVSX4vdJvEkZYK+EVu4W0qtluCYtvGHq89MQImAApsLUHniBC0cbjXuclXcvR+o2Dq9ThXzhl3AtCcoabnHPBRdL1vCEwR30hQRAw985hwAZR1IyVcJ3o8p97HqSnE0xz1zpszAfgvSKm634e5tf9HVfaOGNcTJwLiUye2BJrnSk5OEiVZ3unv/7o/zvLT/sGshRy8i4hdyVtvk6mlaNoz4f6/dGvJkRqKgVXuDyuWLLkSZ+CiXIQVZ2CF0h0XbblkRU+hESIjq+yqZ2emJtKbZNK54vlfUBRAgl1A0BUuiyAvmdo/ff/x7QsZF5PsYY2uKw20EKA1NLpuzaNnBmddSCIZqrxIz2ydiEpprucWzrk8WzrZAGQQ5LyL4hJCqhCQ+zOVLFP5Cslzrc88KeGk0LWam1mSprc196WeH8mY/QZcngWxZ3/Y9fhsiiRjcpCzdKjhHSTHqDnCdatee/wFzF40+ph85GP9Ht7969BGjXlj0nBjbkoZJBPAbv+WB2sqWitvZXLrkrGprgluPsf5HvBr+/l1CpD4+8F/4NdnIreI64MMgFf0PUrhDRE3FjLuYLy4y9184Z1eY73w6rr7e2bNu4gvBE9fim7ftEOZkJ5I7TfkY1M+oHyiMF/R9YbcNzW3QfuLk/leIzXWLM/cgcp19FzCemU6cIz/MB9890UWjBGadM7N9QMtlCqqJiFwOjUhdaDQXQCdEwNOpzhYwMpBDrfcFpEXIsjiGJw+9jqidHo7O3+3QVO7+QpIf7ji9cbst7ogrVf8UXTDBslUgkxCCSilwjFdSAkBkSo1EcjSIBXWWvsN9SxF5ebWH3woEIS629sLNhsPabYekYTY/VR0znB/jBdcErKAavL8+A1ICXvgoqroDgAAAABJRU5ErkJggg==)}.item-icon-container[_ngcontent-%COMP%]{position:relative;transition:opacity .2s,transform .2s;width:100%;height:100%;--icon-size: 22px}.item-icon-overlay[_ngcontent-%COMP%], .item-icon[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;pointer-events:none}.item-source-overlay[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:0;pointer-events:none;border-top:calc(var(--icon-size) / 2) solid transparent;border-right:calc(var(--icon-size) / 2) solid transparent}.item-source-overlay.vendor-item[_ngcontent-%COMP%]{border-top-color:#00f}.item-source-overlay.collection-item[_ngcontent-%COMP%]{border-top-color:#90ee90}"]})}}return o})();function ds(o,r){if(1&o&&t.nrm(0,"div"),2&o){const e=r.$implicit,n=r.index,i=t.XpG().index;t.ZvI("stat-range-bar stat-range-bar",n+(i>=3?3:0),""),t.xc7("width",e/32*100+"%")}}const gn=function(){return["Weapon","Health","Class","Grenade","Super","Melee"]};function ms(o,r){if(1&o&&(t.qex(0),t.j41(1,"tr",19)(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.nI1(6,"number"),t.k0s(),t.j41(7,"td",20)(8,"div",21),t.DNE(9,ds,1,5,"div",22),t.k0s()()(),t.bVm()),2&o){const e=r.$implicit,n=r.index,i=t.XpG().$implicit;t.R7$(1),t.Y8G("matTooltip",t.lJ4(7,gn)[n]),t.R7$(2),t.SpI(" ",t.lJ4(8,gn)[n]," "),t.R7$(2),t.JRh(t.i5U(6,4,i.totalStats[n],"1.0-0")),t.R7$(4),t.Y8G("ngForOf",e)}}function ps(o,r){if(1&o&&(t.j41(0,"tr")(1,"td")(2,"a",23),t.nrm(3,"img",18),t.k0s(),t.EFF(4),t.k0s(),t.j41(5,"td",24),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s()()),2&o){const e=r.$implicit,n=t.XpG(3);t.R7$(2),t.Mz_("href","https://data.destinysets.com/i/InventoryItem:",e,"",t.B4B),t.R7$(2),t.SpI(" ",e,""),t.R7$(2),t.JRh(n.getPlugSum(e)),t.R7$(2),t.JRh(n.getPlugString(e))}}const us=function(o,r,e,n,i,a){return[o,r,e,n,i,a]};function gs(o,r){if(1&o&&(t.qex(0),t.j41(1,"mat-card",15)(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4),t.k0s()(),t.j41(5,"mat-card-content")(6,"table")(7,"tr")(8,"td",16),t.EFF(9,"Hash:"),t.k0s(),t.j41(10,"td")(11,"a",17),t.nrm(12,"img",18),t.k0s(),t.EFF(13),t.k0s()(),t.j41(14,"tr")(15,"td",16),t.EFF(16,"ItemInstanceId:"),t.k0s(),t.j41(17,"td"),t.EFF(18),t.k0s()(),t.j41(19,"tr")(20,"td",16),t.EFF(21,"Sunset?"),t.k0s(),t.j41(22,"td"),t.EFF(23),t.k0s()(),t.j41(24,"tr")(25,"td"),t.EFF(26,"Total"),t.k0s(),t.j41(27,"td"),t.EFF(28),t.k0s()(),t.DNE(29,ms,10,9,"ng-container",13),t.k0s()(),t.j41(30,"mat-card-content"),t.EFF(31," Plugs: "),t.j41(32,"table")(33,"tr")(34,"td"),t.EFF(35,"Plug"),t.k0s(),t.j41(36,"td"),t.EFF(37,"Total"),t.k0s(),t.j41(38,"td"),t.EFF(39,"Values"),t.k0s()(),t.DNE(40,ps,9,4,"tr",13),t.k0s()()(),t.bVm()),2&o){const e=r.$implicit;t.R7$(4),t.SpI(" ",e.name," "),t.R7$(7),t.Mz_("href","https://data.destinysets.com/i/InventoryItem:",e.hash,"",t.B4B),t.R7$(2),t.SpI(" ",e.hash,""),t.R7$(5),t.JRh(e.itemInstanceId),t.R7$(5),t.JRh(e.isSunset),t.R7$(5),t.JRh(e.totalSum),t.R7$(1),t.Y8G("ngForOf",t.l4e(8,us,e.mobility,e.resilience,e.recovery,e.discipline,e.intellect,e.strength)),t.R7$(11),t.Y8G("ngForOf",e.statPlugHashes)}}function hs(o,r){if(1&o&&(t.qex(0),t.j41(1,"mat-toolbar"),t.EFF(2),t.k0s(),t.nrm(3,"br"),t.j41(4,"div",14),t.DNE(5,gs,41,15,"ng-container",13),t.k0s(),t.bVm()),2&o){const e=r.$implicit,n=t.XpG();t.R7$(2),t.SpI(" ",n.getCategoryName(e.key)," "),t.R7$(2),t.xc7("display","flex")("display","flex")("flex-direction","row")("gap","10px"),t.R7$(1),t.Y8G("ngForOf",e.value)}}let fs=(()=>{class o{constructor(e,n,i){this.inventory=e,this.db=n,this.logger=i,this.minWeapon=0,this.minHealth=0,this.minClass=0,this.minGrenade=0,this.minSuper=0,this.minMelee=0,this.anyPlugWithN=0,this.anyPlugBelowN=17,this.allPlugsWithN=0,this.allPlugsBelowN=17,this.armorName="",this.armorHash="",this.armorId="",this.armorSystemFilter=0,this.armorItemsPerSlot=new Map,this.plugData={},this.ngUnsubscribe=new G.B7}ngOnInit(){var e=this;this.inventory.inventory.pipe((0,Dt.B)(10),(0,x.Q)(this.ngUnsubscribe)).subscribe((0,_.A)(function*(){e.updateItems()}))}getPlugString(e){var n=this.plugData[e];if(!n)return"No Plug";let i=[0,0,0,0,0,0];for(let s of n.investmentStats)switch(s.statTypeHash){case 2996146975:i[0]+=s.value;break;case 392767087:i[1]+=s.value;break;case 1943323491:i[2]+=s.value;break;case 1735777505:i[3]+=s.value;break;case 144602215:i[4]+=s.value;break;case 4244567218:i[5]+=s.value}let a="["+i.join(" ")+"]";return n.name&&(a+=" "+n.name),a}updateItems(){var e=this;return(0,_.A)(function*(){const i=(yield e.db.manifestArmor.toArray()).filter(l=>19==l.itemType);let a=Object.fromEntries(i.map(l=>[l.hash,l]));e.plugData=a;let s=(yield e.db.inventoryArmor.toArray()).filter(l=>l.source===W.h$.Inventory).sort((l,m)=>(""+l.name).localeCompare(m.name)).map(l=>{var m={name:l.name,hash:l.hash,isSunset:l.isSunset,itemInstanceId:l.itemInstanceId,statPlugHashes:l.statPlugHashes,mobility:[],resilience:[],recovery:[],discipline:[],intellect:[],strength:[],totalStats:[0,0,0,0,0,0],totalSum:0,slot:l.slot,armorSystem:l.armorSystem};if(l.statPlugHashes)for(let f of l.statPlugHashes)if(null!=f&&null!=f){var p=a[f];if(p)for(let y of p.investmentStats)switch(y.statTypeHash){case 2996146975:m.mobility.push(y.value),m.totalStats[0]+=y.value;break;case 392767087:m.resilience.push(y.value),m.totalStats[1]+=y.value;break;case 1943323491:m.recovery.push(y.value),m.totalStats[2]+=y.value;break;case 1735777505:m.discipline.push(y.value),m.totalStats[3]+=y.value;break;case 144602215:m.intellect.push(y.value),m.totalStats[4]+=y.value;break;case 4244567218:m.strength.push(y.value),m.totalStats[5]+=y.value}}if(l.investmentStats)for(let f of l.investmentStats)switch(f.statTypeHash){case 2996146975:m.mobility.push(f.value),m.totalStats[0]+=f.value;break;case 392767087:m.resilience.push(f.value),m.totalStats[1]+=f.value;break;case 1943323491:m.recovery.push(f.value),m.totalStats[2]+=f.value;break;case 1735777505:m.discipline.push(f.value),m.totalStats[3]+=f.value;break;case 144602215:m.intellect.push(f.value),m.totalStats[4]+=f.value;break;case 4244567218:m.strength.push(f.value),m.totalStats[5]+=f.value}for(let f of m.totalStats)m.totalSum+=f;return m});(e.armorSystemFilter===nt.V.Armor2||e.armorSystemFilter===nt.V.Armor3)&&(s=s.filter(l=>l.armorSystem===e.armorSystemFilter)),s=e.filterItems(s),e.armorItemsPerSlot=s.reduce((l,m)=>{const p=m.slot?m.slot:10;return l.has(p)||l.set(p,[]),l.get(p)?.push(m),l},new Map)})()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}getCategoryName(e){switch(e){case 1:return"Helmets";case 2:return"Gauntlets";case 3:return"Chest Pieces";case 4:return"Legs";case 5:return"Class Items"}return"Unknown Category"}getPlugSum(e){var n=this.plugData[e];if(!n)return this.logger.warn("ArmorInvestigationPageComponent","getPlugSum",`Plug info not found for hash: ${e}`),0;var i=0;for(let a of n.investmentStats)switch(a.statTypeHash){case 2996146975:case 392767087:case 1943323491:case 1735777505:case 144602215:case 4244567218:i+=a.value}return i}clear(){this.armorName="",this.armorHash="",this.armorId="",this.minWeapon=0,this.minHealth=0,this.minClass=0,this.minGrenade=0,this.minSuper=0,this.minMelee=0,this.anyPlugWithN=0,this.anyPlugBelowN=17,this.armorSystemFilter=0}filterItems(e){return this.armorName&&(e=e.filter(n=>n.name.toLowerCase().indexOf(this.armorName)>-1)),this.armorHash&&(e=e.filter(n=>(n.hash||0).toString().indexOf(this.armorHash)>-1)),this.armorId&&(e=e.filter(n=>(n.itemInstanceId||0).toString().indexOf(this.armorId)>-1)),e=(e=(e=(e=(e=(e=e.filter(n=>n.totalStats[0]>=(this.minWeapon||0))).filter(n=>n.totalStats[1]>=(this.minHealth||0))).filter(n=>n.totalStats[2]>=(this.minClass||0))).filter(n=>n.totalStats[3]>=(this.minGrenade||0))).filter(n=>n.totalStats[4]>=(this.minSuper||0))).filter(n=>n.totalStats[5]>=(this.minMelee||0)),(this.anyPlugWithN??0)>0&&(e=e.filter(n=>(n.statPlugHashes||[]).filter(i=>this.getPlugSum(i)>=(this.anyPlugWithN||0)).length>0)),(this.anyPlugBelowN??0)<17&&(e=e.filter(n=>(n.statPlugHashes||[]).filter(i=>this.getPlugSum(i)<=(this.anyPlugBelowN||0)).length>0)),(this.allPlugsWithN??0)>0&&(e=e.filter(n=>0==(n.statPlugHashes||[]).filter(i=>this.getPlugSum(i)<(this.allPlugsWithN||0)).length)),(this.allPlugsBelowN??0)<17&&(e=e.filter(n=>0==(n.statPlugHashes||[]).filter(i=>this.getPlugSum(i)>(this.allPlugsBelowN||0)).length)),e}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(Gt),t.rXU(It),t.rXU(Q.so))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-armor-investigation-page"]],decls:136,vars:30,consts:[["appearance","outlined","id","description"],["href","https://www.reddit.com/r/DestinyTheGame/comments/mpaopq/how_armor_stats_roll_an_advanced_insight_into/","target","_blank"],["colspan","3"],["appearance","outline","subscriptSizing","dynamic"],["matInput","","placeholder","Stronghold",3,"ngModel","ngModelChange"],["matInput","",3,"ngModel","ngModelChange"],["max","32","min","0","step","1","thumbLabel",""],["matSliderThumb","",3,"value","valueChange"],["max","17","min","0","step","1","thumbLabel",""],[3,"ngModel","ngModelChange"],[3,"value"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],[4,"ngFor","ngForOf"],[1,"armor-container"],["appearance","outlined",1,"cluster-item"],["colspan","2"],["alt","This armor on data.destinysets.com","target","_blank",3,"href"],["src","https://data.destinysets.com/static/media/logo.556bd7bd.svg",2,"width","15px"],[3,"matTooltip"],["width","100%"],[1,"stat-range"],[3,"class","width",4,"ngFor","ngForOf"],["alt","This plug on data.destinysets.com","target","_blank",3,"href"],[1,"plug-sum-col"]],template:function(n,i){1&n&&(t.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t.EFF(3," Armor Investigation "),t.k0s(),t.j41(4,"mat-card-subtitle"),t.EFF(5," A visualization tool for data scientists. "),t.k0s()(),t.j41(6,"mat-card-content"),t.EFF(7," This part of the D2ArmorPicker lists all of your armor items. For each armor it shows how it is generated. It shows every used "),t.j41(8,"i"),t.EFF(9,'"plug"'),t.k0s(),t.EFF(10,", as well as the intrinsic stats of exotics. For more information about plugs, see "),t.j41(11,"a",1),t.EFF(12,"here"),t.k0s(),t.EFF(13,". Make sure to give the author an upvote for the hard work! "),t.nrm(14,"br")(15,"br"),t.EFF(16," Please note that this feature is mainly targeted for data nerds and people interested in the basic stats of armor. It is just a data visualization. Mobile layout and a search function "),t.j41(17,"i"),t.EFF(18,"may"),t.k0s(),t.EFF(19," happen in the future. "),t.k0s(),t.j41(20,"mat-card-header")(21,"mat-card-title"),t.EFF(22," Filters "),t.k0s(),t.j41(23,"mat-card-subtitle"),t.EFF(24," Some filters. Nothing fancy but it works. Sorry ;) "),t.k0s()(),t.j41(25,"mat-card-content")(26,"table")(27,"tr")(28,"td",2)(29,"mat-form-field",3)(30,"mat-label"),t.EFF(31,"Item Name"),t.k0s(),t.j41(32,"input",4),t.bIt("ngModelChange",function(s){return i.armorName=s}),t.k0s()()(),t.j41(33,"td",2)(34,"mat-form-field",3)(35,"mat-label"),t.EFF(36,"Item Hash"),t.k0s(),t.j41(37,"input",5),t.bIt("ngModelChange",function(s){return i.armorHash=s}),t.k0s()()(),t.j41(38,"td",2)(39,"mat-form-field",3)(40,"mat-label"),t.EFF(41,"Item ID"),t.k0s(),t.j41(42,"input",5),t.bIt("ngModelChange",function(s){return i.armorId=s}),t.k0s()()()(),t.j41(43,"tr")(44,"td"),t.EFF(45," Weapon: "),t.k0s(),t.j41(46,"td"),t.EFF(47),t.k0s(),t.j41(48,"td")(49,"mat-slider",6)(50,"input",7),t.bIt("valueChange",function(s){return i.minWeapon=s}),t.k0s()()(),t.j41(51,"td"),t.EFF(52," Health: "),t.k0s(),t.j41(53,"td"),t.EFF(54),t.k0s(),t.j41(55,"td")(56,"mat-slider",6)(57,"input",7),t.bIt("valueChange",function(s){return i.minHealth=s}),t.k0s()()(),t.j41(58,"td"),t.EFF(59," Class: "),t.k0s(),t.j41(60,"td"),t.EFF(61),t.k0s(),t.j41(62,"td")(63,"mat-slider",6)(64,"input",7),t.bIt("valueChange",function(s){return i.minClass=s}),t.k0s()()()(),t.j41(65,"tr")(66,"td"),t.EFF(67," Grenade: "),t.k0s(),t.j41(68,"td"),t.EFF(69),t.k0s(),t.j41(70,"td")(71,"mat-slider",6)(72,"input",7),t.bIt("valueChange",function(s){return i.minGrenade=s}),t.k0s()()(),t.j41(73,"td"),t.EFF(74," Super: "),t.k0s(),t.j41(75,"td"),t.EFF(76),t.k0s(),t.j41(77,"td")(78,"mat-slider",6)(79,"input",7),t.bIt("valueChange",function(s){return i.minSuper=s}),t.k0s()()(),t.j41(80,"td"),t.EFF(81," Melee: "),t.k0s(),t.j41(82,"td"),t.EFF(83),t.k0s(),t.j41(84,"td")(85,"mat-slider",6)(86,"input",7),t.bIt("valueChange",function(s){return i.minMelee=s}),t.k0s()()()(),t.j41(87,"tr")(88,"td"),t.EFF(89," Any plug >=: "),t.k0s(),t.j41(90,"td"),t.EFF(91),t.k0s(),t.j41(92,"td")(93,"mat-slider",8)(94,"input",7),t.bIt("valueChange",function(s){return i.anyPlugWithN=s}),t.k0s()()(),t.j41(95,"td"),t.EFF(96," Any Plug <=: "),t.k0s(),t.j41(97,"td"),t.EFF(98),t.k0s(),t.j41(99,"td")(100,"mat-slider",8)(101,"input",7),t.bIt("valueChange",function(s){return i.anyPlugBelowN=s}),t.k0s()()()(),t.j41(102,"tr")(103,"td"),t.EFF(104," All plugs >=: "),t.k0s(),t.j41(105,"td"),t.EFF(106),t.k0s(),t.j41(107,"td")(108,"mat-slider",8)(109,"input",7),t.bIt("valueChange",function(s){return i.allPlugsWithN=s}),t.k0s()()(),t.j41(110,"td"),t.EFF(111," All Plugs <=: "),t.k0s(),t.j41(112,"td"),t.EFF(113),t.k0s(),t.j41(114,"td")(115,"mat-slider",8)(116,"input",7),t.bIt("valueChange",function(s){return i.allPlugsBelowN=s}),t.k0s()()()(),t.j41(117,"tr")(118,"td",2)(119,"mat-form-field",3)(120,"mat-label"),t.EFF(121,"Armor System"),t.k0s(),t.j41(122,"mat-select",9),t.bIt("ngModelChange",function(s){return i.armorSystemFilter=s}),t.j41(123,"mat-option",10),t.EFF(124,"Any"),t.k0s(),t.j41(125,"mat-option",10),t.EFF(126,"Armor 2.0"),t.k0s(),t.j41(127,"mat-option",10),t.EFF(128,"Armor 3.0"),t.k0s()()()()()(),t.j41(129,"a",11),t.bIt("click",function(){return i.updateItems()}),t.EFF(130,"Update"),t.k0s(),t.EFF(131,"\xa0 "),t.j41(132,"a",12),t.bIt("click",function(){return i.clear()}),t.EFF(133,"Clear"),t.k0s()()(),t.DNE(134,hs,6,10,"ng-container",13),t.nI1(135,"keyvalue")),2&n&&(t.R7$(32),t.Y8G("ngModel",i.armorName),t.R7$(5),t.Y8G("ngModel",i.armorHash),t.R7$(5),t.Y8G("ngModel",i.armorId),t.R7$(5),t.SpI(" ",i.minWeapon,""),t.R7$(3),t.Y8G("value",i.minWeapon),t.R7$(4),t.SpI(" ",i.minHealth,""),t.R7$(3),t.Y8G("value",i.minHealth),t.R7$(4),t.SpI(" ",i.minClass,""),t.R7$(3),t.Y8G("value",i.minClass),t.R7$(5),t.SpI(" ",i.minGrenade,""),t.R7$(3),t.Y8G("value",i.minGrenade),t.R7$(4),t.SpI(" ",i.minSuper,""),t.R7$(3),t.Y8G("value",i.minSuper),t.R7$(4),t.JRh(i.minMelee),t.R7$(3),t.Y8G("value",i.minMelee),t.R7$(5),t.JRh(i.anyPlugWithN),t.R7$(3),t.Y8G("value",i.anyPlugWithN),t.R7$(4),t.JRh(i.anyPlugBelowN),t.R7$(3),t.Y8G("value",i.anyPlugBelowN),t.R7$(5),t.JRh(i.allPlugsWithN),t.R7$(3),t.Y8G("value",i.allPlugsWithN),t.R7$(4),t.JRh(i.allPlugsBelowN),t.R7$(3),t.Y8G("value",i.allPlugsBelowN),t.R7$(6),t.Y8G("ngModel",i.armorSystemFilter),t.R7$(1),t.Y8G("value",0),t.R7$(2),t.Y8G("value",2),t.R7$(2),t.Y8G("value",3),t.R7$(7),t.Y8G("ngForOf",t.bMT(135,28,i.armorItemsPerSlot)))},dependencies:[R.Sq,ft.me,ft.BC,ft.vS,lt.It,Ht.rl,Ht.nJ,ge.VO,he.wT,ie.IV,ie.OU,Fe.fg,z.RN,z.m2,z.MM,z.Lc,z.dh,pt.oV,Me.KQ,R.QX,R.lG],styles:["#description[_ngcontent-%COMP%], #filter[_ngcontent-%COMP%]{max-width:700px;margin-bottom:10px;margin-left:auto;margin-right:auto}.cluster-item[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0;min-width:350px;margin-bottom:10px}.armor-container[_ngcontent-%COMP%], .plug-sum-col[_ngcontent-%COMP%]{padding-left:5px}.armor-container[_ngcontent-%COMP%]{flex-wrap:wrap}.stat-range[_ngcontent-%COMP%]{height:20px;width:100%;margin-bottom:3px;float:left;background-color:gray}.stat-range-bar[_ngcontent-%COMP%]{height:100%;float:left;background-color:#fff}.stat-range-bar0[_ngcontent-%COMP%]{background-color:#acfff1}.stat-range-bar1[_ngcontent-%COMP%]{background-color:#5e9eff}.stat-range-bar3[_ngcontent-%COMP%]{background-color:#ffc2ac}.stat-range-bar4[_ngcontent-%COMP%]{background-color:#ffb45e}.stat-range-bar2[_ngcontent-%COMP%], .stat-range-bar5[_ngcontent-%COMP%]{background-color:#c246ff}\n\n/*# sourceMappingURL=armor-investigation-page.component.css.map*/"]})}}return o})();function _s(o,r){if(1&o&&t.nrm(0,"img",5),2&o){const e=t.XpG(2);t.FS9("src",e.url,t.B4B)}}function ys(o,r){if(1&o&&(t.qex(0),t.nrm(1,"img",2,3),t.DNE(3,_s,1,1,"img",4),t.bVm()),2&o){const e=t.XpG();t.R7$(1),t.FS9("matTooltip",e.name),t.R7$(2),t.Y8G("ngIf",e.customIconMods.indexOf(e.perk)>-1)}}function bs(o,r){if(1&o&&(t.qex(0),t.nrm(1,"img",6,3),t.bVm()),2&o){const e=t.XpG();t.R7$(1),t.FS9("matTooltip",e.name),t.FS9("src",e.url,t.B4B)}}let hn=(()=>{class o{constructor(){this.ArmorPerkOrSlot=d.dm,this.customIconMods=[d.dm.SlotCrotasEnd,d.dm.SlotRootOfNightmares,d.dm.SlotKingsFall,d.dm.SlotVowOfTheDisciple,d.dm.SlotArtifice],this.perk=d.dm.Any,this.name="",this.url=""}ngOnChanges(){this.name=d.Nl[this.perk],this.url=d.NC[this.perk]}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-armor-perk-icon"]],inputs:{perk:"perk"},features:[t.OA$],decls:3,vars:2,consts:[[1,"overlay-icon-container"],[4,"ngIf"],["src","assets/icons/empty_modslot.png",1,"element-icon",3,"matTooltip"],["tooltip","matTooltip"],["class","overlay-icon",3,"src",4,"ngIf"],[1,"overlay-icon",3,"src"],[1,"element-icon",3,"matTooltip","src"]],template:function(n,i){1&n&&(t.j41(0,"span",0),t.DNE(1,ys,4,2,"ng-container",1),t.DNE(2,bs,3,2,"ng-container",1),t.k0s()),2&n&&(t.R7$(1),t.Y8G("ngIf",i.customIconMods.indexOf(i.perk)>-1),t.R7$(1),t.Y8G("ngIf",-1===i.customIconMods.indexOf(i.perk)))},dependencies:[R.bT,pt.oV],styles:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.element-icon[_ngcontent-%COMP%]{height:100%;width:100%}.element-icon.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;pointer-events:none}.overlay-icon-container[_ngcontent-%COMP%]{position:relative}.overlay-icon-container[_ngcontent-%COMP%]   .overlay-icon[_ngcontent-%COMP%]{width:66%;position:absolute;left:17%;top:17%;pointer-events:none}[_nghost-%COMP%]{display:inline-flex;height:30px;width:30px}"]})}}return o})();function Cs(o,r){if(1&o&&t.nrm(0,"img",6),2&o){const e=t.XpG();t.FS9("alt",e.exoticPerk.name),t.Mz_("src","https://bungie.net/",e.exoticPerk.icon,"",t.B4B)}}function vs(o,r){1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2,"Loading exotic perk.."),t.k0s()())}function xs(o,r){1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2,"No (fixed) exotic perk available."),t.k0s()())}function Ss(o,r){if(1&o&&(t.j41(0,"tr")(1,"td")(2,"span"),t.EFF(3),t.k0s()()()),2&o){const e=t.XpG();t.R7$(3),t.JRh(e.exoticPerk.name)}}function ks(o,r){if(1&o&&(t.j41(0,"tr")(1,"td",7),t.EFF(2),t.k0s()()),2&o){const e=t.XpG();t.R7$(2),t.SpI(" ",e.exoticPerk.description," ")}}function ws(o,r){1&o&&(t.qex(0),t.EFF(1," and "),t.bVm())}function Ms(o,r){if(1&o&&(t.qex(0),t.EFF(1," in your collection "),t.DNE(2,ws,2,0,"ng-container",4),t.bVm()),2&o){const e=t.XpG(2);t.R7$(2),t.Y8G("ngIf",e.vendor)}}function Es(o,r){1&o&&(t.qex(0),t.EFF(1,"available at a vendor"),t.bVm())}function Os(o,r){if(1&o&&(t.j41(0,"tr",8)(1,"td",7),t.EFF(2," This exotic is not in your inventory but it is "),t.DNE(3,Ms,3,1,"ng-container",4),t.DNE(4,Es,2,0,"ng-container",4),t.EFF(5,". You can still generate a loadout with this exotic, but you will have to grab it by yourself. "),t.k0s()()),2&o){const e=t.XpG();t.R7$(3),t.Y8G("ngIf",e.collection),t.R7$(1),t.Y8G("ngIf",e.vendor)}}let Is=(()=>{class o{constructor(e,n){this.inv=e,this.iconService=n,this.vendor=!1,this.collection=!1,this.exoticPerkNotThere=!1}ngOnInit(){var e=this;return(0,_.A)(function*(){const n=(e.armor?.exoticPerkHash??[])[0];e.exoticPerk=n?yield e.iconService.getItemCached(n):void 0,e.exoticPerkNotThere=void 0===e.exoticPerk})()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(Gt),t.rXU($e))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-exotic-perk-tooltip"]],inputs:{armor:"armor",vendor:"vendor",collection:"collection"},decls:13,vars:7,consts:[[1,"tooltip-container"],["rowspan","2",1,"perk-icon-col"],["class","perk-icon","loading","lazy",3,"alt","src",4,"ngIf"],[1,"exotic-name"],[4,"ngIf"],["class","collection-roll-info",4,"ngIf"],["loading","lazy",1,"perk-icon",3,"alt","src"],["colspan","2"],[1,"collection-roll-info"]],template:function(n,i){1&n&&(t.j41(0,"div")(1,"div",0)(2,"table")(3,"tr")(4,"td",1),t.DNE(5,Cs,1,2,"img",2),t.k0s(),t.j41(6,"td",3),t.EFF(7),t.k0s()(),t.DNE(8,vs,3,0,"tr",4),t.DNE(9,xs,3,0,"tr",4),t.DNE(10,Ss,4,1,"tr",4),t.DNE(11,ks,3,1,"tr",4),t.DNE(12,Os,6,2,"tr",5),t.k0s()()()),2&n&&(t.R7$(5),t.Y8G("ngIf",i.exoticPerk),t.R7$(2),t.JRh(null==i.armor?null:i.armor.name),t.R7$(1),t.Y8G("ngIf",!i.exoticPerk&&!i.exoticPerkNotThere),t.R7$(1),t.Y8G("ngIf",!i.exoticPerk&&i.exoticPerkNotThere),t.R7$(1),t.Y8G("ngIf",i.exoticPerk),t.R7$(1),t.Y8G("ngIf",i.exoticPerk),t.R7$(1),t.Y8G("ngIf",i.collection||i.vendor))},dependencies:[R.bT],styles:["[_nghost-%COMP%]{width:350px}.tooltip-container[_ngcontent-%COMP%]{border:1px solid gray;padding:1px 5px 4px;background:linear-gradient(#484848 0px,#2c2c2c 100%)}.perk-icon[_ngcontent-%COMP%]{width:50px;height:50px}.perk-icon-col[_ngcontent-%COMP%]{width:55px}.exotic-name[_ngcontent-%COMP%]{color:#eedb9e}.collection-roll-info[_ngcontent-%COMP%]{color:#5cc3ec;font-size:12px;margin-top:5px}\n\n/*# sourceMappingURL=exotic-perk-tooltip.component.css.map*/"]})}}return o})(),Fs=(()=>{class o{constructor(e,n,i){this._overlay=e,this._overlayPositionBuilder=n,this._elementRef=i,this.showToolTip=!0,this.exoticTooltipInVendor=!1,this.exoticTooltipInCollection=!1}ngOnInit(){if(!this.showToolTip)return;const e=this._overlayPositionBuilder.flexibleConnectedTo(this._elementRef).withPositions([{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:5},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-5}]);this._overlayRef=this._overlay.create({positionStrategy:e}),this._overlayRef.addPanelClass("overlay-no-pointer-event")}show(){if(this._overlayRef&&!this._overlayRef.hasAttached()){const e=this._overlayRef.attach(new Ve.A8(Is));e.instance.collection=this.exoticTooltipInCollection,e.instance.vendor=this.exoticTooltipInVendor,e.instance.armor=this.exoticTooltip}}hide(){this.closeToolTip()}ngOnDestroy(){this.closeToolTip()}closeToolTip(){this._overlayRef&&this._overlayRef.detach()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(ee.hJ),t.rXU(ee.lF),t.rXU(t.aKT))}}static{this.\u0275dir=t.FsC({type:o,selectors:[["","exoticTooltip",""]],hostBindings:function(n,i){1&n&&t.bIt("mouseenter",function(){return i.show()})("mouseleave",function(){return i.hide()})},inputs:{showToolTip:"showToolTip",exoticTooltip:"exoticTooltip",exoticTooltipInVendor:"exoticTooltipInVendor",exoticTooltipInCollection:"exoticTooltipInCollection",contentTemplate:"contentTemplate"}})}}return o})(),Ps=(()=>{class o{constructor(e,n,i,a){this.router=e,this.db=n,this.inv=i,this.loginService=a}downloadArmorInformation(){var e=this;return(0,_.A)(function*(){const n=yield e.db.inventoryArmor.toArray(),i=window.URL.createObjectURL(new Blob([JSON.stringify(n,null,2)])),a=document.createElement("a");a.href=i,a.setAttribute("download","d2ap_armor.json"),document.body.appendChild(a),a.click()})()}downloadManifestInformation(){var e=this;return(0,_.A)(function*(){const n=yield e.db.manifestArmor.toArray(),i=window.URL.createObjectURL(new Blob([JSON.stringify(n,null,1)])),a=document.createElement("a");a.href=i,a.setAttribute("download","d2ap_manifest.json"),document.body.appendChild(a),a.click()})()}resetDatabase(){var e=this;return(0,_.A)(function*(){yield e.db.resetDatabase(),yield e.inv.refreshManifestAndInventory(!0,!0)})()}resetEverything(){var e=this;return(0,_.A)(function*(){localStorage.clear(),yield e.db.resetDatabase(),yield e.loginService.logout(),e.router.navigate(["/login"])})()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(st.Ix),t.rXU(It),t.rXU(Gt),t.rXU(Vt))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-account-config-page"]],decls:51,vars:0,consts:[["id","account-config-container"],["color","primary","mat-raised-button","","routerLink","/",1,"returnbutton","hide-gt-sm"],["appearance","outlined"],["color","primary","mat-flat-button","",1,"btn-download",3,"click"],["color","warn","mat-raised-button","",1,"btn-download",3,"click"],["color","primary","mat-raised-button","","routerLink","/privacy-policy","target","_blank",1,"btn-download"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"a",1),t.EFF(2," Return to D2ArmorPicker "),t.k0s(),t.j41(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title"),t.EFF(6," Account Configuration "),t.k0s(),t.j41(7,"mat-card-subtitle"),t.EFF(8," The configuration on this page will not be reset when you reset your build settings. "),t.k0s()(),t.j41(9,"mat-card-content"),t.EFF(10,' This will come in a future update. Right now, I just wanted to push the "Debugging" section out. '),t.k0s()(),t.j41(11,"mat-card",2)(12,"mat-card-header")(13,"mat-card-title"),t.EFF(14," Debugging "),t.k0s(),t.j41(15,"mat-card-subtitle"),t.EFF(16," Some options for debugging purposes. "),t.k0s()(),t.j41(17,"mat-card-content"),t.EFF(18," If the team asks you to send some specific data, you can find it here:"),t.nrm(19,"br"),t.j41(20,"a",3),t.bIt("click",function(){return i.downloadArmorInformation()}),t.EFF(21," Download armor information (d2ap_armor.json) "),t.k0s(),t.j41(22,"a",3),t.bIt("click",function(){return i.downloadManifestInformation()}),t.EFF(23," Download manifest information (d2ap_manifest.json) "),t.k0s(),t.nrm(24,"br")(25,"br"),t.EFF(26," If you experience issues with the local database - for example, exotics not being found, try this:"),t.nrm(27,"br"),t.j41(28,"a",4),t.bIt("click",function(){return i.resetDatabase()}),t.EFF(29," Delete Database "),t.k0s(),t.nrm(30,"br"),t.EFF(31," If you really want to reset EVERYTHING, use this: "),t.nrm(32,"br"),t.j41(33,"a",4),t.bIt("click",function(){return i.resetEverything()}),t.EFF(34," Reset the whole application "),t.k0s()()(),t.j41(35,"mat-card",2)(36,"mat-card-header")(37,"mat-card-title"),t.EFF(38," Privacy & Legal "),t.k0s(),t.j41(39,"mat-card-subtitle"),t.EFF(40," Information about data handling and privacy. "),t.k0s()(),t.j41(41,"mat-card-content"),t.EFF(42," Learn about how we handle your data and what information we collect:"),t.nrm(43,"br"),t.j41(44,"a",5),t.EFF(45," View Privacy Policy "),t.k0s(),t.nrm(46,"br")(47,"br"),t.EFF(48," This application uses the Bungie.net API. Bungie's privacy policy also applies to data accessed through their API. "),t.k0s()(),t.j41(49,"a",1),t.EFF(50," Return to D2ArmorPicker "),t.k0s()())},dependencies:[lt.It,z.RN,z.m2,z.MM,z.Lc,z.dh,st.Wk],styles:[".returnbutton[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px;width:100%}#account-config-container[_ngcontent-%COMP%]{max-width:800px;margin-left:auto;margin-right:auto}mat-card[_ngcontent-%COMP%]{margin-bottom:8px}.btn-download[_ngcontent-%COMP%]{margin-right:10px}\n\n/*# sourceMappingURL=account-config-page.component.css.map*/"]})}}return o})(),Ts=(()=>{class o{constructor(){}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-mod-description-tooltip"]],inputs:{mod:"mod"},decls:9,vars:2,consts:[[1,"tooltip-container"],[1,"exotic-name"]],template:function(n,i){1&n&&(t.j41(0,"div")(1,"div",0)(2,"table")(3,"tr")(4,"td",1),t.EFF(5),t.k0s()(),t.j41(6,"tr")(7,"td"),t.EFF(8),t.k0s()()()()()),2&n&&(t.R7$(5),t.JRh(null==i.mod?null:i.mod.name),t.R7$(3),t.JRh(null==i.mod?null:i.mod.description))},styles:["[_nghost-%COMP%]{width:350px}.tooltip-container[_ngcontent-%COMP%]{border:1px solid gray;padding:1px 5px 4px;background:linear-gradient(#484848 0px,#2c2c2c 100%)}.exotic-name[_ngcontent-%COMP%]{color:#eedb9e}\n\n/*# sourceMappingURL=mod-description-tooltip.component.css.map*/"]})}}return o})(),As=(()=>{class o{constructor(e,n,i){this._overlay=e,this._overlayPositionBuilder=n,this._elementRef=i}ngOnInit(){const e=this._overlayPositionBuilder.flexibleConnectedTo(this._elementRef).withPositions([{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:5},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-5}]);this._overlayRef=this._overlay.create({positionStrategy:e}),this._overlayRef.addPanelClass("overlay-no-pointer-event")}show(){this._overlayRef&&!this._overlayRef.hasAttached()&&(this._overlayRef.attach(new Ve.A8(Ts)).instance.mod=this.mod)}hide(){this.closeToolTip()}ngOnDestroy(){this.closeToolTip()}closeToolTip(){this._overlayRef&&this._overlayRef.detach()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(ee.hJ),t.rXU(ee.lF),t.rXU(t.aKT))}}static{this.\u0275dir=t.FsC({type:o,selectors:[["","modTooltip",""]],hostBindings:function(n,i){1&n&&t.bIt("mouseenter",function(){return i.show()})("mouseleave",function(){return i.hide()})},inputs:{mod:["modTooltip","mod"]}})}}return o})();function js(o,r){if(1&o&&(t.j41(0,"th",5),t.EFF(1),t.k0s()),2&o){const e=t.XpG();t.R7$(1),t.SpI("\u2206 Tier ",e.differenceTier,"")}}function Gs(o,r){if(1&o&&t.nrm(0,"img",9),2&o){const e=t.XpG(3).$implicit;t.Mz_("src","https://www.bungie.net/",e.icon,"",t.B4B)}}function Vs(o,r){if(1&o&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&o){const e=r.ngVar,n=t.XpG(6).$implicit,i=t.XpG();t.AVh("good",i.differenceTier<i.tier)("bad",i.differenceTier>i.tier),t.R7$(1),t.Lme(" ",e>0?"+":"","",i.formatEntry(n,e)," ")}}function $s(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,Vs,2,6,"span",10),t.k0s()),2&o){const e=t.XpG(2).ngVar,n=t.XpG().ngVar;t.R7$(1),t.Y8G("ngVar",-(e-n))}}function Ns(o,r){if(1&o&&(t.j41(0,"td")(1,"span"),t.EFF(2),t.nI1(3,"number"),t.k0s()()),2&o){const e=t.XpG().ngVar,n=t.XpG(5);t.R7$(1),t.AVh("good",n.differenceTier<n.tier)("bad",n.differenceTier>n.tier),t.R7$(1),t.Lme(" (",e>0?"+":"","",t.i5U(3,6,100*e,"1.0-0"),"%) ")}}function Bs(o,r){if(1&o&&(t.qex(0),t.DNE(1,$s,2,1,"td",6),t.DNE(2,Ns,4,9,"td",6),t.bVm()),2&o){const e=t.XpG(5);t.R7$(1),t.Y8G("ngIf",e.differenceTier!==e.tier),t.R7$(1),t.Y8G("ngIf",e.differenceTier!==e.tier)}}function Ys(o,r){if(1&o&&(t.qex(0),t.DNE(1,Bs,3,2,"ng-container",7),t.bVm()),2&o){const e=r.ngVar,n=t.XpG().ngVar,i=t.XpG(3);t.R7$(1),t.Y8G("ngVar",i.getPercentageDifference(n,e))}}function Ls(o,r){if(1&o&&(t.qex(0),t.nrm(1,"app-item-icon",11),t.bVm()),2&o){const e=r.$implicit;t.R7$(1),t.Y8G("itemHash",e)}}function Hs(o,r){if(1&o&&(t.qex(0),t.j41(1,"td"),t.DNE(2,Gs,1,1,"img",8),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.DNE(6,Ys,2,1,"ng-container",7),t.j41(7,"td"),t.DNE(8,Ls,2,1,"ng-container",4),t.EFF(9),t.k0s(),t.bVm()),2&o){const e=r.ngVar,n=t.XpG(2).$implicit,i=t.XpG();t.R7$(2),t.Y8G("ngIf",n.icon),t.R7$(1),t.SpI(" ",n.name," "),t.R7$(2),t.JRh(i.formatEntry(n,e)),t.R7$(1),t.Y8G("ngVar",i.valueFunction(n,i.differenceTier)),t.R7$(2),t.Y8G("ngForOf",n.overrideIcons),t.R7$(1),t.SpI(" ",n.description," ")}}function Us(o,r){if(1&o&&(t.j41(0,"tr"),t.DNE(1,Hs,10,6,"ng-container",7),t.k0s()),2&o){const e=t.XpG().$implicit,n=t.XpG();t.R7$(1),t.Y8G("ngVar",n.valueFunction(e,n.tier))}}function zs(o,r){if(1&o&&(t.qex(0),t.DNE(1,Us,2,1,"tr",6),t.bVm()),2&o){const e=r.$implicit,n=t.XpG();t.R7$(1),t.Y8G("ngIf",null==e.description||!!e.description[n.characterClass])}}let Js=(()=>{class o{constructor(e,n){this.config=e,this.characterStats=n,this.ArmorStatNames=d.wy,this.tier=0,this.differenceTier=0,this.stat=d.uD.StatWeapon,this.entries=[]}get characterClass(){return this.config.readonlyConfigurationSnapshot.characterClass}ngOnInit(){this.entries=this.characterStats.get(d.wy[this.stat],this.config.readonlyConfigurationSnapshot.characterClass,this.config.readonlyConfigurationSnapshot.selectedModElement,this.config.readonlyConfigurationSnapshot.selectedExotics)}formatEntry(e,n){return n=parseFloat(n.toFixed(2)),e.valueType===kt.Speed?(o=>(Math.round(100*o)/100).toFixed(2)+"m/s")(n):e.valueType===kt.Percentage?`${n}%`:e.valueType===kt.PercentagePerSecond?`${n}%/s`:e.valueType===kt.TimeMMSS?function Ws(o){var r=function Ds(o){o=Math.abs(o);var r=Math.floor(o/60),e=Math.floor(o-60*r);return`${r}:${e<10?"0":""}${e}`}(o);return o<0&&(r="- "+r),r}(n):e.valueType===kt.Time?function qs(o){var r=function Rs(o){o=Math.abs(o);var r=Math.floor(10*o%10),e=Math.floor(o/60),n=Math.floor(o-60*e);let i=`${n}s`;return r>0&&(i=`${n}.${r}s`),e>0&&(i=`${e}m ${i}`),i}(o);return o<0&&(r="- "+r),r}(n):n}valueFunction(e,n){return e.values[n]}getPercentageDifference(e,n){return(e-n)/Math.max(1,n)}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(E),t.rXU(en))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-stat-cooldown-tooltip"]],inputs:{tier:"tier",differenceTier:"differenceTier",stat:"stat"},decls:13,vars:5,consts:[[1,"tooltip-container"],["colspan","3",1,"exotic-name"],[2,"min-width","50px"],["style","min-width: 50px","colspan","2",4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","2",2,"min-width","50px"],[4,"ngIf"],[4,"ngVar"],["loading","lazy",3,"src",4,"ngIf"],["loading","lazy",3,"src"],[3,"good","bad",4,"ngVar"],[3,"itemHash"]],template:function(n,i){1&n&&(t.j41(0,"div")(1,"div",0)(2,"table")(3,"tr")(4,"td",1),t.EFF(5),t.k0s()(),t.j41(6,"tr")(7,"th",2),t.EFF(8,"Stat"),t.k0s(),t.j41(9,"th",2),t.EFF(10),t.k0s(),t.DNE(11,js,2,1,"th",3),t.k0s(),t.DNE(12,zs,2,1,"ng-container",4),t.k0s()()()),2&n&&(t.R7$(5),t.Lme("",i.ArmorStatNames[i.stat]," at Tier ",i.tier,""),t.R7$(5),t.SpI("Tier ",i.tier,""),t.R7$(1),t.Y8G("ngIf",i.differenceTier!==i.tier),t.R7$(1),t.Y8G("ngForOf",i.entries))},styles:["[_nghost-%COMP%]{max-width:420px}.tooltip-container[_ngcontent-%COMP%]{border:1px solid gray;padding:1px 5px 4px;background:linear-gradient(#484848 0px,#2c2c2c 100%)}.exotic-name[_ngcontent-%COMP%]{color:#eedb9e}.good[_ngcontent-%COMP%]{color:#58b458}.bad[_ngcontent-%COMP%]{color:#ff6b6b}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:7px 3px}th[_ngcontent-%COMP%]{white-space:nowrap}img[_ngcontent-%COMP%]{width:24px;height:24px;float:left;margin-right:3px}tr[_ngcontent-%COMP%]{line-height:24px}\n\n/*# sourceMappingURL=stat-cooldown-tooltip.component.css.map*/"]})}}return o})();var Pe=C(2047),Ne=C(4624),Te=C(9776),fn=C(353),ye=C(1134),_n=C(2937);let Ks=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[lt.Hl,Ht.RG,ge.Ve,he.Sy,ie.Ez,Fe.fS,oe.mV,it.tP,z.Hu,pt.uc,Re.PO,Tt.m_,Pe.NQ,Ne.Ou,Me.s5,Te.Cn,$t.Vg,te.Fg,fn.MY,bt.hM,fe._T,ye.D6,Oe.RI,Wt.YN,Ie.vg,_n.E9,ft.X1,ft.YN,ft.X1,ft.YN,lt.Hl,Ht.RG,ge.Ve,he.Sy,ie.Ez,Fe.fS,oe.mV,it.tP,z.Hu,pt.uc,Re.PO,Tt.m_,Pe.NQ,Ne.Ou,Me.s5,Te.Cn,$t.Vg,te.Fg,fn.MY,bt.hM,fe._T,ye.D6,Oe.RI,Wt.YN,Ie.vg,_n.E9,ie.Ez]})}}return o})(),Qs=(()=>{class o{constructor(e){this.database=e}transform(e){var n=this;return(0,_.A)(function*(){const i=yield n.database.vendorNames.where("vendorId").equals(e).first();return i?.vendorName?i.vendorName:i?.vendorIdentifier?i.vendorIdentifier:"Unknown Vendor"})()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(It,16))}}static{this.\u0275pipe=t.EJ8({name:"getVendorName",type:o,pure:!0})}}return o})(),Zs=(()=>{class o{constructor(){}transform(e){if(!e||!e.startsWith("v-"))return-1;const n=parseInt(e.substring(2).split("-")[0]);return isNaN(n)?-1:n}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275pipe=t.EJ8({name:"getVendorIdFromItemId",type:o,pure:!0})}}return o})();var tc=C(8891),ec=C(2400);function nc(o,r){if(1&o){const e=t.RV6();t.j41(0,"div",6)(1,"div",7),t.EFF(2),t.k0s(),t.j41(3,"div",8)(4,"span",9),t.EFF(5,"Sort by:"),t.k0s(),t.j41(6,"button",10),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.toggleSort("total"))}),t.j41(7,"span",11),t.EFF(8,"Total"),t.k0s(),t.j41(9,"mat-icon",12),t.EFF(10),t.k0s()(),t.j41(11,"button",13),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.toggleSort("mods"))}),t.j41(12,"span",11),t.EFF(13,"Mods"),t.k0s(),t.j41(14,"mat-icon",12),t.EFF(15),t.k0s()(),t.j41(16,"button",14),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.toggleSort("health"))}),t.nrm(17,"img",15),t.j41(18,"mat-icon",12),t.EFF(19),t.k0s()(),t.j41(20,"button",16),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.toggleSort("melee"))}),t.nrm(21,"img",17),t.j41(22,"mat-icon",12),t.EFF(23),t.k0s()(),t.j41(24,"button",18),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.toggleSort("grenade"))}),t.nrm(25,"img",19),t.j41(26,"mat-icon",12),t.EFF(27),t.k0s()(),t.j41(28,"button",20),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.toggleSort("super"))}),t.nrm(29,"img",21),t.j41(30,"mat-icon",12),t.EFF(31),t.k0s()(),t.j41(32,"button",22),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.toggleSort("class"))}),t.nrm(33,"img",23),t.j41(34,"mat-icon",12),t.EFF(35),t.k0s()(),t.j41(36,"button",24),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.toggleSort("weapon"))}),t.nrm(37,"img",25),t.j41(38,"mat-icon",12),t.EFF(39),t.k0s()()()()}if(2&o){const e=t.XpG();t.R7$(2),t.Lme(" Showing ",e.displayedResults.length," of ",e.filteredResults.length," results "),t.R7$(4),t.AVh("active","total"===e.activeSortField),t.R7$(4),t.JRh(e.getSortIcon("total")),t.R7$(1),t.AVh("active","mods"===e.activeSortField),t.R7$(4),t.JRh(e.getSortIcon("mods")),t.R7$(1),t.AVh("active","health"===e.activeSortField),t.R7$(1),t.Y8G("src",e.getStatIcon(1),t.B4B),t.R7$(2),t.JRh(e.getSortIcon("health")),t.R7$(1),t.AVh("active","melee"===e.activeSortField),t.R7$(1),t.Y8G("src",e.getStatIcon(5),t.B4B),t.R7$(2),t.JRh(e.getSortIcon("melee")),t.R7$(1),t.AVh("active","grenade"===e.activeSortField),t.R7$(1),t.Y8G("src",e.getStatIcon(3),t.B4B),t.R7$(2),t.JRh(e.getSortIcon("grenade")),t.R7$(1),t.AVh("active","super"===e.activeSortField),t.R7$(1),t.Y8G("src",e.getStatIcon(4),t.B4B),t.R7$(2),t.JRh(e.getSortIcon("super")),t.R7$(1),t.AVh("active","class"===e.activeSortField),t.R7$(1),t.Y8G("src",e.getStatIcon(2),t.B4B),t.R7$(2),t.JRh(e.getSortIcon("class")),t.R7$(1),t.AVh("active","weapon"===e.activeSortField),t.R7$(1),t.Y8G("src",e.getStatIcon(0),t.B4B),t.R7$(2),t.JRh(e.getSortIcon("weapon"))}}function oc(o,r){if(1&o&&t.nrm(0,"app-item-icon",70),2&o){const e=t.XpG().$implicit;t.Y8G("itemHash",e.exotic.hash)("matTooltip",e.exotic.name)}}function ic(o,r){1&o&&t.nrm(0,"img",71)}function ac(o,r){if(1&o&&(t.j41(0,"div",72),t.nrm(1,"img",73),t.j41(2,"span",74),t.EFF(3),t.k0s()()),2&o){const e=r.$implicit,n=t.XpG().$implicit,i=t.XpG();t.Y8G("matTooltip",i.getStatName(e)),t.R7$(1),t.Y8G("src",i.getStatIcon(e),t.B4B)("alt",i.getStatName(e)),t.R7$(2),t.JRh(n.stats[e])}}function rc(o,r){1&o&&(t.j41(0,"mat-chip-option",77)(1,"mat-icon"),t.EFF(2,"collections_bookmark"),t.k0s(),t.EFF(3," Collection "),t.k0s())}function sc(o,r){1&o&&(t.j41(0,"mat-chip-option",77)(1,"mat-icon"),t.EFF(2,"store"),t.k0s(),t.EFF(3," Vendor "),t.k0s())}function cc(o,r){if(1&o&&(t.j41(0,"div",75)(1,"mat-chip-listbox"),t.DNE(2,rc,4,0,"mat-chip-option",76),t.DNE(3,sc,4,0,"mat-chip-option",76),t.k0s()()),2&o){const e=t.XpG().$implicit;t.R7$(2),t.Y8G("ngIf",e.usesCollectionRoll),t.R7$(1),t.Y8G("ngIf",e.usesVendorRoll)}}function lc(o,r){if(1&o&&t.nrm(0,"app-item-icon",78),2&o){const e=t.XpG().$implicit;t.Y8G("itemHash",e.exotic.hash)("matTooltip",e.exotic.name)}}function dc(o,r){if(1&o&&(t.j41(0,"div",79),t.nrm(1,"img",80),t.j41(2,"div",81)(3,"span",82),t.EFF(4),t.k0s()()()),2&o){const e=r.$implicit,n=t.XpG().$implicit,i=t.XpG();t.Y8G("matTooltip",i.getStatName(e)),t.R7$(1),t.Y8G("src",i.getStatIcon(e),t.B4B)("alt",i.getStatName(e)),t.R7$(3),t.JRh(n.stats[e])}}function mc(o,r){if(1&o&&(t.j41(0,"th"),t.EFF(1),t.k0s()),2&o){const e=r.$implicit,n=t.XpG(2);t.R7$(1),t.SpI(" ",n.ArmorStatNames[e]," ")}}function pc(o,r){if(1&o&&(t.j41(0,"span",94),t.EFF(1),t.k0s()),2&o){const e=t.XpG().$implicit,n=t.XpG(2);t.AVh("armor-v3",3===e.armorSystem)("armor-legacy",e.armorSystem<3)("fully-masterworked",3===e.armorSystem&&5===e.masterworkLevel),t.Y8G("matTooltip",n.getMasterworkTooltip(e)),t.R7$(1),t.SpI(" ",n.getMasterworkDisplay(e)," ")}}function uc(o,r){if(1&o&&(t.j41(0,"div",95),t.nrm(1,"app-armor-perk-icon",96),t.k0s()),2&o){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("perk",e.perk||0)}}function gc(o,r){1&o&&t.nrm(0,"mat-progress-spinner",97)}function hc(o,r){1&o&&(t.j41(0,"mat-icon",98),t.EFF(1," check_circle_outline "),t.k0s())}function fc(o,r){1&o&&(t.j41(0,"mat-icon",99),t.EFF(1," error_outline "),t.k0s())}function _c(o,r){if(1&o&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&o){const e=r.$implicit,n=t.XpG().$implicit,i=t.XpG(2);t.R7$(1),t.SpI(" ",i.getItemStatWithMasterwork(n,e)," ")}}function yc(o,r){if(1&o&&(t.j41(0,"tr",83)(1,"td",84)(2,"div",85),t.nrm(3,"app-item-icon",86),t.j41(4,"span",87),t.EFF(5),t.k0s(),t.DNE(6,pc,2,8,"span",88),t.DNE(7,uc,2,1,"div",89),t.j41(8,"div",90),t.DNE(9,gc,1,0,"mat-progress-spinner",91),t.DNE(10,hc,2,0,"mat-icon",92),t.DNE(11,fc,2,0,"mat-icon",93),t.k0s()()(),t.DNE(12,_c,2,1,"td",57),t.k0s()),2&o){const e=r.$implicit,n=t.XpG(2);t.R7$(3),t.Y8G("itemHash",e.hash)("masterworked",e.masterworked)("source",e.source),t.R7$(1),t.Y8G("matTooltip",e.name)("matTooltipDisabled",!n.shouldShowTooltip(e.name)),t.R7$(1),t.SpI(" ",n.getShortItemName(e.name)," "),t.R7$(1),t.Y8G("ngIf",n.getMasterworkDisplay(e)),t.R7$(1),t.Y8G("ngIf",e.perk),t.R7$(2),t.Y8G("ngIf",1===e.transferState||2===e.transferState),t.R7$(1),t.Y8G("ngIf",3===e.transferState),t.R7$(1),t.Y8G("ngIf",4===e.transferState),t.R7$(1),t.Y8G("ngForOf",n.STAT_ORDER)}}function bc(o,r){if(1&o){const e=t.RV6();t.j41(0,"td",103),t.bIt("click",function(i){t.eBV(e);const a=t.XpG(2).index;return t.XpG().toggleBreakdown(a),t.Njj(i.stopPropagation())}),t.j41(1,"div",104)(2,"strong"),t.EFF(3,"Total (armor)"),t.k0s(),t.j41(4,"mat-icon",105),t.EFF(5),t.k0s()()()}if(2&o){const e=t.XpG(2).index,n=t.XpG();t.AVh("expanded",n.isBreakdownExpanded(e)),t.R7$(5),t.JRh(n.isBreakdownExpanded(e)?"expand_less":"expand_more")}}function Cc(o,r){1&o&&(t.j41(0,"td",106)(1,"strong"),t.EFF(2,"Total (armor)"),t.k0s()())}function vc(o,r){if(1&o&&(t.j41(0,"td")(1,"span",107),t.nrm(2,"app-stat-icon",108),t.j41(3,"strong"),t.EFF(4),t.k0s()()()),2&o){const e=r.$implicit,n=t.XpG(2).$implicit;t.R7$(2),t.Y8G("stat",e),t.R7$(2),t.JRh(n.statsNoMods[e])}}function xc(o,r){if(1&o&&(t.j41(0,"tr",100),t.DNE(1,bc,6,3,"td",101),t.DNE(2,Cc,3,0,"td",102),t.DNE(3,vc,5,2,"td",57),t.k0s()),2&o){const e=t.XpG().$implicit,n=t.XpG();t.R7$(1),t.Y8G("ngIf",n.hasBreakdownRows(e)),t.R7$(1),t.Y8G("ngIf",!n.hasBreakdownRows(e)),t.R7$(1),t.Y8G("ngForOf",n.STAT_ORDER)}}function Sc(o,r){if(1&o&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&o){const e=t.XpG().$implicit,n=t.XpG(3);t.HbH(n.getConfigValue(e)>0?"positive":"negative"),t.R7$(1),t.Lme("",n.getConfigValue(e)>0?"+":"","",n.getConfigValue(e),"")}}function kc(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,Sc,2,4,"span",111),t.k0s()),2&o){const e=r.$implicit,n=t.XpG(3);t.R7$(1),t.Y8G("ngIf",0!==n.getConfigValue(e))}}function wc(o,r){if(1&o&&(t.j41(0,"tr",109)(1,"td",110),t.EFF(2,"Configuration"),t.k0s(),t.DNE(3,kc,2,1,"td",57),t.k0s()),2&o){const e=t.XpG(2);t.R7$(3),t.Y8G("ngForOf",e.STAT_ORDER)}}function Mc(o,r){if(1&o&&(t.j41(0,"span",115),t.EFF(1),t.k0s()),2&o){const e=t.XpG().$implicit,n=t.XpG(2).$implicit,i=t.XpG();t.R7$(1),t.SpI(" ",i.getMinorModCount(n,e),"\xd75 ")}}function Ec(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,Mc,2,1,"span",114),t.k0s()),2&o){const e=r.$implicit,n=t.XpG(2).$implicit,i=t.XpG();t.R7$(1),t.Y8G("ngIf",i.getMinorModCount(n,e)>0)}}function Oc(o,r){if(1&o&&(t.j41(0,"tr",112)(1,"td",113),t.EFF(2,"Minor Mods"),t.k0s(),t.DNE(3,Ec,2,1,"td",57),t.k0s()),2&o){const e=t.XpG(2);t.R7$(3),t.Y8G("ngForOf",e.STAT_ORDER)}}function Ic(o,r){if(1&o&&(t.j41(0,"span",115),t.EFF(1),t.k0s()),2&o){const e=t.XpG().$implicit,n=t.XpG(2).$implicit,i=t.XpG();t.R7$(1),t.SpI(" ",i.getMajorModCount(n,e),"\xd710 ")}}function Fc(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,Ic,2,1,"span",114),t.k0s()),2&o){const e=r.$implicit,n=t.XpG(2).$implicit,i=t.XpG();t.R7$(1),t.Y8G("ngIf",i.getMajorModCount(n,e)>0)}}function Pc(o,r){if(1&o&&(t.j41(0,"tr",116)(1,"td",113),t.EFF(2,"Major Mods"),t.k0s(),t.DNE(3,Fc,2,1,"td",57),t.k0s()),2&o){const e=t.XpG(2);t.R7$(3),t.Y8G("ngForOf",e.STAT_ORDER)}}function Tc(o,r){if(1&o&&(t.j41(0,"span",115),t.EFF(1),t.k0s()),2&o){const e=t.XpG().$implicit,n=t.XpG(2).$implicit,i=t.XpG();t.R7$(1),t.SpI(" ",i.getArtificeModCount(n,e),"\xd73 ")}}function Ac(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,Tc,2,1,"span",114),t.k0s()),2&o){const e=r.$implicit,n=t.XpG(2).$implicit,i=t.XpG();t.R7$(1),t.Y8G("ngIf",i.getArtificeModCount(n,e)>0)}}function Dc(o,r){if(1&o&&(t.j41(0,"tr",117)(1,"td",113),t.EFF(2,"Artifice Mods"),t.k0s(),t.DNE(3,Ac,2,1,"td",57),t.k0s()),2&o){const e=t.XpG(2);t.R7$(3),t.Y8G("ngForOf",e.STAT_ORDER)}}function Rc(o,r){if(1&o&&(t.j41(0,"span",121)(1,"span"),t.EFF(2),t.k0s()()),2&o){const e=t.XpG().$implicit,n=t.XpG(2).$implicit;t.R7$(1),t.AVh("positive",n.tuningStats[e]>0)("negative",n.tuningStats[e]<0),t.R7$(1),t.Lme(" ",n.tuningStats[e]>0?"+":"","",n.tuningStats[e]," ")}}function jc(o,r){if(1&o&&(t.j41(0,"td"),t.DNE(1,Rc,3,6,"span",120),t.k0s()),2&o){const e=r.$implicit,n=t.XpG(2).$implicit;t.R7$(1),t.Y8G("ngIf",0!==n.tuningStats[e])}}function Gc(o,r){if(1&o&&(t.j41(0,"tr",118)(1,"td",119),t.EFF(2,"Tuning"),t.k0s(),t.DNE(3,jc,2,1,"td",57),t.k0s()),2&o){const e=t.XpG(2);t.R7$(3),t.Y8G("ngForOf",e.STAT_ORDER)}}function Vc(o,r){if(1&o&&(t.j41(0,"td")(1,"span",107),t.nrm(2,"app-stat-icon",108),t.j41(3,"strong"),t.EFF(4),t.k0s()()()),2&o){const e=r.$implicit,n=t.XpG().$implicit;t.R7$(2),t.Y8G("stat",e),t.R7$(2),t.JRh(n.stats[e])}}function $c(o,r){if(1&o){const e=t.RV6();t.j41(0,"mat-card",26),t.bIt("click",function(){const a=t.eBV(e).index,s=t.XpG();return t.Njj(s.toggleCard(a))}),t.j41(1,"div",27)(2,"div",28)(3,"div",29)(4,"div",30),t.DNE(5,oc,1,2,"app-item-icon",31),t.DNE(6,ic,1,0,"img",32),t.k0s(),t.j41(7,"span",33),t.EFF(8),t.k0s()(),t.j41(9,"div",34),t.DNE(10,ac,4,4,"div",35),t.k0s(),t.j41(11,"div",36),t.nrm(12,"app-table-mod-display",37),t.k0s(),t.j41(13,"div",38)(14,"span",39),t.EFF(15),t.k0s(),t.j41(16,"span",40),t.EFF(17,"Total"),t.k0s()()(),t.DNE(18,cc,4,2,"div",41),t.k0s(),t.j41(19,"div",42)(20,"div",43)(21,"div",44)(22,"div",45),t.DNE(23,lc,1,2,"app-item-icon",46),t.j41(24,"div",47)(25,"h3"),t.EFF(26),t.k0s(),t.j41(27,"div",48),t.EFF(28),t.k0s()()(),t.j41(29,"div",49)(30,"h4"),t.EFF(31,"Required Mods"),t.k0s(),t.nrm(32,"app-table-mod-display",50),t.k0s(),t.j41(33,"div",51)(34,"h4"),t.EFF(35,"Final Stats"),t.k0s(),t.j41(36,"div",52),t.DNE(37,dc,5,4,"div",53),t.k0s()()(),t.j41(38,"div",54)(39,"h4"),t.EFF(40,"Armor Breakdown"),t.k0s(),t.j41(41,"div",55)(42,"table",56)(43,"thead")(44,"tr")(45,"th"),t.EFF(46,"Piece"),t.k0s(),t.DNE(47,mc,2,1,"th",57),t.k0s()(),t.j41(48,"tbody"),t.DNE(49,yc,13,12,"tr",58),t.DNE(50,xc,4,3,"tr",59),t.DNE(51,wc,4,1,"tr",60),t.DNE(52,Oc,4,1,"tr",61),t.DNE(53,Pc,4,1,"tr",62),t.DNE(54,Dc,4,1,"tr",63),t.DNE(55,Gc,4,1,"tr",64),t.j41(56,"tr",65)(57,"td",66)(58,"strong"),t.EFF(59,"Total (with Mods)"),t.k0s()(),t.DNE(60,Vc,5,2,"td",57),t.k0s()()()(),t.j41(61,"div",67)(62,"button",68),t.bIt("click",function(i){const s=t.eBV(e).$implicit;return t.XpG().copyDIMQuery(s),t.Njj(i.stopPropagation())}),t.j41(63,"mat-icon"),t.EFF(64,"content_copy"),t.k0s(),t.EFF(65," Copy DIM Query "),t.k0s(),t.j41(66,"button",68),t.bIt("click",function(i){const s=t.eBV(e).$implicit;return t.XpG().openInDIM(s),t.Njj(i.stopPropagation())}),t.j41(67,"mat-icon"),t.EFF(68,"open_in_new"),t.k0s(),t.EFF(69," Open in DIM "),t.k0s(),t.j41(70,"button",69),t.bIt("click",function(i){const s=t.eBV(e).$implicit;return t.XpG().moveItems(s),t.Njj(i.stopPropagation())}),t.j41(71,"mat-icon"),t.EFF(72,"move_down"),t.k0s(),t.EFF(73," Move Items "),t.k0s(),t.j41(74,"button",69),t.bIt("click",function(i){const s=t.eBV(e).$implicit;return t.XpG().moveItems(s,!0),t.Njj(i.stopPropagation())}),t.j41(75,"mat-icon"),t.EFF(76,"upload"),t.k0s(),t.EFF(77," Equip Items "),t.k0s()()()()()()}if(2&o){const e=r.$implicit,n=r.index,i=t.XpG();t.AVh("expanded",i.expandedCard===n),t.R7$(1),t.AVh("hidden",i.expandedCard===n),t.R7$(4),t.Y8G("ngIf",e.exotic),t.R7$(1),t.Y8G("ngIf",!e.exotic),t.R7$(1),t.Y8G("matTooltip",(null==e.exotic?null:e.exotic.name)||"No Exotic")("matTooltipDisabled",!i.shouldShowTooltip((null==e.exotic?null:e.exotic.name)||"No Exotic")),t.R7$(1),t.SpI(" ",(null==e.exotic?null:e.exotic.name)||"No Exotic"," "),t.R7$(2),t.Y8G("ngForOf",i.STAT_ORDER),t.R7$(2),t.Y8G("mods",e.mods)("artifice",e.artifice),t.R7$(3),t.JRh(i.getTotalStats(e)),t.R7$(3),t.Y8G("ngIf",e.usesCollectionRoll||e.usesVendorRoll),t.R7$(1),t.AVh("hidden",i.expandedCard!==n),t.R7$(4),t.Y8G("ngIf",e.exotic),t.R7$(3),t.JRh((null==e.exotic?null:e.exotic.name)||"No Exotic"),t.R7$(2),t.SpI("",i.getTotalStats(e)," Total"),t.R7$(4),t.Y8G("mods",e.mods)("artifice",e.artifice),t.R7$(5),t.Y8G("ngForOf",i.STAT_ORDER),t.R7$(10),t.Y8G("ngForOf",i.STAT_ORDER),t.R7$(2),t.Y8G("ngForOf",e.items),t.R7$(1),t.Y8G("ngIf",e.statsNoMods),t.R7$(1),t.Y8G("ngIf",i.hasConfigBonus()&&i.isBreakdownExpanded(n)),t.R7$(1),t.Y8G("ngIf",i.hasMinorMods(e)&&i.isBreakdownExpanded(n)),t.R7$(1),t.Y8G("ngIf",i.hasMajorMods(e)&&i.isBreakdownExpanded(n)),t.R7$(1),t.Y8G("ngIf",i.hasArtificeMods(e)&&i.isBreakdownExpanded(n)),t.R7$(1),t.Y8G("ngIf",e.tuningStats&&i.isBreakdownExpanded(n)),t.R7$(5),t.Y8G("ngForOf",i.STAT_ORDER)}}function Nc(o,r){1&o&&(t.j41(0,"div",122),t.nrm(1,"mat-spinner",123),t.j41(2,"span"),t.EFF(3,"Loading more results..."),t.k0s()())}let yn=(()=>{class o{constructor(e,n,i,a){this.snackBar=e,this.configService=n,this.dimService=i,this.bungieApiService=a,this.STAT_ORDER=d.Hz,this.ArmorStatNames=d.wy,this.results=[],this.filteredResults=[],this.displayedResults=[],this.activeSortField=null,this.sortDirection="desc",this.expandedCard=null,this.expandedBreakdown=null,this.isLoading=!1,this.PAGE_SIZE=25,this.currentPage=0,this.Math=Math,this.destroy$=new G.B7}ngOnChanges(e){e.results&&this.results&&(this.expandedBreakdown=null,this.initializeData())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeData(){this.filteredResults=[...this.results],this.applyFiltersAndSort(),this.resetPagination(),this.loadNextPage()}toggleSort(e){this.activeSortField===e?"desc"===this.sortDirection?this.sortDirection="asc":(this.activeSortField=null,this.sortDirection="desc"):(this.activeSortField=e,this.sortDirection="desc"),this.applyFiltersAndSort(),this.resetPagination(),this.loadNextPage()}getSortIcon(e){return this.activeSortField!==e?"remove":"desc"===this.sortDirection?"keyboard_arrow_down":"keyboard_arrow_up"}applyFiltersAndSort(){this.filteredResults=[...this.results],this.activeSortField&&this.filteredResults.sort((e,n)=>{let i,a;switch(this.activeSortField){case"total":default:i=this.getTotalStats(e),a=this.getTotalStats(n);break;case"mods":i=this.getModSortValue(e),a=this.getModSortValue(n);break;case"weapon":i=e.stats[d.uD.StatWeapon],a=n.stats[d.uD.StatWeapon];break;case"health":i=e.stats[d.uD.StatHealth],a=n.stats[d.uD.StatHealth];break;case"class":i=e.stats[d.uD.StatClass],a=n.stats[d.uD.StatClass];break;case"grenade":i=e.stats[d.uD.StatGrenade],a=n.stats[d.uD.StatGrenade];break;case"super":i=e.stats[d.uD.StatSuper],a=n.stats[d.uD.StatSuper];break;case"melee":i=e.stats[d.uD.StatMelee],a=n.stats[d.uD.StatMelee]}return"desc"===this.sortDirection?a-i:i-a})}resetPagination(){this.currentPage=0,this.displayedResults=[],this.expandedCard=null}loadNextPage(){const e=this.currentPage*this.PAGE_SIZE,i=this.filteredResults.slice(e,e+this.PAGE_SIZE);this.displayedResults.push(...i),this.currentPage++}onScroll(e){const n=e.target;n.scrollTop+n.clientHeight>=n.scrollHeight-100&&!this.isLoading&&this.displayedResults.length<this.filteredResults.length&&(this.isLoading=!0,setTimeout(()=>{this.loadNextPage(),this.isLoading=!1},200))}toggleCard(e){this.expandedCard=this.expandedCard===e?null:e,this.expandedCard!==e&&(this.expandedBreakdown=null)}toggleBreakdown(e){this.expandedBreakdown=this.expandedBreakdown===e?null:e}isBreakdownExpanded(e){return this.expandedBreakdown===e}hasBreakdownRows(e){return this.hasConfigBonus()||this.hasMinorMods(e)||this.hasMajorMods(e)||this.hasArtificeMods(e)}trackByFn(e,n){return n.stats.join("-")+n.mods.join("-")+(n.exotic?.hash||"none")}getTotalStats(e){return e.stats.reduce((n,i)=>n+i,0)}getModCost(e){return(e.mods||[]).reduce((a,s)=>a+(s%2==1?1:3),0)+(e.artifice||[]).reduce((a,s)=>a+1,0)}getModSortValue(e){return 100*e.modCount+e.modCost}getStatIcon(e){return d.BU[e]}getStatName(e){return d.wy[e]}getItemStatWithMasterwork(e,n){let i=e.stats[n];return i+=this.getMasterworkBonus(e)[n],i}getMasterworkBonus(e){const n=[0,0,0,0,0,0],i=this.configService.readonlyConfigurationSnapshot;if(e.armorSystem==nt.V.Armor2){if(10==e.masterworkLevel||e.exotic&&i.assumeExoticsMasterworked||!e.exotic&&i.assumeLegendariesMasterworked)for(let a=0;a<6;a++)n[a]+=2;return n}if(e.armorSystem==nt.V.Armor3){let a=e.masterworkLevel||0;if((e.exotic&&i.assumeExoticsMasterworked||!e.exotic&&i.assumeLegendariesMasterworked)&&(a=5),0==a)return n;for(let s=0;s<6;s++)e.archetypeStats&&-1===e.archetypeStats.indexOf(s)&&(n[s]+=a);return n}return n}getShortItemName(e){return e.replace(/^(Exotic|Legendary)\s+/,"").replace(/\s+(Helmet|Gauntlets|Chest Armor|Leg Armor|Class Item)$/,"").substring(0,20)}getItemColor(e){return e.masterworked?"#ffeb3b":e.exotic?"#ff9800":"#9e9e9e"}getMasterworkDisplay(e){if(3===e.armorSystem&&void 0!==e.masterworkLevel){if(e.masterworkLevel<5)return`${e.masterworkLevel}/5`;if(5===e.masterworkLevel)return"MW"}return e.masterworked?"MW":""}getMasterworkTooltip(e){return 3===e.armorSystem&&void 0!==e.masterworkLevel?e.masterworkLevel<5?`Armor 3.0 - Masterwork Level ${e.masterworkLevel}/5`:"Armor 3.0 - Fully Masterworked":e.masterworked?"Armor 2.0 - Masterworked":""}shouldShowTooltip(e){return null!=e&&e.length>20}copyDIMQuery(e){var n=this;return(0,_.A)(function*(){(yield n.dimService.copyDIMQuery(e))?n.snackBar.open("DIM query copied to clipboard","",{duration:2e3}):n.snackBar.open("Failed to copy to clipboard","",{duration:2e3})})()}openInDIM(e){this.dimService.openInDIM(e)}hasConfigBonus(){for(let e=0;e<6;e++)if(0!==this.getConfigValue(e))return!0;return!1}getConfigValue(e){let n=0;const i=this.configService.readonlyConfigurationSnapshot;if(i.enabledMods&&Array.isArray(i.enabledMods))for(const a of i.enabledMods){const s=F.v[a];if(!s||!s.bonus||!Array.isArray(s.bonus))continue;const l=s.bonus.find(m=>m.stat===e);l&&(n+=l.value)}return n}hasMinorMods(e){if(!e.mods)return!1;const n=[d.oA.MINOR_WEAPON,d.oA.MINOR_HEALTH,d.oA.MINOR_CLASS,d.oA.MINOR_GRENADE,d.oA.MINOR_SUPER,d.oA.MINOR_MELEE];return e.mods.some(i=>n.includes(i))}getMinorModCount(e,n){if(!e.mods)return 0;const i=[d.oA.MINOR_WEAPON,d.oA.MINOR_HEALTH,d.oA.MINOR_CLASS,d.oA.MINOR_GRENADE,d.oA.MINOR_SUPER,d.oA.MINOR_MELEE][n];return e.mods.filter(a=>a===i).length}hasMajorMods(e){if(!e.mods)return!1;const n=[d.oA.MAJOR_WEAPON,d.oA.MAJOR_HEALTH,d.oA.MAJOR_CLASS,d.oA.MAJOR_GRENADE,d.oA.MAJOR_SUPER,d.oA.MAJOR_MELEE];return e.mods.some(i=>n.includes(i))}getMajorModCount(e,n){if(!e.mods)return 0;const i=[d.oA.MAJOR_WEAPON,d.oA.MAJOR_HEALTH,d.oA.MAJOR_CLASS,d.oA.MAJOR_GRENADE,d.oA.MAJOR_SUPER,d.oA.MAJOR_MELEE][n];return e.mods.filter(a=>a===i).length}hasArtificeMods(e){return!!e.artifice&&e.artifice.length>0}getArtificeModCount(e,n){if(!e.artifice)return 0;const i=[d.oA.ARTIFICE_WEAPON,d.oA.ARTIFICE_HEALTH,d.oA.ARTIFICE_CLASS,d.oA.ARTIFICE_GRENADE,d.oA.ARTIFICE_SUPER,d.oA.ARTIFICE_MELEE][n];return e.artifice.filter(a=>a===i).length}moveItems(e,n=!1){var i=this;return(0,_.A)(function*(){const a=yield i.bungieApiService.moveResultItems(e,n);a.success?a.allSuccessful?i.snackBar.open("Success! Moved all the items.","",{duration:2e3}):i.snackBar.open("Some of the items could not be moved. Make sure that there is enough space in the specific slot. This tool will not move items out of your inventory.","",{duration:4e3}):i.snackBar.open("Error: Could not find a character to move the items to.","",{duration:3e3})})()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(fe.UG),t.rXU(E),t.rXU(sn),t.rXU(we))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-results-card-view"]],inputs:{results:"results"},features:[t.OA$],decls:6,vars:4,consts:[[1,"card-view-container"],["class","filters-container",4,"ngIf"],[1,"cards-container",3,"scroll"],[1,"card-grid"],["class","result-card","appearance","outlined",3,"expanded","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","loading-indicator",4,"ngIf"],[1,"filters-container"],[1,"results-count"],[1,"sort-controls"],[1,"sort-label"],["mat-icon-button","","matTooltip","Sort by Total Stats",1,"sort-button",3,"click"],[1,"sort-text"],[1,"sort-icon"],["mat-icon-button","","matTooltip","Sort by Mod Cost",1,"sort-button",3,"click"],["mat-icon-button","","matTooltip","Sort by Health",1,"sort-button",3,"click"],["alt","Health",1,"sort-stat-icon",3,"src"],["mat-icon-button","","matTooltip","Sort by Melee",1,"sort-button",3,"click"],["alt","Melee",1,"sort-stat-icon",3,"src"],["mat-icon-button","","matTooltip","Sort by Grenade",1,"sort-button",3,"click"],["alt","Grenade",1,"sort-stat-icon",3,"src"],["mat-icon-button","","matTooltip","Sort by Super",1,"sort-button",3,"click"],["alt","Super",1,"sort-stat-icon",3,"src"],["mat-icon-button","","matTooltip","Sort by Class",1,"sort-button",3,"click"],["alt","Class",1,"sort-stat-icon",3,"src"],["mat-icon-button","","matTooltip","Sort by Weapon",1,"sort-button",3,"click"],["alt","Weapon",1,"sort-stat-icon",3,"src"],["appearance","outlined",1,"result-card",3,"click"],[1,"card-compact"],[1,"card-header"],[1,"exotic-section"],[1,"exotic-icon"],["class","exotic-img",3,"itemHash","matTooltip",4,"ngIf"],["src","https://www.bungie.net/common/destiny2_content/icons/b4d05ef69d0c3227a7d4f7f35bbc2848.png","alt","No Exotic","class","exotic-img",4,"ngIf"],[1,"exotic-name",3,"matTooltip","matTooltipDisabled"],[1,"stats-section"],["class","stat-item-compact",3,"matTooltip",4,"ngFor","ngForOf"],[1,"mods-section"],[1,"mods-display",3,"mods","artifice"],[1,"tiers-section"],[1,"total-stats"],[1,"tiers-label"],["class","sources-row",4,"ngIf"],[1,"card-expanded"],[1,"expanded-content"],[1,"left-summary"],[1,"exotic-section-expanded"],["class","exotic-img-large",3,"itemHash","matTooltip",4,"ngIf"],[1,"exotic-info"],[1,"total-stats-large"],[1,"mods-section-expanded"],[3,"mods","artifice"],[1,"stats-summary"],[1,"stats-grid"],["class","stat-item-large",3,"matTooltip",4,"ngFor","ngForOf"],[1,"right-details"],[1,"armor-table"],[1,"breakdown-table"],[4,"ngFor","ngForOf"],["class","armor-row",4,"ngFor","ngForOf"],["class","total-row",4,"ngIf"],["class","config-row",4,"ngIf"],["class","minor-mods-row",4,"ngIf"],["class","major-mods-row",4,"ngIf"],["class","artifice-mods-row",4,"ngIf"],["class","tuning-row",4,"ngIf"],[1,"final-total-row"],[1,"total-label",2,"text-align","left"],[1,"card-actions"],["mat-stroked-button","",3,"click"],["mat-stroked-button","","matTooltip","Warning: Does not move items out of your inventory.",3,"click"],[1,"exotic-img",3,"itemHash","matTooltip"],["src","https://www.bungie.net/common/destiny2_content/icons/b4d05ef69d0c3227a7d4f7f35bbc2848.png","alt","No Exotic",1,"exotic-img"],[1,"stat-item-compact",3,"matTooltip"],[1,"stat-icon-compact",3,"src","alt"],[1,"stat-value-compact"],[1,"sources-row"],["disabled","",4,"ngIf"],["disabled",""],[1,"exotic-img-large",3,"itemHash","matTooltip"],[1,"stat-item-large",3,"matTooltip"],[1,"stat-icon-large",3,"src","alt"],[1,"stat-info"],[1,"stat-value-large"],[1,"armor-row"],[1,"item-name"],[1,"item-info"],[3,"itemHash","masterworked","source"],[1,"item-name-text",3,"matTooltip","matTooltipDisabled"],["class","masterwork-level",3,"armor-v3","armor-legacy","fully-masterworked","matTooltip",4,"ngIf"],["class","socket-container",4,"ngIf"],[1,"transfer-state-indicators"],["class","transfer-spinner","color","primary","diameter","16","mode","indeterminate",4,"ngIf"],["class","transfer-success","matTooltip","Item successfully moved to inventory.",4,"ngIf"],["class","transfer-error","matTooltip","This item could not be moved. Make sure that there is enough space on your character.",4,"ngIf"],[1,"masterwork-level",3,"matTooltip"],[1,"socket-container"],[3,"perk"],["color","primary","diameter","16","mode","indeterminate",1,"transfer-spinner"],["matTooltip","Item successfully moved to inventory.",1,"transfer-success"],["matTooltip","This item could not be moved. Make sure that there is enough space on your character.",1,"transfer-error"],[1,"total-row"],["class","total-label expandable-row",3,"expanded","click",4,"ngIf"],["class","total-label",4,"ngIf"],[1,"total-label","expandable-row",3,"click"],[1,"expandable-content"],[1,"expand-icon"],[1,"total-label"],[1,"stat-summary-cell"],[1,"stat-icon-table",3,"stat"],[1,"config-row"],[1,"config-label"],[3,"class",4,"ngIf"],[1,"minor-mods-row"],[1,"mods-label"],["class","positive",4,"ngIf"],[1,"positive"],[1,"major-mods-row"],[1,"artifice-mods-row"],[1,"tuning-row"],[1,"tuning-label"],["class","tuning-value",4,"ngIf"],[1,"tuning-value"],[1,"loading-indicator"],["diameter","32"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.DNE(1,nc,40,32,"div",1),t.j41(2,"div",2),t.bIt("scroll",function(s){return i.onScroll(s)}),t.j41(3,"div",3),t.DNE(4,$c,78,31,"mat-card",4),t.k0s(),t.DNE(5,Nc,4,0,"div",5),t.k0s()()),2&n&&(t.R7$(1),t.Y8G("ngIf",i.filteredResults.length>0),t.R7$(3),t.Y8G("ngForOf",i.displayedResults)("ngForTrackBy",i.trackByFn),t.R7$(1),t.Y8G("ngIf",i.isLoading))},styles:[".card-view-container[_ngcontent-%COMP%]{width:100%;min-height:450px;height:auto}.filters-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:16px;margin-bottom:16px;padding:12px 16px;background:rgba(255,255,255,.02);border-radius:8px}@media (max-width: 768px){.filters-container[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:12px}}.filters-container[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#999;flex-shrink:0}.filters-container[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-wrap:wrap}@media (max-width: 768px){.filters-container[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]{justify-content:center}}.filters-container[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-label[_ngcontent-%COMP%]{font-size:14px;color:#ccc;margin-right:8px;white-space:nowrap}@media (max-width: 480px){.filters-container[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-label[_ngcontent-%COMP%]{display:none}}.filters-container[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:8px;border-radius:6px;border:1px solid rgba(255,255,255,.1);background:rgba(255,255,255,.03);transition:all .2s ease;min-width:60px;height:40px;justify-content:center}.filters-container[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-button[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.08);border-color:#fff3}.filters-container[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-button.active[_ngcontent-%COMP%]{background:rgba(33,150,243,.2);border-color:#2196f380;color:#2196f3}.filters-container[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-button[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]{font-size:12px;font-weight:500;white-space:nowrap}@media (max-width: 480px){.filters-container[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-button[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]{display:none}}.filters-container[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-button[_ngcontent-%COMP%]   .sort-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;line-height:1;flex-shrink:0}.filters-container[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-button[_ngcontent-%COMP%]   .sort-stat-icon[_ngcontent-%COMP%]{width:16px;height:16px;flex-shrink:0}.results-count[_ngcontent-%COMP%]{margin-bottom:16px;font-size:14px;color:#999}.cards-container[_ngcontent-%COMP%]{min-height:300px;max-height:120vh;overflow-y:auto;padding:8px;scrollbar-width:thin;scrollbar-color:rgba(33,150,243,.5) rgba(255,255,255,.05)}.cards-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.cards-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.06));border-radius:6px;border:1px solid rgba(255,255,255,.08)}.cards-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(180deg,rgba(33,150,243,.4),rgba(33,150,243,.6));border-radius:6px;border:1px solid rgba(33,150,243,.2);-webkit-transition:all .3s ease;transition:all .3s ease}.cards-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(180deg,rgba(33,150,243,.6),rgba(33,150,243,.8));border-color:#2196f366;box-shadow:0 0 8px #2196f34d}.cards-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:active{background:linear-gradient(180deg,rgba(33,150,243,.8),rgba(33,150,243,.9));border-color:#2196f399;box-shadow:0 0 12px #2196f380}.cards-container[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:rgba(255,255,255,.03);border-radius:4px}.card-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:16px;padding-bottom:20px}.result-card[_ngcontent-%COMP%]{transition:all .3s ease;cursor:pointer;position:relative;overflow:hidden;width:100%;min-width:800px;max-width:1200px}@media (max-width: 1200px){.result-card[_ngcontent-%COMP%]{min-width:700px;max-width:1000px}}@media (max-width: 968px){.result-card[_ngcontent-%COMP%]{min-width:600px;max-width:800px}}@media (max-width: 768px){.result-card[_ngcontent-%COMP%]{min-width:500px;max-width:600px}}@media (max-width: 480px){.result-card[_ngcontent-%COMP%]{min-width:320px;max-width:100%}}.result-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.result-card.expanded[_ngcontent-%COMP%]   .card-compact[_ngcontent-%COMP%]{display:none}.result-card.expanded[_ngcontent-%COMP%]   .card-expanded[_ngcontent-%COMP%]{display:block}.result-card[_ngcontent-%COMP%]:not(.expanded)   .card-compact[_ngcontent-%COMP%]{display:block}.result-card[_ngcontent-%COMP%]:not(.expanded)   .card-expanded[_ngcontent-%COMP%]{display:none}.card-compact[_ngcontent-%COMP%]{padding:12px 16px}.card-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:200px 240px 1fr 80px;gap:16px;align-items:center;margin-bottom:8px}@media (max-width: 1200px){.card-header[_ngcontent-%COMP%]{grid-template-columns:180px 220px 1fr 80px}}@media (max-width: 968px){.card-header[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px;text-align:center}}.exotic-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;min-width:0;justify-self:start;max-width:200px}@media (max-width: 968px){.exotic-section[_ngcontent-%COMP%]{justify-self:center;max-width:180px}}@media (max-width: 480px){.exotic-section[_ngcontent-%COMP%]{max-width:150px}}.exotic-section[_ngcontent-%COMP%]   .exotic-icon[_ngcontent-%COMP%]{flex-shrink:0}.exotic-section[_ngcontent-%COMP%]   .exotic-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:4px}.exotic-section[_ngcontent-%COMP%]   .exotic-name[_ngcontent-%COMP%]{font-weight:500;color:#ffa726;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:14px;min-width:0;flex:1}.stats-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);gap:8px;min-width:240px;justify-self:center}@media (max-width: 968px){.stats-section[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);min-width:180px}}@media (max-width: 480px){.stats-section[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);min-width:120px}}.stat-item-compact[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2px;padding:4px;background:rgba(255,255,255,.03);border-radius:4px;min-width:35px}.stat-item-compact[_ngcontent-%COMP%]   .stat-icon-compact[_ngcontent-%COMP%]{width:16px;height:16px;flex-shrink:0}.stat-item-compact[_ngcontent-%COMP%]   .stat-value-compact[_ngcontent-%COMP%]{font-weight:500;font-size:12px;line-height:1}.mods-section[_ngcontent-%COMP%]{justify-self:center}@media (max-width: 968px){.mods-section[_ngcontent-%COMP%]{order:3}}.tiers-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;justify-self:end;min-width:60px}@media (max-width: 968px){.tiers-section[_ngcontent-%COMP%]{justify-self:center;order:4}}.tiers-section[_ngcontent-%COMP%]   .total-stats[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#4caf50;line-height:1}.tiers-section[_ngcontent-%COMP%]   .tiers-label[_ngcontent-%COMP%]{font-size:11px;color:#999;text-transform:uppercase;line-height:1}.sources-row[_ngcontent-%COMP%]{margin-top:8px}.sources-row[_ngcontent-%COMP%]   mat-chip-listbox[_ngcontent-%COMP%]   mat-chip-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px}.card-expanded[_ngcontent-%COMP%]{padding:24px}.expanded-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:150px 1fr;gap:20px}@media (max-width: 768px){.expanded-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}.left-summary[_ngcontent-%COMP%]   .exotic-section-expanded[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.left-summary[_ngcontent-%COMP%]   .exotic-section-expanded[_ngcontent-%COMP%]   .exotic-img-large[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:6px;flex-shrink:0}.left-summary[_ngcontent-%COMP%]   .exotic-section-expanded[_ngcontent-%COMP%]   .exotic-info[_ngcontent-%COMP%]{min-width:0;flex:1}.left-summary[_ngcontent-%COMP%]   .exotic-section-expanded[_ngcontent-%COMP%]   .exotic-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;color:#ffa726;font-size:16px;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.left-summary[_ngcontent-%COMP%]   .exotic-section-expanded[_ngcontent-%COMP%]   .exotic-info[_ngcontent-%COMP%]   .total-stats-large[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#4caf50}.left-summary[_ngcontent-%COMP%]   .mods-section-expanded[_ngcontent-%COMP%]{margin-bottom:16px}.left-summary[_ngcontent-%COMP%]   .mods-section-expanded[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;color:#ccc}.left-summary[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;font-size:14px;color:#ccc}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:6px}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.stat-item-large[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px;background:rgba(255,255,255,.05);border-radius:4px}.stat-item-large[_ngcontent-%COMP%]   .stat-icon-large[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0}.stat-item-large[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value-large[_ngcontent-%COMP%]{display:block;font-weight:700;font-size:16px;line-height:1.1}.stat-item-large[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-tier-large[_ngcontent-%COMP%]{font-size:11px;color:#999;line-height:1}.right-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;color:#ccc}.armor-table[_ngcontent-%COMP%]{background:rgba(255,255,255,.02);border-radius:6px;overflow:hidden;margin-bottom:24px}.breakdown-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.breakdown-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 8px;text-align:center;font-size:12px;font-weight:500;color:#999;text-transform:uppercase;background:rgba(255,255,255,.05);border-bottom:1px solid rgba(255,255,255,.1)}.breakdown-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:center;font-size:14px;border-bottom:1px solid rgba(255,255,255,.05)}.breakdown-table[_ngcontent-%COMP%]   td.item-name[_ngcontent-%COMP%]{text-align:left;min-width:120px;max-width:160px;width:140px}.breakdown-table[_ngcontent-%COMP%]   .armor-row[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.05)}.breakdown-table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{background:rgba(76,175,80,.1);border:1px solid rgba(76,175,80,.3)}.breakdown-table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .expandable-row[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s ease}.breakdown-table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .expandable-row[_ngcontent-%COMP%]:hover{background:rgba(76,175,80,.2)}.breakdown-table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .expandable-row[_ngcontent-%COMP%]   .expandable-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.breakdown-table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .expandable-row[_ngcontent-%COMP%]   .expandable-content[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;transition:transform .2s ease}.breakdown-table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .expandable-row.expanded[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.breakdown-table[_ngcontent-%COMP%]   .config-row[_ngcontent-%COMP%]{background:rgba(33,150,243,.1);border:1px solid rgba(33,150,243,.3)}.breakdown-table[_ngcontent-%COMP%]   .minor-mods-row[_ngcontent-%COMP%], .breakdown-table[_ngcontent-%COMP%]   .major-mods-row[_ngcontent-%COMP%], .breakdown-table[_ngcontent-%COMP%]   .artifice-mods-row[_ngcontent-%COMP%], .breakdown-table[_ngcontent-%COMP%]   .tuning-row[_ngcontent-%COMP%]{background:rgba(255,193,7,.1);border:1px solid rgba(255,193,7,.3)}.breakdown-table[_ngcontent-%COMP%]   .final-total-row[_ngcontent-%COMP%]{background:rgba(156,39,176,.1);border:1px solid rgba(156,39,176,.3);font-weight:700}.breakdown-table[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{text-align:left!important}.breakdown-table[_ngcontent-%COMP%]   .positive[_ngcontent-%COMP%]{color:#4caf50}.breakdown-table[_ngcontent-%COMP%]   .negative[_ngcontent-%COMP%]{color:#f44336}.item-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:0}.item-info[_ngcontent-%COMP%]   .small-item-icon[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0;border-radius:4px;border:1px solid #444}.item-info[_ngcontent-%COMP%]   .item-name-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0;flex:1}.item-info[_ngcontent-%COMP%]   .masterwork-level[_ngcontent-%COMP%]{font-size:10px;padding:1px 4px;border-radius:2px;font-weight:700;white-space:nowrap;flex-shrink:0;margin-left:4px}.item-info[_ngcontent-%COMP%]   .masterwork-level.armor-v3[_ngcontent-%COMP%]{background:rgba(255,193,7,.8);color:#000;border:1px solid rgba(255,193,7,.6)}.item-info[_ngcontent-%COMP%]   .masterwork-level.armor-v3.fully-masterworked[_ngcontent-%COMP%]{background:rgba(255,215,0,.9);color:#000;border:1px solid #ffd700;box-shadow:0 0 4px #ffd70080}.item-info[_ngcontent-%COMP%]   .masterwork-level.armor-legacy[_ngcontent-%COMP%]{background:rgba(255,193,7,.6);color:#000;border:1px solid rgba(255,193,7,.4)}.item-info[_ngcontent-%COMP%]   .socket-container[_ngcontent-%COMP%]{position:relative;margin-left:4px;flex-shrink:0}.item-info[_ngcontent-%COMP%]   .socket-container[_ngcontent-%COMP%]   app-armor-perk-icon[_ngcontent-%COMP%]{width:16px;height:16px;position:relative;top:0;left:0}.item-info[_ngcontent-%COMP%]   .transfer-state-indicators[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;margin-left:auto;flex-shrink:0}.item-info[_ngcontent-%COMP%]   .transfer-state-indicators[_ngcontent-%COMP%]   .transfer-spinner[_ngcontent-%COMP%]{width:16px!important;height:16px!important}.item-info[_ngcontent-%COMP%]   .transfer-state-indicators[_ngcontent-%COMP%]   .transfer-success[_ngcontent-%COMP%]{color:#4caf50;font-size:16px;width:16px;height:16px;line-height:1}.item-info[_ngcontent-%COMP%]   .transfer-state-indicators[_ngcontent-%COMP%]   .transfer-error[_ngcontent-%COMP%], .item-info[_ngcontent-%COMP%]   .transfer-state-indicators[_ngcontent-%COMP%]   .transfer-bug-warning[_ngcontent-%COMP%]{color:#f44336;font-size:16px;width:16px;height:16px;line-height:1}.item-info[_ngcontent-%COMP%]   .transfer-state-indicators[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.card-actions[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;min-width:140px}@media (max-width: 480px){.card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:auto}}.loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:16px;padding:24px;color:#999}.no-results[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 24px;text-align:center;color:#999}.no-results[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px;opacity:.6}.no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:20px}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.hidden[_ngcontent-%COMP%]{display:none!important}.stat-summary-cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:6px}"]})}}return o})();function Bc(o,r){1&o&&(t.j41(0,"th",29),t.EFF(1,"Weapon "),t.k0s())}function Yc(o,r){if(1&o&&(t.j41(0,"td",30),t.EFF(1),t.nrm(2,"app-stat-icon",31),t.k0s()),2&o){const e=r.$implicit,n=t.XpG();t.R7$(1),t.SpI("",e.stats[n.ArmorStat.StatWeapon]," "),t.R7$(1),t.Y8G("stat",n.ArmorStat.StatWeapon)}}function Lc(o,r){1&o&&(t.j41(0,"th",32),t.EFF(1," Health "),t.k0s())}function Hc(o,r){if(1&o&&(t.j41(0,"td",30),t.EFF(1),t.nrm(2,"app-stat-icon",31),t.k0s()),2&o){const e=r.$implicit,n=t.XpG();t.R7$(1),t.SpI("",e.stats[n.ArmorStat.StatHealth]," "),t.R7$(1),t.Y8G("stat",n.ArmorStat.StatHealth)}}function Uc(o,r){1&o&&(t.j41(0,"th",33),t.EFF(1," Class "),t.k0s())}function zc(o,r){if(1&o&&(t.j41(0,"td",30),t.EFF(1),t.nrm(2,"app-stat-icon",31),t.k0s()),2&o){const e=r.$implicit,n=t.XpG();t.R7$(1),t.SpI("",e.stats[n.ArmorStat.StatClass]," "),t.R7$(1),t.Y8G("stat",n.ArmorStat.StatClass)}}function Xc(o,r){1&o&&(t.j41(0,"th",34),t.EFF(1," Grenade "),t.k0s())}function Wc(o,r){if(1&o&&(t.j41(0,"td",30),t.EFF(1),t.nrm(2,"app-stat-icon",31),t.k0s()),2&o){const e=r.$implicit,n=t.XpG();t.R7$(1),t.SpI("",e.stats[n.ArmorStat.StatGrenade]," "),t.R7$(1),t.Y8G("stat",n.ArmorStat.StatGrenade)}}function qc(o,r){1&o&&(t.j41(0,"th",35),t.EFF(1," Super "),t.k0s())}function Jc(o,r){if(1&o&&(t.j41(0,"td",30),t.EFF(1),t.nrm(2,"app-stat-icon",31),t.k0s()),2&o){const e=r.$implicit,n=t.XpG();t.R7$(1),t.SpI("",e.stats[n.ArmorStat.StatSuper]," "),t.R7$(1),t.Y8G("stat",n.ArmorStat.StatSuper)}}function Kc(o,r){1&o&&(t.j41(0,"th",36),t.EFF(1,"Melee "),t.k0s())}function Qc(o,r){if(1&o&&(t.j41(0,"td",30),t.EFF(1),t.nrm(2,"app-stat-icon",31),t.k0s()),2&o){const e=r.$implicit,n=t.XpG();t.R7$(1),t.SpI("",e.stats[n.ArmorStat.StatMelee]," "),t.R7$(1),t.Y8G("stat",n.ArmorStat.StatMelee)}}function Zc(o,r){1&o&&(t.j41(0,"th",37),t.EFF(1," Used Mods "),t.k0s())}function tl(o,r){if(1&o&&(t.j41(0,"td",38),t.nrm(1,"app-table-mod-display",39),t.k0s()),2&o){const e=r.$implicit;t.R7$(1),t.Y8G("mods",e.mods)("artifice",e.artifice)}}function el(o,r){1&o&&(t.j41(0,"th",40),t.EFF(1,"Exotic"),t.k0s())}function nl(o,r){if(1&o&&t.nrm(0,"img",45,46),2&o){const e=t.XpG().$implicit;t.FS9("matTooltip",e.exotic.name),t.Mz_("src","https://bungie.net/",e.exotic.icon,"",t.B4B)}}function ol(o,r){if(1&o&&t.nrm(0,"img",47),2&o){const e=t.XpG().$implicit;t.Mz_("src","https://bungie.net/",e.exotic.watermark,"",t.B4B)}}function il(o,r){1&o&&t.nrm(0,"img",48)}function al(o,r){if(1&o&&(t.j41(0,"td",38)(1,"div",41),t.DNE(2,nl,2,2,"img",42),t.DNE(3,ol,1,1,"img",43),t.DNE(4,il,1,0,"img",44),t.k0s()()),2&o){const e=r.$implicit;t.R7$(2),t.Y8G("ngIf",void 0!==e.exotic),t.R7$(1),t.Y8G("ngIf",void 0!==e.exotic),t.R7$(1),t.Y8G("ngIf",void 0===e.exotic)}}function rl(o,r){1&o&&(t.j41(0,"th",49),t.EFF(1,"Sources"),t.k0s())}function sl(o,r){1&o&&t.nrm(0,"img",53)}function cl(o,r){1&o&&t.nrm(0,"img",54)}function ll(o,r){if(1&o&&(t.j41(0,"td",38)(1,"span",50),t.DNE(2,sl,1,0,"img",51),t.DNE(3,cl,1,0,"img",52),t.k0s()()),2&o){const e=r.$implicit;t.R7$(2),t.Y8G("ngIf",!!e.usesCollectionRoll),t.R7$(1),t.Y8G("ngIf",!!e.usesVendorRoll)}}function dl(o,r){1&o&&t.nrm(0,"th",49)}function ml(o,r){1&o&&(t.j41(0,"mat-icon",57),t.EFF(1," expand_more "),t.k0s())}function pl(o,r){1&o&&(t.j41(0,"mat-icon",58),t.EFF(1," expand_less "),t.k0s())}function ul(o,r){if(1&o&&(t.j41(0,"td",38),t.DNE(1,ml,2,0,"mat-icon",55),t.DNE(2,pl,2,0,"mat-icon",56),t.k0s()),2&o){const e=r.$implicit,n=t.XpG();t.R7$(1),t.Y8G("ngIf",!n.isElementExpanded(e)),t.R7$(1),t.Y8G("ngIf",n.isElementExpanded(e))}}function gl(o,r){1&o&&(t.j41(0,"th",59),t.EFF(1,"Total "),t.k0s())}function hl(o,r){if(1&o&&(t.j41(0,"td",38),t.EFF(1),t.k0s()),2&o){const e=r.$implicit,n=t.XpG();t.R7$(1),t.SpI(" ",n.getTotalStats(e)," ")}}function fl(o,r){if(1&o&&t.nrm(0,"app-expanded-result-content",62),2&o){const e=t.XpG().$implicit;t.Y8G("element",e)}}function _l(o,r){if(1&o&&(t.j41(0,"td",38)(1,"div",60),t.DNE(2,fl,1,1,"app-expanded-result-content",61),t.k0s()()),2&o){const e=r.$implicit,n=t.XpG();t.BMQ("colspan",n.shownColumns.length),t.R7$(1),t.Y8G("@detailExpand",n.isElementExpanded(e)?"expanded":"collapsed"),t.R7$(1),t.Y8G("ngIf",n.isElementExpanded(e))}}function yl(o,r){1&o&&t.nrm(0,"tr",63)}function bl(o,r){if(1&o){const e=t.RV6();t.j41(0,"tr",64),t.bIt("click",function(){const a=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.toggleElement(a))}),t.k0s()}if(2&o){const e=r.$implicit,n=t.XpG();t.AVh("example-expanded-row",n.isElementExpanded(e))}}function Cl(o,r){1&o&&t.nrm(0,"tr",65)}const vl=function(){return["expandedDetail"]},xl=function(){return[25,50,75,100]};let bn=(()=>{class o{constructor(e,n,i){this.configService=e,this.logger=n,this.cdr=i,this.ArmorStat=d.uD,this.results=[],this.tableDataSource=new it.I6,this.paginator=null,this.sort=null,this.expandedElement=null,this.expandedElementId=null,this.shownColumns=["exotic","health","melee","grenade","super","class","weapon","total","mods","dropdown"],this.totalStatsCache=new Map,this.MAX_INITIAL_RESULTS=200,this.displayedResults=[],this.showAllResults=!1,this.ngUnsubscribe=new G.B7,this.logger.debug("ResultsTableViewComponent","constructor","Component constructed")}ngOnInit(){this.expandedElement=null,this.expandedElementId=null,this.setupTableSorting(),this.configService.configuration.pipe((0,x.Q)(this.ngUnsubscribe)).subscribe(e=>{this.updateShownColumns(e)})}ngAfterViewInit(){this.paginator&&(this.tableDataSource.paginator=this.paginator),this.sort&&(this.tableDataSource.sort=this.sort),this.results&&this.results.length>0&&this.updateTableData()}ngOnChanges(e){e.results&&this.results&&(this.expandedElement=null,this.expandedElementId=null,this.updateTableData(),this.cdr.markForCheck())}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}setupTableSorting(){this.tableDataSource.sortingDataAccessor=(e,n)=>{switch(n){case"Weapon":return e.stats[d.uD.StatWeapon];case"Health":return e.stats[d.uD.StatHealth];case"Class":return e.stats[d.uD.StatClass];case"Grenade":return e.stats[d.uD.StatGrenade];case"Super":return e.stats[d.uD.StatSuper];case"Melee":return e.stats[d.uD.StatMelee];case"Tiers":return e.tiers;case"Total":return e.stats.reduce((i,a)=>i+a,0);case"Mods":return 100*e.modCount+e.modCost}return 0}}updateShownColumns(e){let n=["exotic","health","melee","grenade","super","class","weapon","total","mods"];(e.includeVendorRolls||e.includeCollectionRolls)&&n.push("source"),n.push("dropdown"),this.shownColumns=n}updateTableData(){var e=this;return(0,_.A)(function*(){e.logger.info("ResultsTableViewComponent","updateData","Table total results: "+e.results.length);const n=performance.now();e.totalStatsCache.clear(),e.expandedElement=null,e.expandedElementId=null,e.displayedResults=e.showAllResults?e.results:e.results.slice(0,e.MAX_INITIAL_RESULTS),e.tableDataSource.data=e.displayedResults,e.paginator&&(e.tableDataSource.paginator=e.paginator,e.paginator.firstPage()),e.sort&&(e.tableDataSource.sort=e.sort),setTimeout(()=>{e.initializeTableSorting(),e.cdr.markForCheck()},0);const i=performance.now();e.logger.info("ResultsTableViewComponent","updateData",`Update Table Data took ${i-n} ms`),e.cdr.markForCheck()})()}getTotalStats(e){const n=e.stats.join("-");if(!this.totalStatsCache.has(n)){const i=e.stats.reduce((a,s)=>a+s,0);this.totalStatsCache.set(n,i)}return this.totalStatsCache.get(n)}showAllRows(){this.showAllResults=!0,this.displayedResults=this.results,this.tableDataSource.data=this.displayedResults,this.expandedElement=null,this.expandedElementId=null,this.paginator&&(this.tableDataSource.paginator=this.paginator,this.paginator.firstPage()),this.cdr.markForCheck()}get hasMoreResults(){return!this.showAllResults&&this.results.length>this.MAX_INITIAL_RESULTS}trackByResult(e,n){return n.stats.join("-")+n.mods.join("-")+(n.exotic?.hash||"none")}trackByExpandedResult(e,n){return"expanded-"+n.stats.join("-")+n.mods.join("-")+(n.exotic?.hash||"none")}getResultId(e){return e.stats.join("-")+"-"+e.mods.join("-")+"-"+(e.exotic?.hash||"none")}isElementExpanded(e){const n=this.getResultId(e);return this.expandedElementId===n}toggleElement(e){const n=this.getResultId(e);this.expandedElementId===n?(this.expandedElement=null,this.expandedElementId=null):(this.expandedElement=e,this.expandedElementId=n)}initializeTableSorting(){this.sort&&this.tableDataSource&&(this.tableDataSource.sort=this.sort,this.sort.active&&this.sort.sortChange.emit({active:this.sort.active,direction:this.sort.direction}))}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(E),t.rXU(Q.so),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-results-table-view"]],viewQuery:function(n,i){if(1&n&&(t.GBs(Ne.iy,5),t.GBs(Pe.B4,5)),2&n){let a;t.mGM(a=t.lsd())&&(i.paginator=a.first),t.mGM(a=t.lsd())&&(i.sort=a.first)}},inputs:{results:"results"},features:[t.OA$],decls:40,vars:7,consts:[["mat-table","","matSort","","matSortActive","Mods","matSortDirection","asc","multiTemplateDataRows","",1,"result-table",3,"dataSource"],["matColumnDef","weapon"],["mat-header-cell","","mat-sort-header","Weapon","matTooltip","The weapon Stat of this armor combination.",4,"matHeaderCellDef"],["class","statColumn","mat-cell","",4,"matCellDef"],["matColumnDef","health"],["mat-header-cell","","mat-sort-header","Health","matTooltip","The  stat of this armor combination.",4,"matHeaderCellDef"],["matColumnDef","class"],["mat-header-cell","","mat-sort-header","Class","matTooltip","The class stat of this armor combination.",4,"matHeaderCellDef"],["matColumnDef","grenade"],["mat-header-cell","","mat-sort-header","Grenade","matTooltip","The grenade stat of this armor combination.",4,"matHeaderCellDef"],["matColumnDef","super"],["mat-header-cell","","mat-sort-header","Super","matTooltip","The super stat of this armor combination.",4,"matHeaderCellDef"],["matColumnDef","melee"],["mat-header-cell","","mat-sort-header","Melee","matTooltip","The melee stat of this armor combination.",4,"matHeaderCellDef"],["matColumnDef","mods"],["mat-header-cell","","mat-sort-header","Mods","matTooltip","The amount of mods required for each combination. Sorting after this takes the mod cost into account.",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","exotic"],["mat-header-cell","","style","text-align: center",4,"matHeaderCellDef"],["matColumnDef","source"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","dropdown"],["matColumnDef","total"],["mat-header-cell","","mat-sort-header","Total","matTooltip","The total sum of all stats in this armor combination.",4,"matHeaderCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["class","result-element-row","mat-row","",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["class","result-detail-row","mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of periodic elements","pageSize","25","showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","Weapon","matTooltip","The weapon Stat of this armor combination."],["mat-cell","",1,"statColumn"],[1,"statIcon",3,"stat"],["mat-header-cell","","mat-sort-header","Health","matTooltip","The  stat of this armor combination."],["mat-header-cell","","mat-sort-header","Class","matTooltip","The class stat of this armor combination."],["mat-header-cell","","mat-sort-header","Grenade","matTooltip","The grenade stat of this armor combination."],["mat-header-cell","","mat-sort-header","Super","matTooltip","The super stat of this armor combination."],["mat-header-cell","","mat-sort-header","Melee","matTooltip","The melee stat of this armor combination."],["mat-header-cell","","mat-sort-header","Mods","matTooltip","The amount of mods required for each combination. Sorting after this takes the mod cost into account."],["mat-cell",""],[1,"modPreview",3,"mods","artifice"],["mat-header-cell","",2,"text-align","center"],[1,"itemDiv"],["class","itemIcon","loading","lazy",3,"matTooltip","src",4,"ngIf"],["class","itemIconWatermark","loading","lazy",3,"src",4,"ngIf"],["class","itemIcon","loading","lazy","src","https://www.bungie.net/common/destiny2_content/icons/b4d05ef69d0c3227a7d4f7f35bbc2848.png",4,"ngIf"],["loading","lazy",1,"itemIcon",3,"matTooltip","src"],["tooltip","matTooltip"],["loading","lazy",1,"itemIconWatermark",3,"src"],["loading","lazy","src","https://www.bungie.net/common/destiny2_content/icons/b4d05ef69d0c3227a7d4f7f35bbc2848.png",1,"itemIcon"],["mat-header-cell",""],[1,"source-column"],["matTooltip","This build uses a collection exotic. You have to collect it before you can use it.","class","collectionIcon","src","https://www.bungie.net/common/destiny2_content/icons/1d01287dd47af97fef16fa6acbac23ba.png",4,"ngIf"],["matTooltip","This build uses a vendor item. You have to collect it before you can use it.","class","vendorIcon","src","https://www.bungie.net/common/destiny2_content/icons/8ef4b5bd32277dba9aee7c368404ad5d.jpg",4,"ngIf"],["matTooltip","This build uses a collection exotic. You have to collect it before you can use it.","src","https://www.bungie.net/common/destiny2_content/icons/1d01287dd47af97fef16fa6acbac23ba.png",1,"collectionIcon"],["matTooltip","This build uses a vendor item. You have to collect it before you can use it.","src","https://www.bungie.net/common/destiny2_content/icons/8ef4b5bd32277dba9aee7c368404ad5d.jpg",1,"vendorIcon"],["matTooltip","Click to show details for this build.",4,"ngIf"],["matTooltip","Click to hide details for this build.",4,"ngIf"],["matTooltip","Click to show details for this build."],["matTooltip","Click to hide details for this build."],["mat-header-cell","","mat-sort-header","Total","matTooltip","The total sum of all stats in this armor combination."],[1,"result-element-detail"],[3,"element",4,"ngIf"],[3,"element"],["mat-header-row",""],["mat-row","",1,"result-element-row",3,"click"],["mat-row","",1,"result-detail-row"]],template:function(n,i){1&n&&(t.j41(0,"table",0),t.qex(1,1),t.DNE(2,Bc,2,0,"th",2),t.DNE(3,Yc,3,2,"td",3),t.bVm(),t.qex(4,4),t.DNE(5,Lc,2,0,"th",5),t.DNE(6,Hc,3,2,"td",3),t.bVm(),t.qex(7,6),t.DNE(8,Uc,2,0,"th",7),t.DNE(9,zc,3,2,"td",3),t.bVm(),t.qex(10,8),t.DNE(11,Xc,2,0,"th",9),t.DNE(12,Wc,3,2,"td",3),t.bVm(),t.qex(13,10),t.DNE(14,qc,2,0,"th",11),t.DNE(15,Jc,3,2,"td",3),t.bVm(),t.qex(16,12),t.DNE(17,Kc,2,0,"th",13),t.DNE(18,Qc,3,2,"td",3),t.bVm(),t.qex(19,14),t.DNE(20,Zc,2,0,"th",15),t.DNE(21,tl,2,2,"td",16),t.bVm(),t.qex(22,17),t.DNE(23,el,2,0,"th",18),t.DNE(24,al,5,3,"td",16),t.bVm(),t.qex(25,19),t.DNE(26,rl,2,0,"th",20),t.DNE(27,ll,4,2,"td",16),t.bVm(),t.qex(28,21),t.DNE(29,dl,1,0,"th",20),t.DNE(30,ul,3,2,"td",16),t.bVm(),t.qex(31,22),t.DNE(32,gl,2,0,"th",23),t.DNE(33,hl,2,1,"td",16),t.bVm(),t.qex(34,24),t.DNE(35,_l,3,3,"td",16),t.bVm(),t.DNE(36,yl,1,0,"tr",25),t.DNE(37,bl,1,2,"tr",26),t.DNE(38,Cl,1,0,"tr",27),t.k0s(),t.nrm(39,"mat-paginator",28)),2&n&&(t.Y8G("dataSource",i.tableDataSource),t.R7$(36),t.Y8G("matHeaderRowDef",i.shownColumns),t.R7$(1),t.Y8G("matRowDefColumns",i.shownColumns),t.R7$(1),t.Y8G("matRowDefColumns",t.lJ4(5,vl)),t.R7$(1),t.Y8G("pageSizeOptions",t.lJ4(6,xl)))},styles:[".result-table[_ngcontent-%COMP%]{--mat-table-header-container-height: 38px !important;--mat-table-row-item-container-height: 32px !important}.result-element-row[_ngcontent-%COMP%] > .cdk-cell[_ngcontent-%COMP%]{padding-block:5px}.mdc-data-table__cell[_ngcontent-%COMP%], .mdc-data-table__header-cell[_ngcontent-%COMP%]{padding:0}.statColumn[_ngcontent-%COMP%]{position:relative}.statIcon[_ngcontent-%COMP%]{position:absolute;height:22px;margin-left:2px;top:8px}.itemDiv[_ngcontent-%COMP%]{display:flex;margin:auto;width:32px;height:32px}.itemIcon[_ngcontent-%COMP%]{width:inherit;height:inherit;position:absolute}.itemIconWatermark[_ngcontent-%COMP%]{width:inherit;height:inherit;pointer-events:none;position:relative}.source-column[_ngcontent-%COMP%]{float:left}.source-column[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-of-type(2){margin-top:5px;margin-bottom:-3px}.collectionIcon[_ngcontent-%COMP%], .vendorIcon[_ngcontent-%COMP%]{width:32px;margin-left:3px;display:block}tr.result-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}tr.result-detail-row[_ngcontent-%COMP%]{height:0!important}.result-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex;align-items:center;flex-direction:column}.result-table[_ngcontent-%COMP%]   tr.result-element-row[_ngcontent-%COMP%]{cursor:pointer}.mat-row[_ngcontent-%COMP%]:nth-child(4n+3){background-color:#7474741a}.cdk-column-exotic[_ngcontent-%COMP%]{min-width:65px}.cdk-column-waste[_ngcontent-%COMP%]{padding-left:5px}"],data:{animation:[(0,Et.hZ)("detailExpand",[(0,Et.wk)("collapsed, void",(0,Et.iF)({height:"0px"})),(0,Et.wk)("expanded",(0,Et.iF)({height:"*"})),(0,Et.kY)("expanded <=> collapsed",(0,Et.i0)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)")),(0,Et.kY)("expanded <=> void",(0,Et.i0)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]},changeDetection:0})}}return o})();function Sl(o,r){if(1&o&&t.nrm(0,"img",12),2&o){const e=t.XpG().ngVar;t.Mz_("alt","",e.perk.displayProperties.name," icon"),t.Y8G("src","https://bungie.net/"+e.perk.displayProperties.icon,t.B4B)}}function kl(o,r){if(1&o){const e=t.RV6();t.j41(0,"div",7),t.bIt("click",function(){t.eBV(e);const i=t.XpG().index,a=t.XpG();return t.Njj(a.onTwoPieceBonusChange(i))}),t.nrm(1,"mat-slide-toggle",8),t.j41(2,"span",9),t.DNE(3,Sl,1,2,"img",10),t.k0s(),t.j41(4,"span",11),t.EFF(5),t.k0s()()}if(2&o){const e=r.ngVar,n=t.XpG().index,i=t.XpG();t.AVh("disabled",!e.available),t.Y8G("gearsetTooltip",e.perk),t.R7$(1),t.Y8G("id","two-piece-"+n)("checked",e.enabled)("disabled",i.selectedTwoPieceCount>=2&&!e.enabled||!e.available),t.R7$(2),t.Y8G("ngIf",e.perk.displayProperties.hasIcon),t.R7$(2),t.JRh(e.perk.displayProperties.name)}}function wl(o,r){if(1&o&&t.nrm(0,"img",12),2&o){const e=t.XpG().ngVar;t.Mz_("alt","",e.perk.displayProperties.name," icon"),t.Y8G("src","https://bungie.net/"+e.perk.displayProperties.icon,t.B4B)}}function Ml(o,r){if(1&o){const e=t.RV6();t.j41(0,"div",7),t.bIt("click",function(){t.eBV(e);const i=t.XpG().index,a=t.XpG();return t.Njj(a.onFourPieceBonusChange(i))}),t.nrm(1,"mat-slide-toggle",8),t.j41(2,"span",9),t.DNE(3,wl,1,2,"img",10),t.k0s(),t.j41(4,"span",11),t.EFF(5),t.k0s()()}if(2&o){const e=r.ngVar,n=t.XpG().index;t.AVh("disabled",!e.available),t.Y8G("gearsetTooltip",e.perk),t.R7$(1),t.Y8G("id","four-piece-"+n)("checked",e.enabled)("disabled",!e.available),t.R7$(2),t.Y8G("ngIf",e.perk.displayProperties.hasIcon),t.R7$(2),t.JRh(e.perk.displayProperties.name)}}function El(o,r){if(1&o&&(t.j41(0,"tr")(1,"td",2),t.EFF(2),t.k0s(),t.j41(3,"td",3),t.DNE(4,kl,6,8,"div",6),t.k0s(),t.j41(5,"td",4),t.DNE(6,Ml,6,8,"div",6),t.k0s()()),2&o){const e=r.$implicit;t.R7$(2),t.SpI(" ",e.name," "),t.R7$(2),t.Y8G("ngVar",e.twoPieceBonus),t.R7$(2),t.Y8G("ngVar",e.fourPieceBonus)}}let Cn=(()=>{class o{constructor(e,n,i,a){this.inventoryService=e,this.db=n,this.config=i,this.logger=a,this.refreshingGearsets=!1,this.gearSets=[],this.ngUnsubscribe=new G.B7}ngOnInit(){var e=this;this.inventoryService.inventory.pipe((0,x.Q)(this.ngUnsubscribe)).subscribe((0,_.A)(function*(){yield e.refreshGearSets(),yield e.refreshGearsetAvailability()})),this.config.configuration.pipe((0,x.Q)(this.ngUnsubscribe),(0,at.F)((n,i)=>n.characterClass===i.characterClass)).subscribe((0,_.A)(function*(){yield e.refreshGearSets(),yield e.refreshGearsetAvailability()}))}refreshGearsetAvailability(){var e=this;return(0,_.A)(function*(){if(e.logger.debug("GearsetSelectionComponent","refreshGearsetAvailability","Refreshing gear set availability"),0===e.gearSets.length)return;const n=e.config.readonlyConfigurationSnapshot.characterClass;for(const i of e.gearSets){const a=yield e.db.inventoryArmor.where({clazz:n,gearSetHash:i.hash}).toArray(),s=new Set(a.map(l=>l.slot));i.twoPieceBonus.available=s.size>=2,i.fourPieceBonus.available=s.size>=4,i.twoPieceBonus.available||(i.twoPieceBonus.enabled=!1),i.fourPieceBonus.available||(i.fourPieceBonus.enabled=!1)}e.updateConfiguration()})()}refreshGearSets(){var e=this;return(0,_.A)(function*(){if(e.refreshingGearsets)return;e.refreshingGearsets=!0;const n=yield e.db.equipableItemSetDefinition.toArray();n.sort((i,a)=>{const s=i.displayProperties.name?.toLowerCase()||"",l=a.displayProperties.name?.toLowerCase()||"";return s.localeCompare(l)});for(const i of n){if(e.gearSets.some(S=>S.hash===i.hash))continue;const a=i.setPerks.find(S=>2==S.requiredSetCount)?.sandboxPerkHash||0,s=yield e.db.sandboxPerkDefinition.where({hash:a}).first(),l=i.setPerks.find(S=>4==S.requiredSetCount)?.sandboxPerkHash||0,m=yield e.db.sandboxPerkDefinition.where({hash:l}).first(),p=e.config.readonlyConfigurationSnapshot.armorRequirements.filter(S=>"gearSetHash"in S&&S.gearSetHash===i.hash).length,f={name:i.displayProperties.name||"Unknown Gear Set",hash:i.hash,twoPieceBonus:{perk:s,enabled:2==p,available:!1},fourPieceBonus:{perk:m,enabled:4==p,available:!1}};let y=e.gearSets.findIndex(S=>S.name.localeCompare(f.name)>0);-1===y?e.gearSets.push(f):e.gearSets.splice(y,0,f)}e.refreshingGearsets=!1})()}get hasTwoPieceSelected(){return this.gearSets.some(e=>e.twoPieceBonus.enabled)}get selectedTwoPieceCount(){return this.gearSets.reduce((e,n)=>e+(n.twoPieceBonus.enabled?1:0),0)}onTwoPieceBonusChange(e,n){!1!==this.gearSets[e].twoPieceBonus.available?(void 0===n&&(n=!this.gearSets[e].twoPieceBonus.enabled),!(this.selectedTwoPieceCount>=2&&n)&&(this.gearSets[e].twoPieceBonus.enabled=n,this.selectedTwoPieceCount>0&&this.gearSets.forEach(i=>{i.fourPieceBonus.enabled=!1}),this.updateConfiguration())):this.gearSets[e].twoPieceBonus.enabled=!1}onFourPieceBonusChange(e,n){!1!==this.gearSets[e].fourPieceBonus.available?(void 0===n&&(n=!this.gearSets[e].fourPieceBonus.enabled),this.gearSets[e].fourPieceBonus.enabled=n,n&&this.gearSets.forEach((i,a)=>{i.twoPieceBonus.enabled=!1,a!==e&&(i.fourPieceBonus.enabled=!1)}),this.updateConfiguration()):this.gearSets[e].fourPieceBonus.enabled=!1}updateConfiguration(){this.config.modifyConfiguration(e=>{this.gearSets.forEach(i=>{e.armorRequirements=e.armorRequirements.filter(s=>!("gearSetHash"in s&&s.gearSetHash===i.hash));let a=0;i.twoPieceBonus.enabled?a=2:i.fourPieceBonus.enabled&&(a=4);for(let s=0;s<a;s++)e.armorRequirements.unshift({gearSetHash:i.hash})});let n=5;e.selectedExotics.length>0&&e.selectedExotics[0]!==T.Bi&&(n=4),e.armorRequirements=e.armorRequirements.slice(0,n)})}isFourPieceDisabled(){return this.hasTwoPieceSelected}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(Gt),t.rXU(It),t.rXU(E),t.rXU(Q.so))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-gearset-selection"]],decls:12,vars:1,consts:[[1,"gearset-selection-container"],[1,"gearset-table"],[1,"gear-set-name"],[1,"two-piece-bonuses"],[1,"four-piece-bonuses"],[4,"ngFor","ngForOf"],["class","bonus-toggle",3,"disabled","gearsetTooltip","click",4,"ngVar"],[1,"bonus-toggle",3,"gearsetTooltip","click"],["color","primary",3,"id","checked","disabled"],[1,"bonus-icon"],["loading","lazy","class","bonus-icon-image",3,"src","alt",4,"ngIf"],[1,"bonus-name"],["loading","lazy",1,"bonus-icon-image",3,"src","alt"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),t.EFF(5,"Gear Set"),t.k0s(),t.j41(6,"th",3),t.EFF(7,"2 Piece Bonuses"),t.k0s(),t.j41(8,"th",4),t.EFF(9,"4 Piece Bonuses"),t.k0s()()(),t.j41(10,"tbody"),t.DNE(11,El,7,3,"tr",5),t.k0s()()()),2&n&&(t.R7$(11),t.Y8G("ngForOf",i.gearSets))},styles:[".gearset-selection-container[_ngcontent-%COMP%]{margin-top:1rem;border-radius:8px}.gearset-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;border-radius:8px;overflow:hidden}.gearset-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gearset-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.95rem;padding:.2rem .3rem;text-align:left;color:#fff}.gearset-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:rgba(60,60,60,.8);font-weight:700!important;border-bottom:2px solid #888}.gearset-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.gearset-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]{background:rgba(60,60,60,.7)}.gearset-table[_ngcontent-%COMP%]   th.gear-set-name[_ngcontent-%COMP%], .gearset-table[_ngcontent-%COMP%]   td.gear-set-name[_ngcontent-%COMP%]{min-width:120px;font-weight:500}.gearset-table[_ngcontent-%COMP%]   th.two-piece-bonuses[_ngcontent-%COMP%], .gearset-table[_ngcontent-%COMP%]   td.two-piece-bonuses[_ngcontent-%COMP%]{border-left:2px solid #888;border-right:2px solid #888}.bonus-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;min-width:120px;margin-bottom:2px}.bonus-toggle.disabled[_ngcontent-%COMP%]   .bonus-name[_ngcontent-%COMP%]{color:#888}.bonus-name[_ngcontent-%COMP%]{font-size:.85rem;color:#fff}.bonus-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px}.bonus-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;display:block}"]})}}return o})();function Ol(o,r){if(1&o&&(t.j41(0,"tr")(1,"td",2),t.nrm(2,"img",3),t.k0s()()),2&o){const e=t.XpG();t.R7$(2),t.FS9("alt",e.gearset.displayProperties.name),t.Mz_("src","https://bungie.net/",e.gearset.displayProperties.icon,"",t.B4B)}}function Il(o,r){if(1&o&&(t.j41(0,"tr")(1,"td")(2,"span"),t.EFF(3),t.k0s()()()),2&o){const e=t.XpG();t.R7$(3),t.JRh(e.gearset.displayProperties.name)}}function Fl(o,r){if(1&o&&(t.j41(0,"tr")(1,"td",4),t.EFF(2),t.k0s()()),2&o){const e=t.XpG();t.R7$(2),t.SpI(" ",e.gearset.displayProperties.description," ")}}let Pl=(()=>{class o{constructor(e,n){this.inv=e,this.iconService=n}ngOnInit(){var e=this;return(0,_.A)(function*(){e.iconUrl=e.gearset?.displayProperties?.icon})()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(Gt),t.rXU($e))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-gearset-tooltip"]],inputs:{gearset:"gearset"},decls:6,vars:3,consts:[[1,"tooltip-container"],[4,"ngIf"],["rowspan","2",1,"perk-icon-col"],["loading","lazy",1,"perk-icon",3,"alt","src"],["colspan","2"]],template:function(n,i){1&n&&(t.j41(0,"div")(1,"div",0)(2,"table"),t.DNE(3,Ol,3,2,"tr",1),t.DNE(4,Il,4,1,"tr",1),t.DNE(5,Fl,3,1,"tr",1),t.k0s()()()),2&n&&(t.R7$(3),t.Y8G("ngIf",i.gearset),t.R7$(1),t.Y8G("ngIf",i.gearset),t.R7$(1),t.Y8G("ngIf",i.gearset))},dependencies:[R.bT],styles:["[_nghost-%COMP%]{width:350px}.tooltip-container[_ngcontent-%COMP%]{border:1px solid gray;padding:1px 5px 4px;background:linear-gradient(#484848 0px,#2c2c2c 100%)}.perk-icon[_ngcontent-%COMP%]{width:50px;height:50px}.perk-icon-col[_ngcontent-%COMP%]{width:55px}.exotic-name[_ngcontent-%COMP%]{color:#eedb9e}.collection-roll-info[_ngcontent-%COMP%]{color:#5cc3ec;font-size:12px;margin-top:5px}\n\n/*# sourceMappingURL=gearset-tooltip.component.css.map*/"]})}}return o})(),Tl=(()=>{class o{constructor(e,n,i){this._overlay=e,this._overlayPositionBuilder=n,this._elementRef=i,this.showToolTip=!0}ngOnInit(){if(!this.showToolTip)return;const e=this._overlayPositionBuilder.flexibleConnectedTo(this._elementRef).withPositions([{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:5},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-5}]);this._overlayRef=this._overlay.create({positionStrategy:e}),this._overlayRef.addPanelClass("overlay-no-pointer-event")}show(){this._overlayRef&&!this._overlayRef.hasAttached()&&(this._overlayRef.attach(new Ve.A8(Pl)).instance.gearset=this.gearsetTooltip)}hide(){this.closeToolTip()}ngOnDestroy(){this.closeToolTip()}closeToolTip(){this._overlayRef&&this._overlayRef.detach()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(ee.hJ),t.rXU(ee.lF),t.rXU(t.aKT))}}static{this.\u0275dir=t.FsC({type:o,selectors:[["","gearsetTooltip",""]],hostBindings:function(n,i){1&n&&t.bIt("mouseenter",function(){return i.show()})("mouseleave",function(){return i.hide()})},inputs:{showToolTip:"showToolTip",gearsetTooltip:"gearsetTooltip",contentTemplate:"contentTemplate"}})}}return o})();function Al(o,r){if(1&o&&(t.qex(0),t.nrm(1,"app-item-icon",10),t.bVm()),2&o){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("itemHash",e.hash)}}function Dl(o,r){if(1&o&&(t.qex(0),t.nrm(1,"img",11),t.bVm()),2&o){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("src","https://bungie.net/"+e.icon,t.B4B)("matTooltip",e.name||"")}}function Rl(o,r){1&o&&(t.j41(0,"div",15)(1,"span",16),t.EFF(2,"\u2716"),t.k0s()())}function jl(o,r){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"div",12),t.bIt("mouseenter",function(){t.eBV(e);const i=t.XpG().index,a=t.XpG();return t.Njj(a.hoveredPerkIndex=i)})("mouseleave",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.hoveredPerkIndex=null)})("click",function(){t.eBV(e);const i=t.XpG().$implicit,a=t.XpG();return t.Njj(a.removePerk(i))}),t.nrm(2,"app-item-icon",13),t.DNE(3,Rl,3,0,"div",14),t.k0s(),t.bVm()}if(2&o){const e=t.XpG(),n=e.$implicit,i=e.index,a=t.XpG();t.R7$(1),t.Y8G("matTooltip",a.getPerkName(n.hash)),t.R7$(1),t.Y8G("itemHash",n.hash),t.R7$(1),t.Y8G("ngIf",a.hoveredPerkIndex===i)}}function Gl(o,r){if(1&o){const e=t.RV6();t.j41(0,"button",24),t.bIt("click",function(){const a=t.eBV(e).$implicit,s=t.XpG(4).index,l=t.XpG();return t.Njj(l.onPerkSelect(s,a))}),t.j41(1,"span",20),t.nrm(2,"app-item-icon",25),t.j41(3,"span"),t.EFF(4),t.k0s()()()}if(2&o){const e=r.$implicit,n=t.XpG(5);t.R7$(2),t.Y8G("itemHash",e),t.R7$(2),t.JRh(n.getPerkName(e))}}function Vl(o,r){if(1&o&&(t.qex(0),t.j41(1,"button",19)(2,"span",20)(3,"mat-icon"),t.EFF(4,"add"),t.k0s()()(),t.j41(5,"mat-menu",21,22),t.DNE(7,Gl,5,2,"button",23),t.k0s(),t.bVm()),2&o){const e=t.sdS(6),n=t.XpG(4);t.R7$(1),t.Y8G("matMenuTriggerFor",e),t.R7$(6),t.Y8G("ngForOf",n.availablePerks)}}function $l(o,r){if(1&o&&(t.qex(0),t.DNE(1,Vl,8,2,"ng-container",18),t.bVm()),2&o){const e=t.XpG(2).index,n=t.XpG();t.R7$(1),t.Y8G("ngIf",e===n.firstEmptySlotIndex)}}function Nl(o,r){if(1&o&&(t.qex(0),t.nrm(1,"img",17),t.DNE(2,$l,2,1,"ng-container",18),t.bVm()),2&o){const e=t.XpG().$implicit,n=t.XpG();t.R7$(2),t.Y8G("ngIf",e.type===n.SlotType.SlotTypeEmpty)}}const Bl=function(o){return{blocked:o}};function Yl(o,r){if(1&o&&(t.qex(0),t.j41(1,"div",6),t.qex(2,7),t.DNE(3,Al,2,1,"ng-container",8),t.DNE(4,Dl,2,2,"ng-container",8),t.DNE(5,jl,4,3,"ng-container",8),t.DNE(6,Nl,3,1,"ng-container",9),t.bVm(),t.k0s(),t.bVm()),2&o){const e=r.$implicit,n=t.XpG();t.R7$(1),t.Y8G("ngClass",t.eq3(5,Bl,e.type!==n.SlotType.SlotTypeEmpty)),t.R7$(1),t.Y8G("ngSwitch",e.type),t.R7$(1),t.Y8G("ngSwitchCase",n.SlotType.SlotTypeExotic),t.R7$(1),t.Y8G("ngSwitchCase",n.SlotType.SlotTypeGearset),t.R7$(1),t.Y8G("ngSwitchCase",n.SlotType.SlotTypePerk)}}var ae=function(o){return o[o.SlotTypeEmpty=0]="SlotTypeEmpty",o[o.SlotTypeExotic=1]="SlotTypeExotic",o[o.SlotTypeGearset=2]="SlotTypeGearset",o[o.SlotTypePerk=3]="SlotTypePerk",o}(ae||{});let vn=(()=>{class o{constructor(e,n){this.configService=e,this.itemIconService=n,this.hoveredPerkIndex=null,this.SlotType=ae,this.slots=[],this.availablePerks=[],this.ngUnsubscribe=new G.B7}get firstEmptySlotIndex(){return this.slots.findIndex(e=>e.type===ae.SlotTypeEmpty)}ngOnInit(){var e=this;for(const n in[d.dm.SlotArtifice,d.dm.PerkOverflowingCorruption,d.dm.SlotEidosApprentice,d.dm.SlotSalvationsEdge,d.dm.SlotCrotasEnd,d.dm.SlotRootOfNightmares,d.dm.SlotKingsFall,d.dm.SlotVowOfTheDisciple,d.dm.SlotVaultOfGlass,d.dm.SlotDeepStoneCrypt,d.dm.SlotGardenOfSalvation,d.dm.SlotLastWish,d.dm.PerkEchoesOfGlory,d.dm.PerkIronBanner,d.dm.SlotNightmare])Object.prototype.hasOwnProperty.call(d.zJ,n)&&this.availablePerks.push(d.zJ[n]);this.availablePerks.sort((n,i)=>{const a=this.getPerkName(n),s=this.getPerkName(i);return a.localeCompare(s)}),this.configService.configuration.pipe((0,x.Q)(this.ngUnsubscribe)).subscribe(n=>{if(n.armorRequirements.length>4&&n.selectedExotics.length>0&&n.selectedExotics[0]!==T.Bi)return void this.configService.modifyConfiguration(s=>{s.armorRequirements=s.armorRequirements.slice(0,4)});const a=[];for(n.selectedExotics&&n.selectedExotics.length>0&&n.selectedExotics[0]!=T.Bi&&a.push({type:ae.SlotTypeExotic,hash:n.selectedExotics[0]}),n.armorRequirements.forEach(function(){var s=(0,_.A)(function*(l){if("perk"in l)a.push({type:ae.SlotTypePerk,hash:l.perk});else if("gearSetHash"in l){const m=n.armorRequirements.filter(y=>"gearSetHash"in y&&y.gearSetHash===l.gearSetHash).length,p={type:ae.SlotTypeGearset,hash:l.gearSetHash};a.push(p);const f=yield e.itemIconService.getGearsetPerkCached(l.gearSetHash,m);p.icon=f?.displayProperties.icon,p.name=f?.displayProperties.name}});return function(l){return s.apply(this,arguments)}}());a.length<5;)a.push({type:ae.SlotTypeEmpty,hash:0});this.slots=a})}onPerkSelect(e,n){this.configService.modifyConfiguration(i=>{i.armorRequirements.length<5&&i.armorRequirements.push({perk:n})})}removePerk(e){this.hoveredPerkIndex=null,this.configService.modifyConfiguration(n=>{const i=n.armorRequirements.findIndex(a=>"perk"in a&&a.perk===e.hash);n.armorRequirements.splice(i,1)})}getPerkName(e){let n;for(const i in d.zJ)if(d.zJ[i]===e){n=i;break}return void 0===n?"Unknown":d.Nl[n]?d.Nl[n]:"Unknown"}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(E),t.rXU($e))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-modslot-visualization"]],decls:8,vars:1,consts:[[1,"modslot-visualization-flex"],[1,"modslot-visualization-description"],[1,"modslot-title"],[1,"modslot-desc"],[1,"modslot-row"],[4,"ngFor","ngForOf"],[1,"modslot",3,"ngClass"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"modslot-icon","exotic",3,"itemHash"],["loading","lazy","alt","Gearset",1,"modslot-icon","gearset",3,"src","matTooltip"],[1,"perk-slot-wrapper",3,"matTooltip","mouseenter","mouseleave","click"],[1,"modslot-icon","perk",3,"itemHash"],["class","perk-x-overlay",4,"ngIf"],[1,"perk-x-overlay"],[1,"perk-x"],["src","assets/icons/empty_modslot.png","alt","Empty Modslot",1,"modslot-icon","empty"],[4,"ngIf"],["mat-stroked-button","",1,"perk-menu-btn",3,"matMenuTriggerFor"],[2,"display","flex","align-items","center"],[1,"modslot-select-scroll-menu"],["perkMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],[2,"width","24px","height","24px","margin-right","8px",3,"itemHash"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.EFF(3,"Mod Slot Configuration"),t.k0s(),t.j41(4,"div",3),t.EFF(5,"Shows your currently selected exotic, gearset, and perk slots. Click a slot to remove it or add a new perk."),t.k0s()(),t.j41(6,"div",4),t.DNE(7,Yl,7,7,"ng-container",5),t.k0s()()),2&n&&(t.R7$(7),t.Y8G("ngForOf",i.slots))},styles:[".modslot-visualization-flex[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;gap:24px;justify-content:center}.modslot-visualization-description[_ngcontent-%COMP%]{min-width:170px;max-width:220px;display:flex;flex-direction:column;align-items:flex-end;justify-content:flex-start;padding-top:6px;padding-right:8px}.modslot-title[_ngcontent-%COMP%]{font-weight:600;font-size:1.08em;color:#cddcef;margin-bottom:2px;text-align:right}.modslot-desc[_ngcontent-%COMP%]{font-size:.97em;color:#b0b8c7;text-align:right}.perk-slot-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;width:48px;height:48px;cursor:pointer}.perk-x-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:2.2em;background:rgba(200,0,0,.55);border-radius:8px;pointer-events:none;z-index:2;font-weight:700;text-shadow:0 0 4px #000,0 0 2px #000}.modslot-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:12px;margin-bottom:25px}.modslot[_ngcontent-%COMP%]{position:relative;width:56px;height:56px;display:flex;flex-direction:column;align-items:center}.modslot-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:8px;box-shadow:0 2px 8px #00000026}.modslot-icon.exotic[_ngcontent-%COMP%]{border:2px solid gold}.modslot-icon.gearset[_ngcontent-%COMP%]{border:2px solid #4caf50}.modslot-icon.empty[_ngcontent-%COMP%]{opacity:.5;border:1px dashed #aaa}.perk-dropdown[_ngcontent-%COMP%]{width:48px;margin-top:4px}.blocked[_ngcontent-%COMP%]{opacity:.7}  .modslot-select-scroll-menu{overflow-y:auto;max-height:300px!important}"]})}}return o})();function Ll(o,r){if(1&o&&(t.j41(0,"mat-button-toggle",6),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.Y8G("value",e),t.R7$(1),t.JRh(e)}}function Hl(o,r){if(1&o&&(t.j41(0,"mat-button-toggle",7),t.EFF(1),t.k0s()),2&o){const e=r.$implicit,n=t.XpG();t.Y8G("value",e)("disabled",e>n.total),t.R7$(1),t.JRh(e)}}function Ul(o,r){1&o&&(t.j41(0,"div",8),t.EFF(1,"Major mods cannot exceed total mods."),t.k0s())}const xn=function(){return[0,1,2,3,4,5]};let qt,zl=(()=>{class o{get total(){return this.config.readonlyConfigurationSnapshot.statModLimits.maxMods}set total(e){e=Math.max(0,Math.min(5,e)),this.config.modifyConfiguration(n=>{n.statModLimits.maxMods=e,n.statModLimits.maxMajorMods>e&&(n.statModLimits.maxMajorMods=e)})}get major(){return this.config.readonlyConfigurationSnapshot.statModLimits.maxMajorMods}set major(e){e=Math.max(0,Math.min(this.total,e)),this.config.modifyConfiguration(n=>{n.statModLimits.maxMajorMods=e})}constructor(e){this.config=e}onTotalChange(e){this.total=e}onMajorChange(e){this.major=e}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(E))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-mod-limit-segmented"]],decls:12,vars:7,consts:[[1,"mod-limit-segmented"],[1,"segmented-group"],["exclusive","",3,"value","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","error",4,"ngIf"],[3,"value"],[3,"value","disabled"],[1,"error"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"label"),t.EFF(3,"Stat mods to be placed:"),t.k0s(),t.j41(4,"mat-button-toggle-group",2),t.bIt("change",function(s){return i.onTotalChange(s.source.value)}),t.DNE(5,Ll,2,2,"mat-button-toggle",3),t.k0s()(),t.j41(6,"div",1)(7,"label"),t.EFF(8,"Maxmimum amount of Major Mods:"),t.k0s(),t.j41(9,"mat-button-toggle-group",2),t.bIt("change",function(s){return i.onMajorChange(s.source.value)}),t.DNE(10,Hl,2,3,"mat-button-toggle",4),t.k0s()(),t.DNE(11,Ul,2,0,"div",5),t.k0s()),2&n&&(t.R7$(4),t.Y8G("value",i.total),t.R7$(1),t.Y8G("ngForOf",t.lJ4(5,xn)),t.R7$(4),t.Y8G("value",i.major),t.R7$(1),t.Y8G("ngForOf",t.lJ4(6,xn)),t.R7$(1),t.Y8G("ngIf",i.major>i.total))},dependencies:[R.Sq,R.bT,$t.ec,$t.pc],styles:[".mod-limit-segmented[_ngcontent-%COMP%]{display:flex;gap:32px;align-items:flex-start;justify-content:center;margin:0 auto;width:-moz-fit-content;width:fit-content}.segmented-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:4px}.error[_ngcontent-%COMP%]{color:#e57373;font-size:.9em}"]})}}return o})(),Xl=(()=>{class o{constructor(){}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-privacy-policy"]],decls:122,vars:0,consts:[[1,"privacy-policy-container"],[1,"privacy-policy-content"],[1,"last-updated"],["href","https://github.com/Mijago/D2ArmorPicker/issues","target","_blank","rel","noopener"],[1,"acknowledgment"],["href","https://www.bungie.net/en/View/privacypolicy","target","_blank","rel","noopener"],["href","https://openreplay.com/privacy","target","_blank","rel","noopener"],["href","https://sentry.io/privacy/","target","_blank","rel","noopener"],[1,"back-to-login"],["routerLink","/",1,"back-link"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"h1"),t.EFF(3,"Privacy Policy"),t.k0s(),t.j41(4,"p",2),t.EFF(5,"Last Updated: February 11, 2026"),t.k0s(),t.j41(6,"section")(7,"h2"),t.EFF(8,"Introduction"),t.k0s(),t.j41(9,"p"),t.EFF(10," Welcome to D2ArmorPicker. This Privacy Policy explains how this service collects and uses your personal information. D2ArmorPicker is committed to being transparent about data practices. "),t.k0s()(),t.j41(11,"section")(12,"h2"),t.EFF(13,"Information We Collect"),t.k0s(),t.j41(14,"h3"),t.EFF(15,"Personal Information"),t.k0s(),t.j41(16,"p"),t.EFF(17,"When you use D2ArmorPicker, we may collect the following types of information:"),t.k0s(),t.j41(18,"ul")(19,"li")(20,"strong"),t.EFF(21,"Bungie Account Information:"),t.k0s(),t.EFF(22," Your Bungie username and associated game data when you authenticate with our service"),t.k0s(),t.j41(23,"li")(24,"strong"),t.EFF(25,"IP Address:"),t.k0s(),t.EFF(26," Your IP address for analytics purposes"),t.k0s(),t.j41(27,"li")(28,"strong"),t.EFF(29,"Usage Data:"),t.k0s(),t.EFF(30," Information about how you interact with our service, including pages visited and features used"),t.k0s()(),t.j41(31,"h3"),t.EFF(32,"Destiny 2 Game Data"),t.k0s(),t.j41(33,"p"),t.EFF(34," When you connect your Bungie account, this service accesses your Destiny 2 character information, armor pieces, and related game data through the Bungie API. This information is used solely to provide armor optimization services. "),t.k0s()(),t.j41(35,"section")(36,"h2"),t.EFF(37,"How We Use Your Information"),t.k0s(),t.j41(38,"p"),t.EFF(39,"The collected information is used for the following purposes:"),t.k0s(),t.j41(40,"ul")(41,"li"),t.EFF(42,"To provide and maintain services"),t.k0s(),t.j41(43,"li"),t.EFF(44,"To authenticate your identity and ensure access to your game data"),t.k0s(),t.j41(45,"li"),t.EFF(46,"To analyze usage patterns and improve the service"),t.k0s(),t.j41(47,"li"),t.EFF(48,"To troubleshoot technical issues and provide support"),t.k0s()()(),t.j41(49,"section")(50,"h2"),t.EFF(51,"Data Storage and Security"),t.k0s(),t.j41(52,"p"),t.EFF(53," Game data retrieved from the Bungie API is processed in real-time and may be cached temporarily to improve performance. Sensitive account credentials are not stored. "),t.k0s(),t.j41(54,"p"),t.EFF(55,"We take reasonable measures to protect your information from unauthorized access, use, or disclosure."),t.k0s(),t.j41(56,"p"),t.EFF(57,"Information of usage patterns, errors and activity may be collected to improve the service."),t.k0s()(),t.j41(58,"section")(59,"h2"),t.EFF(60,"Data Sharing"),t.k0s(),t.j41(61,"p"),t.EFF(62," Your personal information is not sold, traded, or otherwise transferred to third parties except in the following circumstances: "),t.k0s(),t.j41(63,"ul")(64,"li"),t.EFF(65,"When required by law or to comply with legal processes"),t.k0s(),t.j41(66,"li"),t.EFF(67,"To protect the rights, privacy, safety, or property of this service"),t.k0s()(),t.j41(68,"p"),t.EFF(69," Third-party services may be used for analytics and error tracking. These services are bound by their own privacy policies and data processing agreements. "),t.k0s()(),t.j41(70,"section")(71,"h2"),t.EFF(72,"Cookies and Local Storage"),t.k0s(),t.j41(73,"p"),t.EFF(74," This service uses browser local storage to save your preferences, settings, and temporary data to enhance your experience. This information remains on your device and can be cleared through your browser settings. "),t.k0s()(),t.j41(75,"section")(76,"h2"),t.EFF(77,"Third-Party Links"),t.k0s(),t.j41(78,"p"),t.EFF(79," This service may contain links to third-party websites or services. D2ArmorPicker is not responsible for the privacy practices of these external sites. You are encouraged to review their privacy policies. "),t.k0s()(),t.j41(80,"section")(81,"h2"),t.EFF(82,"Changes to This Privacy Policy"),t.k0s(),t.j41(83,"p"),t.EFF(84,' This Privacy Policy may be updated from time to time. You will be notified of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date. '),t.k0s()(),t.j41(85,"section")(86,"h2"),t.EFF(87,"Contact Us"),t.k0s(),t.j41(88,"p"),t.EFF(89," If you have any questions about this Privacy Policy or data practices, please reach out through the following channels: "),t.k0s(),t.j41(90,"ul")(91,"li"),t.EFF(92,"GitHub Issues: "),t.j41(93,"a",3),t.EFF(94,"D2ArmorPicker Issues"),t.k0s()(),t.j41(95,"li"),t.EFF(96,"Discord Community: Available through the help section"),t.k0s()()(),t.j41(97,"section",4)(98,"h2"),t.EFF(99,"Bungie.net API"),t.k0s(),t.j41(100,"p"),t.EFF(101," This service uses the Bungie.net API. Bungie's Privacy Policy applies to data accessed through their API. You can review Bungie's Privacy Policy at "),t.j41(102,"a",5),t.EFF(103,"https://www.bungie.net/en/View/privacypolicy"),t.k0s(),t.EFF(104,". "),t.k0s(),t.j41(105,"h2"),t.EFF(106,"OpenReplay"),t.k0s(),t.j41(107,"p"),t.EFF(108," This service uses OpenReplay for session replay and analytics. OpenReplay's Privacy Policy applies to data collected through their services. You can review OpenReplay's Privacy Policy at "),t.j41(109,"a",6),t.EFF(110,"https://openreplay.com/privacy"),t.k0s(),t.EFF(111,". "),t.k0s(),t.j41(112,"h2"),t.EFF(113,"Sentry"),t.k0s(),t.j41(114,"p"),t.EFF(115," This service uses Sentry for error tracking and monitoring. Sentry's Privacy Policy applies to data collected through their services. You can review Sentry's Privacy Policy at "),t.j41(116,"a",7),t.EFF(117,"https://sentry.io/privacy/"),t.k0s(),t.EFF(118,". "),t.k0s()(),t.j41(119,"div",8)(120,"a",9),t.EFF(121,"\u2190 Back"),t.k0s()()()())},dependencies:[st.Wk],styles:[".privacy-policy-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.privacy-policy-content[_ngcontent-%COMP%]{line-height:1.6;color:#333}.privacy-policy-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1976d2;border-bottom:2px solid #1976d2;padding-bottom:10px;margin-bottom:20px}.privacy-policy-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#424242;margin-top:30px;margin-bottom:15px;border-left:4px solid #1976d2;padding-left:12px}.privacy-policy-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#616161;margin-top:20px;margin-bottom:10px}.privacy-policy-content[_ngcontent-%COMP%]   .last-updated[_ngcontent-%COMP%]{font-style:italic;color:#666;margin-bottom:30px}.privacy-policy-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:15px;text-align:justify}.privacy-policy-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:15px;padding-left:20px}.privacy-policy-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.privacy-policy-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1976d2}.privacy-policy-content[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{margin-bottom:25px}.privacy-policy-content[_ngcontent-%COMP%]   section.acknowledgment[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:20px;border-radius:8px;border-left:4px solid #ff9800;margin-top:40px}.privacy-policy-content[_ngcontent-%COMP%]   section.acknowledgment[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ff9800;border-left-color:#ff9800;margin-top:0}.privacy-policy-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1976d2;text-decoration:none}.privacy-policy-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.privacy-policy-content[_ngcontent-%COMP%]   .back-to-login[_ngcontent-%COMP%]{margin-top:40px;padding-top:20px;border-top:1px solid #e0e0e0}.privacy-policy-content[_ngcontent-%COMP%]   .back-to-login[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;background-color:#1976d2;color:#fff;text-decoration:none;border-radius:4px;transition:background-color .3s ease}.privacy-policy-content[_ngcontent-%COMP%]   .back-to-login[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]:hover{background-color:#1565c0;text-decoration:none}@media (prefers-color-scheme: dark){.privacy-policy-content[_ngcontent-%COMP%]{color:#e0e0e0}.privacy-policy-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#64b5f6;border-bottom-color:#64b5f6}.privacy-policy-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#bdbdbd;border-left-color:#64b5f6}.privacy-policy-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#9e9e9e}.privacy-policy-content[_ngcontent-%COMP%]   .last-updated[_ngcontent-%COMP%]{color:#999}.privacy-policy-content[_ngcontent-%COMP%]   section.acknowledgment[_ngcontent-%COMP%]{background-color:#2e2e2e;border-left-color:#ffb74d}.privacy-policy-content[_ngcontent-%COMP%]   section.acknowledgment[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffb74d;border-left-color:#ffb74d}.privacy-policy-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#64b5f6}.privacy-policy-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#64b5f6!important}.privacy-policy-content[_ngcontent-%COMP%]   .back-to-login[_ngcontent-%COMP%]{border-top-color:#424242}.privacy-policy-content[_ngcontent-%COMP%]   .back-to-login[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{background-color:#64b5f6}.privacy-policy-content[_ngcontent-%COMP%]   .back-to-login[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]:hover{background-color:#42a5f5}}@media (max-width: 768px){.privacy-policy-container[_ngcontent-%COMP%]{padding:15px}.privacy-policy-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.privacy-policy-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem;margin-top:25px}.privacy-policy-content[_ngcontent-%COMP%]   section.acknowledgment[_ngcontent-%COMP%]{padding:15px}}"]})}}return o})();function ze(o){try{if(qt.setMetadata("version",`${K.c.version}`),!o)return;const r=`${o.displayName}(I${o.membershipId}T${o.membershipType})`;qt.identify(r),qt.setMetadata("bungieGlobalDisplayName",o.bungieGlobalDisplayName),qt.setMetadata("bungieGlobalDisplayNameCode",(o.bungieGlobalDisplayNameCode??-1).toString()),qt.setMetadata("membershipType",o.membershipType.toString()),qt.setMetadata("applicableMembershipTypes",JSON.stringify(o.applicableMembershipTypes)),h.gV({id:r,username:o.displayName,email:o.bungieGlobalDisplayName,extra:{membershipId:o.membershipId,membershipType:o.membershipType,bungieGlobalDisplayNameCode:o.bungieGlobalDisplayNameCode??-1,applicableMembershipTypes:o.applicableMembershipTypes,iconPath:o.iconPath}})}catch(r){console.error("Error identifying user with tracker",r)}}try{qt=new tc.Ay({projectKey:K.c.open_replay_project_key}),qt.start(),qt.use((0,ec.A)({}));let r=JSON.parse(localStorage.getItem("user-membershipInfo")||"null");r&&console.log("Found cached membership info, using it to identify user in OpenReplay"),ze(r)}catch(o){console.error("Failed to initialize OpenReplay tracker",o)}const Wl=[{path:"",component:ao,canActivate:[Rn],children:[{path:"",component:mn},{path:"help",component:Nr},{path:"cluster",component:Hr},{path:"investigate",component:fs},{path:"account",component:Ps}]},{path:"privacy-policy",component:Xl},{path:"login",component:Tn,canActivate:[jn]},{path:"authenticate",component:Dn},{path:"**",redirectTo:"/"}];let ql=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o,bootstrap:[In]})}static{this.\u0275inj=t.G2t({providers:[{provide:t.zcH,useValue:yt.JF({showDialog:!1})},{provide:t.zcH,useValue:yt.JF()},{provide:yt.jP,deps:[st.Ix]},{provide:t.hnV,useFactory:()=>()=>{},deps:[yt.jP],multi:!0}],imports:[R.MD,Ks,g.Bb,An.wb,Le.q1,st.iI.forRoot(Wl,{useHash:!1}),Ge.FQ,Ee.RH,Q.LZ.forRoot({level:K.c.production?Q.OS.ERROR:Q.OS.DEBUG,serverLogLevel:Q.OS.ERROR})]})}}return o})();t.wjB(nn,function(){return[z.RN,z.m2,z.MM,z.Lc,z.dh,Co,an,on,No,rn,gi,Li,Ar]},[]),t.wjB(We,function(){return[R.bT,lt.$z,z.RN,z.YY,z.m2,z.MM,z.dh,pt.oV,Re.HM,Tt.An,$t.ec,$t.pc,Wt.uI,Wt.gq,yn,bn]},function(){return[R.Jj,R.QX]}),t.wjB(an,function(){return[lt.$z,Cn,vn,zl]},[]),t.wjB(on,function(){return[R.YU,R.Sq,R.bT,lt.$z,Ht.rl,Ht.nJ,ge.VO,he.wT,oe.sG,pt.oV,ye.LG,_e,Fs]},[]),t.wjB(rn,function(){return[R.Sq,R.bT,lt.$z,oe.sG,it.Zl,it.tL,it.ji,it.cC,it.YV,it.iL,it.KS,it.$R,it.YZ,it.NB,pt.oV,$t.ec,$t.pc,ye.LG,ue,pe,_e,As]},[]),t.wjB(cn,function(){return[R.Sq,R.bT,lt.$z,lt.iY,pt.oV,Tt.An,ye.LG,ue,pe,os,_e,hn]},function(){return[R.QX,ln]}),t.wjB(mn,function(){return[nn,We]},[]),t.wjB(un,function(){return[R.Sq,R.bT]},function(){return[R.Jj,Zs,Qs]}),t.wjB(re,function(){return[R.bT,lt.$z,bt.tx,bt.BI,bt.Yi,bt.E7,dn]},[]),t.wjB(Js,function(){return[R.Sq,R.bT,pe,_e]},function(){return[R.QX]}),t.wjB(yn,function(){return[R.Sq,R.bT,lt.$z,lt.iY,z.RN,pt.oV,Tt.An,ye.LG,Wt.uI,Wt.gq,ue,pn,_e,hn]},[]),t.wjB(bn,function(){return[R.bT,it.Zl,it.tL,it.ji,it.cC,it.YV,it.iL,it.KS,it.$R,it.YZ,it.NB,pt.oV,Tt.An,Pe.B4,Pe.aE,Ne.iy,ue,cn,pn]},[]),t.wjB(Cn,function(){return[R.Sq,R.bT,oe.sG,pe,Tl]},[]),t.wjB(vn,function(){return[R.YU,R.Sq,R.bT,R.ux,R.e1,R.fG,lt.$z,pt.oV,Tt.An,Te.kk,Te.fb,Te.Cp,_e]},[]);var Jl=C(7006);if(K.c.sentryDsn&&""!==K.c.sentryDsn.trim())try{yt.Ts({dsn:K.c.sentryDsn,environment:K.c.version,sendDefaultPii:!0,integrations:[Jl.d({levels:["warn","error","log","info","debug"]})],enableLogs:!0})}catch(o){console.warn("Failed to initialize Sentry:",o)}else console.log("Sentry DSN not provided, skipping Sentry initialization");K.c.production&&(0,t.SmG)(),g.sG().bootstrapModule(ql).catch(o=>console.error(o))}},Mt=>{Mt.O(0,[502],()=>Mt(Mt.s=4581)),Mt.O()}]);
//# sourceMappingURL=main.35ce2ae254bb7d48.js.map